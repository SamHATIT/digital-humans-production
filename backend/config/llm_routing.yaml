# LLM Router Configuration - Digital Humans Platform
# Updated: 2026-02-13 — Marcus → Opus 4.6, agent routing map

default_routing:
  simple: local/mistral:7b-instruct
  medium: anthropic/claude-haiku
  complex: anthropic/claude-sonnet
  critical: anthropic/claude-opus

# Agent → complexity mapping (used by _select_provider)
agent_complexity_map:
  # SDS Core pipeline — Opus for architect, Sonnet for others
  pm: critical              # Sophie — BR extraction (uses Opus)
  architect: critical       # Marcus — design, WBS, gap analysis → Opus 4.6
  business_analyst: complex # Olivia — UC generation
  research_analyst: complex # Emma — analyze, validate, SDS
  # Expert agents — all Sonnet 4.5
  devops: complex           # Jordan
  admin: complex            # Raj
  qa: complex               # Elena (alias)
  qa_tester: complex        # Elena (code agent_type)
  data: complex             # Aisha (alias)
  data_migration: complex   # Aisha (code agent_type)
  trainer: complex          # Lucas
  developer_apex: complex   # Diego (alias)
  apex_developer: complex   # Diego (code agent_type)
  developer_lwc: complex    # Zara (alias)
  lwc_developer: complex    # Zara (code agent_type)

pricing:
  local/mistral:7b-instruct:
    input: 0.0
    output: 0.0
  local/mistral-nemo:
    input: 0.0
    output: 0.0
  anthropic/claude-haiku:
    input: 1.0
    output: 5.0
  anthropic/claude-sonnet:
    input: 3.0
    output: 15.0
  anthropic/claude-opus:
    input: 5.0
    output: 25.0

providers:
  ollama:
    enabled: true
    base_url: "http://localhost:11434"
    timeout_seconds: 300
    models:
      mistral:7b-instruct:
        context_length: 32768
      mistral-nemo:
        context_length: 32768
  anthropic:
    enabled: true
    api_key_env: "ANTHROPIC_API_KEY"
    timeout_seconds: 600
    models:
      claude-haiku:
        model_id: "claude-haiku-4-5-20251001"
      claude-sonnet:
        model_id: "claude-sonnet-4-5-20250929"
      claude-opus:
        model_id: "claude-opus-4-6"
  openai:
    enabled: true
    api_key_env: "OPENAI_API_KEY"
