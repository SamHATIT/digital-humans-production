{"project_summary" : "A large automotive dealership network seeks to modernize and automate their sales pipeline management. The project encompasses new and used vehicle sales, trade-in management, multi-channel lead tracking, advanced forecasting, and personalized offer configuration including financing and insurance products.", "use_cases" : [{"id": "UC-001-01", "actor": "Website Visitor / System", "title": "Capture Lead from Web-to-Lead Form Submission", "main_flow": ["Website visitor navigates to the contact/inquiry form on company website", "Visitor fills out form fields including First Name, Last Name, Company, Email, Phone, and Lead Source (auto-populated as 'Website')", "Visitor submits the form", "System validates email address format using validation rule", "System creates new Lead record in Salesforce with status 'New - Not Contacted'", "System executes lead assignment rule to route lead to appropriate sales rep or queue", "System triggers auto-response email to prospect using configured email template", "System stamps Lead record with Created Date, Lead Source = 'Web', and Original Campaign if applicable", "Assigned sales rep receives notification of new lead assignment"], "preconditions": ["Web-to-Lead form is configured and active in Salesforce", "Lead assignment rules are configured and active", "Email validation rules are in place", "Default lead status picklist values are defined", "Auto-response email templates are created"], "postconditions": ["New Lead record exists in Salesforce with all captured information", "Lead is assigned to sales rep or queue", "Prospect receives confirmation email", "Lead appears in assigned user's My Leads view", "Activity history shows web form submission timestamp"], "alternative_flows": ["ALT-01: If email validation fails, system displays error message and prevents form submission", "ALT-02: If lead assignment rule criteria not met, lead is assigned to default lead owner specified in Lead Settings", "ALT-03: If duplicate lead detected based on email, system creates new lead record but flags for duplicate review", "ALT-04: If required fields are missing, form displays inline validation errors before submission"], "acceptance_criteria": ["Lead record is created within 5 seconds of form submission", "All form fields map correctly to corresponding Lead fields", "Lead Source field is automatically populated as 'Web'", "Email validation rule prevents invalid email formats from being submitted", "Assignment rule executes and assigns lead to correct owner 100% of the time", "Auto-response email is sent within 2 minutes of form submission", "Lead status is set to 'New - Not Contacted' by default", "System captures IP address and referrer URL in custom fields if configured"], "salesforce_components": {"fields": ["Lead.FirstName", "Lead.LastName", "Lead.Company", "Lead.Email", "Lead.Phone", "Lead.LeadSource", "Lead.Status", "Lead.OwnerId", "Lead.Website", "Lead.Description", "Lead.Referrer_URL__c", "Lead.IP_Address__c", "Lead.Form_Submission_Date__c"], "objects": ["Lead", "User", "Queue", "EmailTemplate", "Campaign"], "automation": ["Web-to-Lead configuration", "Lead Assignment Rules", "Auto-Response Rules", "Validation Rule on Lead.Email", "Record-Triggered Flow: Lead Auto-Response Handler"], "ui_components": ["Web-to-Lead HTML form", "Lead List Views", "Lead Detail Page Layout", "Email Alert notifications"]}}, {"id": "UC-001-02", "actor": "Sales Representative", "title": "Sales Rep Manually Creates Lead from Phone Call", "main_flow": ["Sales rep receives inbound phone call from prospect", "Sales rep navigates to Leads tab in Salesforce", "Sales rep clicks 'New' button to create new Lead record", "Sales rep enters prospect information: First Name, Last Name, Company, Phone, Email", "Sales rep selects Lead Source as 'Phone Inquiry'", "Sales rep sets Lead Status to 'New - Contacted'", "Sales rep enters call notes in Description field", "Sales rep logs completed call activity with subject, duration, and notes", "Sales rep saves Lead record", "System assigns Lead to sales rep as owner by default"], "preconditions": ["Sales rep has Create permission on Lead object", "Lead page layouts are configured with required fields", "Lead status picklist includes 'New - Contacted' value", "Phone call logging is enabled"], "postconditions": ["New Lead record exists with status 'New - Contacted'", "Completed call activity is logged on Lead timeline", "Lead is owned by sales rep who created it", "Lead appears in sales rep's My Leads view", "Last Activity Date is updated to current date"], "alternative_flows": ["ALT-01: If prospect requests callback, sales rep creates follow-up Task with due date", "ALT-02: If prospect mentions existing relationship, sales rep searches for duplicate before creating new Lead", "ALT-03: If call disconnects before gathering complete information, sales rep saves partial Lead with status 'Incomplete Information'", "ALT-04: If prospect is existing customer, sales rep converts search to Contact/Account instead of creating Lead"], "acceptance_criteria": ["Sales rep can create Lead record in under 2 minutes", "All required fields are enforced before save", "Lead Source 'Phone Inquiry' is available in picklist", "Call activity is automatically related to Lead record", "System prevents duplicate Lead creation by showing potential matches based on email/phone", "Lead Status defaults to 'New - Contacted' when manually created", "Sales rep is automatically set as Lead Owner", "Activity timeline shows call log immediately after save"], "salesforce_components": {"fields": ["Lead.FirstName", "Lead.LastName", "Lead.Company", "Lead.Phone", "Lead.Email", "Lead.LeadSource", "Lead.Status", "Lead.Description", "Lead.OwnerId", "Lead.LastActivityDate", "Task.Subject", "Task.CallDurationInSeconds", "Task.Description", "Task.WhoId"], "objects": ["Lead", "Task", "User", "DuplicateRecordSet", "DuplicateRecordItem"], "automation": ["Duplicate Matching Rules for Lead", "Validation Rules on required fields", "Record-Triggered Flow: Update Last Activity Date"], "ui_components": ["Lead Detail Page Layout", "Lead Quick Action: New Lead", "Activity Timeline Component", "Log a Call Quick Action", "Duplicate Warning Component"]}}, {"id": "UC-001-03", "actor": "Email System / Salesforce Integration", "title": "System Creates Lead from Email-to-Lead Integration", "main_flow": ["Prospect sends email to designated company email address (e.g., sales@company.com)", "Email system forwards message to Salesforce email service address", "System parses email header and body to extract contact information", "System identifies sender email address as primary identifier", "System extracts name from email signature or 'From' field", "System creates Lead record with Email, Name, and Company (if available)", "System sets Lead Source to 'Email'", "System attaches original email as EmailMessage record related to Lead", "System executes lead assignment rules based on email content or routing", "Assigned sales rep receives notification with email content"], "preconditions": ["Email-to-Lead or Email-to-Case-to-Lead integration is configured", "Email service address is set up and active", "Lead assignment rules are active", "Email parsing rules are defined", "Spam filtering is enabled"], "postconditions": ["New Lead record exists with email as primary identifier", "Original email is attached and visible in Lead activity timeline", "Lead is assigned to appropriate sales rep or queue", "Email thread is tracked for future correspondence", "Lead status is set to 'New - Not Contacted'"], "alternative_flows": ["ALT-01: If sender email matches existing Lead, system updates existing record and logs email as activity", "ALT-02: If email is identified as spam by filters, system quarantines and does not create Lead", "ALT-03: If email lacks sufficient information, system creates Lead with minimal data and flags for review", "ALT-04: If email contains specific keywords, system assigns to specialized queue (e.g., 'Enterprise' queue for large company domains)", "ALT-05: If email is auto-reply or out-of-office, system ignores and does not create Lead"], "acceptance_criteria": ["Lead is created within 10 minutes of email receipt", "Email address is correctly captured in Lead.Email field", "Lead Source is automatically set to 'Email'", "Original email content is preserved and accessible from Lead record", "System correctly identifies and prevents duplicate Lead creation for same email address", "Assignment rules route leads based on email domain, content keywords, or other criteria", "Spam emails are filtered with 95% accuracy", "Email-to-Lead conversion rate is tracked in reporting"], "salesforce_components": {"fields": ["Lead.Email", "Lead.FirstName", "Lead.LastName", "Lead.Company", "Lead.LeadSource", "Lead.Status", "Lead.Description", "Lead.OwnerId", "Lead.Email_Domain__c", "EmailMessage.TextBody", "EmailMessage.Subject", "EmailMessage.FromAddress"], "objects": ["Lead", "EmailMessage", "User", "Queue", "EmailServicesAddress", "EmailServicesFunction"], "automation": ["Email-to-Lead service configuration", "Lead Assignment Rules with email-based criteria", "Apex Email Handler class for parsing", "Record-Triggered Flow: Email Lead Enrichment", "Duplicate Rules for Lead matching on Email"], "ui_components": ["Email-to-Lead Settings page", "Lead Detail Page with Email Messages related list", "Activity Timeline showing email thread"]}}, {"id": "UC-001-04", "actor": "Partner User", "title": "Partner Portal User Submits Lead via Partner Community", "main_flow": ["Partner user logs into Partner Community portal", "Partner user navigates to 'Register Lead' or 'Lead Submission' page", "Partner user completes lead registration form with prospect details", "Partner user enters Company, Contact Name, Email, Phone, and Opportunity Details", "Partner user selects Lead Source as 'Partner Referral'", "Partner user enters estimated deal size and timeframe", "Partner user submits lead registration form", "System validates all required fields are completed", "System creates Lead record with Partner Account relationship", "System sets Lead Status to 'Partner Submitted'", "System assigns lead to partner account manager or channel team queue", "System sends confirmation email to partner user", "System creates notification for internal channel manager"], "preconditions": ["Partner Community is enabled and configured", "Partner user has active portal license", "Lead registration form is available in Partner Community", "Partner lead assignment rules are configured", "Partner user has Create permission on Lead object"], "postconditions": ["New Lead record exists with Partner Account lookup populated", "Lead is assigned to appropriate channel manager or queue", "Partner user receives confirmation with lead registration number", "Lead appears in partner's 'My Registered Leads' view in portal", "Partner receives credit for lead registration in partner scorecard", "Internal team is notified of new partner lead"], "alternative_flows": ["ALT-01: If lead already exists in system, partner receives duplicate warning and option to add notes to existing lead", "ALT-02: If partner submits lead outside their territory, system routes to territory owner with partner credit notation", "ALT-03: If required fields missing, inline validation prevents submission until corrected", "ALT-04: If partner requests co-selling opportunity, system creates related Opportunity record and assigns to both partner and direct sales rep", "ALT-05: Partner saves draft lead registration and completes later"], "acceptance_criteria": ["Partner can submit lead through portal in under 3 minutes", "Lead Source is automatically set to 'Partner Referral'", "Partner Account relationship is correctly established on Lead record", "Partner user can view status updates on their submitted leads", "Duplicate detection shows partner existing leads with same company/email", "Partner receives automated confirmation email within 5 minutes", "Channel manager receives notification within 10 minutes", "Partner lead registration is tracked in partner performance reports", "System enforces partner territory rules if configured"], "salesforce_components": {"fields": ["Lead.FirstName", "Lead.LastName", "Lead.Company", "Lead.Email", "Lead.Phone", "Lead.LeadSource", "Lead.Status", "Lead.Partner_Account__c", "Lead.Partner_User__c", "Lead.Estimated_Deal_Size__c", "Lead.Expected_Close_Timeframe__c", "Lead.Partner_Registration_Number__c", "Lead.Registration_Date__c"], "objects": ["Lead", "Account", "Contact", "User", "Queue", "Partner", "Opportunity"], "automation": ["Screen Flow: Partner Lead Registration", "Lead Assignment Rules for partner leads", "Record-Triggered Flow: Partner Lead Notification", "Process Builder: Partner Credit Assignment", "Validation Rules for partner-specific fields"], "ui_components": ["Experience Cloud Partner Portal", "Lightning Web Component: Lead Registration Form", "Partner Lead List View component", "Lead Status tracking component", "Partner Dashboard with lead metrics"]}}, {"id": "UC-001-05", "actor": "Marketing Automation Platform / API Integration", "title": "Marketing Automation System Syncs Lead via API Integration", "main_flow": ["Prospect fills out gated content form on marketing platform (e.g., whitepaper download, webinar registration)", "Marketing platform captures prospect information and engagement data", "Marketing platform calculates lead score based on engagement and demographic data", "Marketing platform initiates API call to Salesforce with lead data payload", "Salesforce API receives lead data including standard and custom fields", "System checks for existing Lead or Contact with matching email address", "System creates new Lead record with all mapped fields populated", "System sets Lead Source to specific campaign source (e.g., 'Content Download', 'Webinar')", "System associates Lead with corresponding Salesforce Campaign", "System populates Lead Score field with value from marketing platform", "System executes lead assignment rules based on score, geography, or other criteria", "System updates Last Marketing Activity Date timestamp", "Assigned sales rep receives notification if lead score exceeds threshold"], "preconditions": ["API integration between marketing platform and Salesforce is configured", "API user has appropriate permissions on Lead object", "Field mapping between systems is defined", "Lead assignment rules are active", "Campaign sync is configured"], "postconditions": ["Lead record exists in Salesforce with complete marketing data", "Lead is associated with appropriate Campaign", "Lead score is populated and visible to sales team", "Marketing activity history is preserved", "Lead is assigned based on score and routing rules", "Bi-directional sync maintains data consistency between systems"], "alternative_flows": ["ALT-01: If matching Lead exists, system updates existing record with new information and logs activity", "ALT-02: If matching Contact exists, system updates Contact and creates Campaign Member instead of Lead", "ALT-03: If API call fails, marketing platform queues for retry with exponential backoff", "ALT-04: If lead score below threshold, lead is assigned to nurture queue instead of sales rep", "ALT-05: If required Salesforce fields missing from payload, system uses default values or triggers error handling", "ALT-06: If duplicate lead detected across both systems, system merges data and maintains single source of truth"], "acceptance_criteria": ["Lead is created in Salesforce within 5 minutes of form submission in marketing platform", "100% of mapped fields sync correctly between systems", "Lead Score field accurately reflects marketing platform calculation", "Campaign association is correctly established", "Duplicate detection prevents creation of multiple leads for same email", "API integration handles errors gracefully with retry logic", "Lead assignment occurs based on score thresholds (e.g., score >70 to sales, <70 to nurture)", "Marketing activity timeline shows all engagement history", "Integration logs API calls for troubleshooting", "System maintains GDPR/privacy compliance for synced data"], "salesforce_components": {"fields": ["Lead.FirstName", "Lead.LastName", "Lead.Company", "Lead.Email", "Lead.Phone", "Lead.LeadSource", "Lead.Status", "Lead.Lead_Score__c", "Lead.Marketing_Qualified__c", "Lead.Last_Marketing_Activity_Date__c", "Lead.Content_Downloaded__c", "Lead.Webinar_Attended__c", "Lead.Email_Engagement_Score__c", "Lead.Behavioral_Score__c", "Lead.Demographic_Score__c", "Lead.Marketing_Platform_ID__c"], "objects": ["Lead", "Contact", "Campaign", "CampaignMember", "User", "Queue", "IntegrationLog__c"], "automation": ["REST API endpoint for lead creation/update", "Record-Triggered Flow: Marketing Lead Routing", "Lead Assignment Rules with score-based criteria", "Apex Trigger: LeadMarketingSync for complex logic", "Platform Event: Marketing_Lead_Event__e for real-time sync", "Duplicate Rules with cross-system matching"], "ui_components": ["Lead Detail Page with Marketing Activity component", "Lead Score indicator on List Views", "Campaign Influence related list", "Marketing Timeline component", "Integration Status dashboard"]}}, {"id": "UC-002-01", "actor": "Sales Representative", "title": "Sales Rep Manually Updates Lead Status Through Qualification Stages", "main_flow": ["Sales Rep navigates to Lead record from list view or search", "Sales Rep reviews lead information including Company, Title, Email, Phone", "Sales Rep clicks Edit button on Lead detail page", "Sales Rep updates Lead Status picklist to next qualification stage (e.g., 'Working - Contacted')", "Sales Rep adds notes in Description field documenting qualification conversation", "Sales Rep updates Rating field based on qualification criteria (Hot/Warm/Cold)", "Sales Rep saves the Lead record", "System validates all required fields are populated", "System updates Last Modified Date and Last Modified By fields", "System displays success message confirming Lead status update", "System triggers any associated automation rules for the new status"], "preconditions": ["Sales Rep has Read and Edit permissions on Lead object", "Lead record exists with initial status 'Open - Not Contacted'", "Lead Status picklist values are configured with qualification stages", "Sales Rep is assigned as Lead Owner"], "postconditions": ["Lead Status is updated to new qualification stage", "Lead appears in appropriate list views filtered by new status", "Lead history tracking shows status change with timestamp and user", "Any workflow rules or Process Builder processes execute based on status change", "Lead Owner receives notification if configured in automation", "Lead no longer appears in 'My Unread Leads' view if previously unread"], "alternative_flows": ["ALT-01: If required fields are missing, system displays validation error and prevents save until corrected", "ALT-02: If Sales Rep selects 'Qualified' status, system prompts to convert Lead to Account/Contact/Opportunity", "ALT-03: If Sales Rep selects 'Unqualified' status, system requires Unqualified Reason in Description field", "ALT-04: Sales Rep uses inline editing from list view to update Lead Status for multiple leads simultaneously", "ALT-05: If lead assignment rule is active and 'Assign using active assignment rule' is checked, lead is reassigned to new owner based on criteria"], "acceptance_criteria": ["GIVEN a Lead with status 'Open - Not Contacted' WHEN Sales Rep updates status to 'Working - Contacted' THEN Lead Status field reflects new value and Last Modified Date is updated", "GIVEN a Lead being edited WHEN Sales Rep attempts to save without required fields THEN system displays field-level validation error messages", "GIVEN a Lead status change WHEN new status is 'Qualified' THEN system presents Lead Conversion dialog", "GIVEN multiple Leads selected in list view WHEN Sales Rep uses Change Status action THEN all selected Leads update to chosen status simultaneously", "GIVEN a Lead status update WHEN status changes from 'Open' to 'Working' THEN Lead History related list shows status change entry with user and timestamp", "GIVEN Lead Status picklist WHEN accessed from detail page edit THEN only statuses allowed by Lead process are displayed"], "salesforce_components": {"fields": ["Lead.Status", "Lead.Rating", "Lead.Description", "Lead.Company", "Lead.Title", "Lead.Email", "Lead.Phone", "Lead.OwnerId", "Lead.LastModifiedDate", "Lead.LastModifiedById", "Lead.IsUnreadByOwner"], "objects": ["Lead"], "automation": ["Lead Status picklist value configuration with qualification stages", "Validation Rule on Lead for required Description when Status = 'Unqualified'", "Record-Triggered Flow: Lead Status Change Notification", "Lead Assignment Rule for status-based reassignment", "Field History Tracking enabled on Lead.Status field"], "ui_components": ["Lead Detail Page Layout with Status field prominent", "Lead List Views filtered by Status (My Open Leads, My Working Leads, etc.)", "Inline Edit capability on Lead list views", "Lead Status path component showing qualification stages", "Quick Action: Change Lead Status"]}}, {"id": "UC-002-02", "actor": "System (Automated Process)", "title": "System Auto-Qualifies Lead Based on Engagement Score and Activity Criteria", "main_flow": ["Lead engages with marketing content (email open, link click, or web form submission)", "System captures engagement activity and creates Task or Campaign Member record", "Record-Triggered Flow detects new activity related to Lead", "Flow calculates cumulative Lead_Score__c based on scoring model (email open +5, link click +10, form submit +25)", "Flow evaluates if Lead_Score__c meets or exceeds qualification threshold (75 points)", "Flow checks additional qualification criteria: Company field populated, Title contains decision-maker keywords, Email domain is corporate", "If all criteria met, Flow updates Qualification_Criteria_Met__c to TRUE", "Flow updates Lead Status to 'Marketing Qualified Lead'", "Flow creates Task assigned to Lead Owner with subject 'Review Qualified Lead'", "Flow sends email notification to Lead Owner about newly qualified lead", "System logs all changes in Lead History"], "preconditions": ["Lead Scoring model is configured with point values for activities", "Custom field Lead_Score__c exists on Lead object", "Custom field Qualification_Criteria_Met__c (checkbox) exists on Lead object", "Record-Triggered Flow is active for Lead scoring calculation", "Minimum qualification score threshold is defined (e.g., 75 points)", "Lead has completed trackable activities (email opens, clicks, form submissions)"], "postconditions": ["Lead_Score__c field reflects cumulative engagement score", "Lead Status is updated to 'Marketing Qualified Lead'", "Qualification_Criteria_Met__c checkbox is checked", "Task is created and assigned to Lead Owner for follow-up", "Lead Owner receives email notification with lead details", "Lead appears in 'Marketing Qualified Leads' list view", "Lead is prioritized in Sales Rep's queue based on qualification"], "alternative_flows": ["ALT-01: If Lead_Score__c meets threshold but other criteria not met, Flow updates Status to 'Working - Nurturing' instead of 'Marketing Qualified Lead'", "ALT-02: If Lead is already converted, Flow skips processing and logs exception", "ALT-03: If Lead Owner is inactive user, Flow assigns Task to Default Lead Owner from Lead Settings", "ALT-04: If email notification fails, Flow logs error but continues processing status update", "ALT-05: For web-generated leads exceeding daily limit (500), system emails Default Lead Creator with lead information instead of creating record"], "acceptance_criteria": ["GIVEN a Lead with score 70 WHEN Lead clicks email link (+10 points) THEN Lead_Score__c updates to 80 and Status changes to 'Marketing Qualified Lead'", "GIVEN a Lead meeting score threshold WHEN Company field is blank THEN Status updates to 'Working - Nurturing' not 'Marketing Qualified Lead'", "GIVEN a Lead auto-qualified WHEN Flow executes THEN Task with subject 'Review Qualified Lead' is created and assigned to Lead Owner", "GIVEN a Lead auto-qualified WHEN Lead Owner is active THEN email notification is sent to Lead Owner email address", "GIVEN multiple engagement activities WHEN they occur within same transaction THEN Lead_Score__c calculates cumulative total correctly", "GIVEN a converted Lead WHEN scoring Flow triggers THEN no updates occur and no errors are thrown"], "salesforce_components": {"fields": ["Lead.Status", "Lead.Lead_Score__c", "Lead.Qualification_Criteria_Met__c", "Lead.Company", "Lead.Title", "Lead.Email", "Lead.OwnerId", "Lead.IsConverted", "Task.Subject", "Task.OwnerId", "Task.WhoId", "Task.ActivityDate"], "objects": ["Lead", "Task", "CampaignMember", "EmailMessage"], "automation": ["Record-Triggered Flow: Lead Scoring Calculator (after insert/update on Task, CampaignMember)", "Record-Triggered Flow: Auto-Qualify Lead (after update on Lead when Lead_Score__c changes)", "Formula Field: Lead.Is_Decision_Maker__c (checks Title for VP, Director, Manager keywords)", "Formula Field: Lead.Has_Corporate_Email__c (validates Email domain not gmail/yahoo/hotmail)", "Email Alert: Notify Lead Owner of Qualified Lead", "Process Builder or Flow: Create Follow-up Task on Lead Qualification"], "ui_components": ["Lead Detail Page with Lead Score gauge component", "Lead List View: Marketing Qualified Leads (filtered by Status)", "Custom Lightning Component: Lead Scoring Breakdown showing point sources", "Lead Path component highlighting qualification stages", "Dashboard widget: Leads by Score Range"]}}, {"id": "UC-002-03", "actor": "Sales Manager", "title": "Sales Manager Reviews and Adjusts Lead Qualification Criteria in Queue", "main_flow": ["Sales Manager navigates to Lead Queue 'Qualification Review Queue'", "System displays list of Leads with Status 'Pending Review' sorted by Lead_Score__c descending", "Sales Manager clicks on Lead record to review details", "Sales Manager reviews Lead_Score__c, engagement history, and qualification criteria", "Sales Manager reviews related Campaign Members and Task history", "Sales Manager evaluates if Lead meets company qualification standards", "Sales Manager updates Lead Status to 'Sales Qualified Lead' or 'Unqualified'", "Sales Manager enters review notes in Qualification_Notes__c field", "Sales Manager updates Manager_Review_Date__c to today's date", "If qualified, Sales Manager assigns Lead to appropriate Sales Rep using OwnerId field", "Sales Manager saves Lead record", "System removes Lead from Qualification Review Queue", "System sends notification to newly assigned Sales Rep if Lead is qualified"], "preconditions": ["Sales Manager has Read and Edit permissions on Lead object", "Sales Manager has access to Lead Queue 'Qualification Review Queue'", "Leads exist in queue with Status 'Pending Review'", "Custom field Qualification_Notes__c exists on Lead object", "Custom field Manager_Review_Date__c exists on Lead object"], "postconditions": ["Lead Status is updated to 'Sales Qualified Lead' or 'Unqualified'", "Qualification_Notes__c contains Manager's review comments", "Manager_Review_Date__c is populated with current date", "If qualified, Lead OwnerId is updated to assigned Sales Rep", "Lead is removed from Qualification Review Queue", "Assigned Sales Rep receives notification and Task for follow-up", "Lead appears in appropriate list view based on new status", "Manager dashboard metrics update to reflect reviewed lead count"], "alternative_flows": ["ALT-01: If Lead needs more information, Manager updates Status to 'Working - Nurturing' and assigns to SDR for additional research", "ALT-02: If Lead is unqualified, Manager selects Unqualified Reason from picklist and Lead is removed from active queues", "ALT-03: Manager uses Mass Transfer tool to reassign multiple qualified Leads to Sales Reps based on territory or product line", "ALT-04: Manager uses Lead List View inline editing to update Status for multiple Leads simultaneously without opening each record", "ALT-05: If Lead assignment rule is configured, Manager checks 'Assign using active assignment rule' to auto-assign based on criteria instead of manual selection"], "acceptance_criteria": ["GIVEN Leads in Qualification Review Queue WHEN Sales Manager accesses queue THEN Leads are sorted by Lead_Score__c in descending order", "GIVEN a Lead under review WHEN Manager updates Status to 'Sales Qualified Lead' THEN Qualification_Notes__c and Manager_Review_Date__c are required fields", "GIVEN a qualified Lead WHEN Manager assigns to Sales Rep THEN Sales Rep receives email notification with Lead details and next steps", "GIVEN multiple Leads selected WHEN Manager uses Mass Transfer THEN all selected Leads are reassigned to chosen Sales Rep and Status updates to 'Sales Qualified Lead'", "GIVEN a Lead marked Unqualified WHEN Manager saves record THEN Lead is removed from all active queues and appears only in Unqualified Leads view", "GIVEN Lead assignment rule active WHEN Manager checks assignment rule checkbox THEN Lead is auto-assigned based on territory, product interest, or other criteria"], "salesforce_components": {"fields": ["Lead.Status", "Lead.OwnerId", "Lead.Lead_Score__c", "Lead.Qualification_Notes__c", "Lead.Manager_Review_Date__c", "Lead.Unqualified_Reason__c", "Lead.Company", "Lead.Title", "Lead.Rating"], "objects": ["Lead", "Queue", "Task", "User"], "automation": ["Lead Queue: Qualification Review Queue (criteria: Status = 'Pending Review')", "Validation Rule: Require Qualification_Notes__c when Status changes to 'Sales Qualified Lead' or 'Unqualified'", "Record-Triggered Flow: Notify Sales Rep on Lead Assignment (after update when OwnerId changes)", "Record-Triggered Flow: Create Follow-up Task for Sales Rep on Qualified Lead", "Lead Assignment Rule: Auto-assign qualified leads by territory or product", "Process Builder: Update Manager_Review_Date__c to TODAY() when Manager reviews"], "ui_components": ["Lead Queue List View: Qualification Review Queue", "Lead Detail Page Layout with Manager Review section", "Custom List View: My Team's Qualified Leads (for Sales Managers)", "Dashboard: Lead Qualification Metrics (qualified vs unqualified by Manager)", "Mass Transfer Leads tool", "Quick Action: Qualify Lead (pre-populates Status and creates Task)"]}}, {"id": "UC-002-04", "actor": "System (Automated Tracking)", "title": "System Tracks Lead Lifecycle with Status History and Cadence Progress", "main_flow": ["Lead is created via web form, import, or manual entry with initial Status 'Open - Not Contacted'", "System creates Lead History record capturing initial field values and creation timestamp", "Lead is added to qualification cadence either manually or via automation", "System creates Cadence Tracker record linking Lead to Cadence", "System creates Cadence Step Tracker records for each step in cadence", "As cadence executes, system updates Cadence Step Tracker status (Due, Completed, Skipped)", "When Lead Status changes, system creates new Lead History entry with old value, new value, user, and timestamp", "System calculates Days_in_Current_Status__c using formula field (TODAY() - LastModifiedDate)", "System tracks engagement metrics: emails sent, opened, clicked, replied via Cadence Step Trackers", "When Lead progresses through qualification stages, system maintains complete audit trail in Lead History", "System aggregates cadence metrics for reporting (Total Emails Sent, Unique Opens, Replies)"], "preconditions": ["Field History Tracking is enabled on Lead object for Status, Rating, OwnerId fields", "Sales Engagement or Agentforce SDR is configured with cadences", "Lead is added to Cadence 'Agentforce SDR - Initial Prospect Outreach' or similar", "Cadence Tracker and Cadence Step Tracker objects are accessible", "Custom field Days_in_Current_Status__c exists on Lead object"], "postconditions": ["Lead History related list shows complete timeline of Status, Rating, and Owner changes", "Cadence Tracker shows current state (Running, Completed, Stopped) and progress percentage", "Cadence Step Trackers show completion status of each outreach step", "Days_in_Current_Status__c reflects accurate duration in current qualification stage", "Engagement metrics are captured for each cadence step (emails sent/opened/clicked/replied)", "Historical data is available for reporting on lead lifecycle duration and conversion rates", "Audit trail exists for compliance and process improvement analysis"], "alternative_flows": ["ALT-01: If Lead is removed from cadence, system updates Cadence Tracker State to 'Stopped' and marks remaining steps as 'Skipped'", "ALT-02: If Lead Status regresses (e.g., 'Qualified' back to 'Working'), system logs regression in history and may trigger Manager notification", "ALT-03: If Lead is converted, system updates Cadence Tracker State to 'Completed' and preserves history on converted Lead record", "ALT-04: If Lead is reassigned to new owner, system logs OwnerId change in history and may restart or continue cadence based on configuration", "ALT-05: For web-generated leads marked 'Unread', system automatically sets to 'Read' when user views record and logs this in history"], "acceptance_criteria": ["GIVEN a Lead Status change WHEN update occurs THEN Lead History shows old value, new value, changed by user, and timestamp within 1 second", "GIVEN a Lead in cadence WHEN cadence step executes THEN Cadence Step Tracker updates to 'Completed' with completion timestamp", "GIVEN a Lead with multiple status changes WHEN viewing Lead History THEN all changes appear in chronological order with complete details", "GIVEN a Lead in current status for 5 days WHEN Days_in_Current_Status__c is calculated THEN value equals 5", "GIVEN a Lead converted to Account/Contact/Opportunity WHEN conversion completes THEN Lead History is preserved and viewable with 'View and Edit Converted Leads' permission", "GIVEN cadence email sent to Lead WHEN Lead opens email THEN Cadence Step Tracker captures open event with timestamp and updates metrics"], "salesforce_components": {"fields": ["Lead.Status", "Lead.Rating", "Lead.OwnerId", "Lead.LastModifiedDate", "Lead.IsConverted", "Lead.IsUnreadByOwner", "Lead.Days_in_Current_Status__c", "CadenceTracker.State", "CadenceTracker.CadenceId", "CadenceTracker.TargetId", "CadenceStepTracker.Status", "CadenceStepTracker.CompletedDateTime"], "objects": ["Lead", "Lead History", "Cadence Tracker", "Cadence Step Tracker", "Cadence", "Cadence Step"], "automation": ["Field History Tracking enabled on Lead.Status, Lead.Rating, Lead.OwnerId", "Formula Field: Lead.Days_in_Current_Status__c (TODAY() - LastModifiedDate)", "Record-Triggered Flow: Update Unread Flag when Lead is viewed", "Scheduled Flow: Daily Lead Lifecycle Metrics Calculation", "Cadence: Agentforce SDR - Initial Prospect Outreach with email steps", "Process Builder: Alert Manager when Lead in same status >30 days"], "ui_components": ["Lead History related list on Lead Detail Page", "Cadence Tracker related list showing current cadence progress", "Custom Lightning Component: Lead Lifecycle Timeline visualization", "Report: Lead Status Duration Analysis (grouped by Status with avg days)", "Report: Cadence Performance Metrics (emails sent/opened/clicked/replied by month)", "Dashboard: Lead Qualification Funnel with stage conversion rates"]}}, {"id": "UC-002-05", "actor": "Sales Representative", "title": "Sales Rep Converts Qualified Lead to Account, Contact, and Opportunity", "main_flow": ["Sales Rep opens qualified Lead record and clicks Convert button", "System displays Lead Conversion dialog with three sections: Account, Contact, Opportunity", "System searches for existing Accounts matching Lead.Company name", "Sales Rep selects existing Account or chooses to create new Account from Lead data", "System auto-populates Contact fields from Lead data (Name, Email, Phone, Title)", "Sales Rep confirms Contact creation (always creates new Contact)", "Sales Rep decides whether to create Opportunity from this Lead", "If creating Opportunity, Sales Rep enters Opportunity Name, Amount, Close Date, Stage", "Sales Rep selects converted Lead Status from picklist (e.g., 'Converted')", "Sales Rep optionally checks 'Send Email to Owner' to notify Account owner", "Sales Rep clicks Convert button to execute conversion", "System creates or links Account, creates Contact, creates Opportunity (if selected)", "System maps custom Lead fields to custom Account/Contact/Opportunity fields per field mapping configuration", "System sets Lead.IsConverted to true and Lead.ConvertedDate to today", "System transfers open Activities (Tasks, Events) to new Contact", "System updates Lead Status to converted status and makes Lead non-editable", "System displays success message with links to new Account, Contact, Opportunity records"], "preconditions": ["Sales Rep has Convert permission on Lead object", "Lead Status is 'Sales Qualified Lead' or equivalent qualified status", "Lead has required fields populated: Company, LastName, Email", "Custom lead fields are mapped to Account, Contact, Opportunity fields by Admin", "Lead is not already converted (IsConverted = false)"], "postconditions": ["Lead.IsConverted is set to true", "Lead.ConvertedAccountId, ConvertedContactId, ConvertedOpportunityId are populated", "Lead.ConvertedDate is set to conversion date", "New Account record exists (or existing Account is linked)", "New Contact record exists with data from Lead", "New Opportunity record exists (if created) with initial stage and amount", "Open Tasks and Events are transferred to Contact", "Closed Activities remain associated with converted Lead", "Custom field data is mapped to Account/Contact/Opportunity per field mappings", "Lead appears in reports but is no longer editable or searchable (unless permission granted)", "Lead no longer appears in active Lead queues or list views"], "alternative_flows": ["ALT-01: If duplicate Account found, Sales Rep selects existing Account instead of creating new one to avoid duplicates", "ALT-02: If Sales Rep chooses not to create Opportunity, only Account and Contact are created", "ALT-03: If validation rules fail on Account/Contact/Opportunity creation, system displays errors and prevents conversion until resolved", "ALT-04: In Salesforce Mobile App, Sales Rep can create Opportunity but cannot select existing one, must create new", "ALT-05: If Lead has custom fields without field mappings, data is not transferred and Sales Rep must manually update new records", "ALT-06: If Sales Rep lacks 'View and Edit Converted Leads' permission, converted Lead becomes non-searchable after conversion"], "acceptance_criteria": ["GIVEN a qualified Lead WHEN Sales Rep clicks Convert THEN Lead Conversion dialog displays with Account, Contact, Opportunity sections", "GIVEN Lead.Company = 'Acme Corp' WHEN conversion starts THEN system searches and displays matching Account records for selection", "GIVEN Lead conversion with new Account WHEN Convert executes THEN new Account is created with Company name and custom field data mapped", "GIVEN Lead conversion WHEN Contact is created THEN Contact.Email, Phone, Title match Lead values exactly", "GIVEN Lead with custom field Lead.Industry__c mapped to Account.Industry__c WHEN converted THEN Account.Industry__c contains Lead.Industry__c value", "GIVEN Lead with 3 open Tasks WHEN converted THEN all 3 Tasks are reassigned to new Contact with WhoId = Contact.Id", "GIVEN converted Lead WHEN Sales Rep without 'View and Edit Converted Leads' permission searches THEN Lead does not appear in search results", "GIVEN Lead conversion creating Opportunity WHEN Amount and Close Date entered THEN Opportunity is created with Stage = 'Prospecting' and specified Amount/Close Date"], "salesforce_components": {"fields": ["Lead.IsConverted", "Lead.ConvertedDate", "Lead.ConvertedAccountId", "Lead.ConvertedContactId", "Lead.ConvertedOpportunityId", "Lead.Company", "Lead.LastName", "Lead.Email", "Lead.Phone", "Lead.Title", "Lead.Status", "Account.Name", "Contact.FirstName", "Contact.LastName", "Contact.Email", "Contact.AccountId", "Opportunity.Name", "Opportunity.Amount", "Opportunity.CloseDate", "Opportunity.StageName", "Opportunity.AccountId", "Task.WhoId", "Event.WhoId"], "objects": ["Lead", "Account", "Contact", "Opportunity", "Task", "Event"], "automation": ["Lead Field Mapping configuration (Admin Setup > Lead Settings > Lead Field Mapping)", "Lead Status picklist with converted status values", "Validation Rule: Prevent Lead conversion if required fields blank", "Record-Triggered Flow: Post-Conversion Actions (create follow-up Task on Opportunity)", "Process Builder: Notify Account Owner when Lead converted to their Account", "Duplicate Matching Rule: Identify duplicate Accounts during conversion"], "ui_components": ["Lead Conversion dialog (standard Salesforce UI)", "Convert button on Lead Detail Page", "Duplicate Account search results in conversion dialog", "Success message with links to created Account/Contact/Opportunity", "Lead Detail Page showing conversion information (Converted Account, Contact, Opportunity lookup fields)", "Report: Converted Leads with conversion date and resulting records"]}}, {"id": "UC-003-01", "actor": "System (Lead Assignment Rule)", "title": "System Auto-Assigns Lead Based on Vehicle Location ZIP Code", "main_flow": ["Lead is created via Web-to-Lead, API, or manual entry", "System reads Vehicle_Location_ZIP__c field value", "System matches ZIP code against Territory_ZIP_Codes__c custom metadata", "System identifies corresponding Dealership__c record", "System retrieves active Sales Representative assigned to that territory", "System assigns Lead.OwnerId to matched Sales Representative", "System populates Lead.Assigned_Dealership__c lookup field", "System sets Lead.Assignment_Method__c to 'Auto - Location Based'", "System sends email notification to assigned Sales Representative", "System creates Task for follow-up within 2 business hours"], "preconditions": ["Lead record is created with Vehicle_Location_ZIP__c populated", "Active Lead Assignment Rule exists for location-based routing", "Dealership territories are defined with ZIP code mappings", "Sales representatives have assigned territories in User records"], "postconditions": ["Lead.OwnerId is populated with valid User ID", "Lead.Assigned_Dealership__c references correct Dealership record", "Lead.Assignment_Date_Time__c is stamped with current timestamp", "Assignment notification email is sent", "Follow-up Task is created and assigned", "Lead appears in assigned Sales Rep's My Leads list view"], "alternative_flows": [{"steps": ["System assigns Lead to default queue 'Unassigned Leads - No Location'", "System sets Lead.Assignment_Status__c to 'Pending Manual Review'", "System sends notification to Sales Operations team"], "condition": "Vehicle_Location_ZIP__c is blank"}, {"steps": ["System assigns Lead to 'Out of Territory' queue", "System sets Lead.Assignment_Status__c to 'Out of Coverage Area'", "System creates Case for Sales Operations to review territory expansion"], "condition": "ZIP code does not match any territory"}, {"steps": ["System applies round-robin logic based on Lead.Vehicle_Type__c", "System checks current lead volume per dealership", "System assigns to dealership with lowest active lead count", "System logs assignment reason in Lead.Assignment_Notes__c"], "condition": "Multiple dealerships service the same ZIP code"}], "acceptance_criteria": ["100% of Leads with valid Vehicle_Location_ZIP__c are assigned within 5 seconds of creation", "Lead assignment matches territory mapping with 100% accuracy", "Leads without location data are routed to appropriate queue within 5 seconds", "Assignment notification email is delivered within 1 minute", "Assignment_Method__c field accurately reflects 'Auto - Location Based'", "Out-of-territory Leads create Case for Sales Operations review", "Round-robin logic distributes Leads evenly when multiple dealerships qualify"], "salesforce_components": {"fields": ["Lead.Vehicle_Location_ZIP__c", "Lead.Assigned_Dealership__c", "Lead.Assignment_Method__c", "Lead.Assignment_Status__c", "Lead.Assignment_Date_Time__c", "Lead.Assignment_Notes__c", "Lead.Vehicle_Type__c", "User.Territory__c", "Territory__c.ZIP_Codes__c", "Territory__c.Active__c", "Dealership__c.Territory__c"], "objects": ["Lead", "User", "Task", "Queue", "Territory__c (Custom)", "Dealership__c (Custom)", "Case"], "automation": ["Record-Triggered Flow: 'Lead Assignment - Location Based' (Before Save)", "Lead Assignment Rules: 'Location Based Assignment'", "Apex Class: 'TerritoryMatcher' for complex ZIP matching logic", "Process Builder: 'Lead Assignment Notification' (deprecated - migrate to Flow)", "Custom Metadata Type: Territory_ZIP_Codes__mdt"], "ui_components": ["Lead Lightning Record Page with Assignment Details component", "List View: 'My Assigned Leads'", "Queue List View: 'Unassigned Leads - No Location'", "Queue List View: 'Out of Territory Leads'", "Email Template: 'New Lead Assignment - Location Based'"]}}, {"id": "UC-003-02", "actor": "Sales Manager", "title": "Sales Manager Manually Reassigns Lead to Different Territory", "main_flow": ["Sales Manager opens Lead record", "Sales Manager clicks 'Change Owner' button", "System displays modal with territory selection options", "Sales Manager selects new Territory__c from dropdown", "System filters available Sales Representatives by selected territory", "Sales Manager selects target Sales Representative", "Sales Manager enters Reassignment_Reason__c (required field)", "Sales Manager clicks 'Reassign Lead'", "System validates new owner has capacity (max 50 open Leads)", "System updates Lead.OwnerId to new Sales Representative", "System updates Lead.Assigned_Dealership__c to new territory's dealership", "System sets Lead.Assignment_Method__c to 'Manual - Manager Override'", "System creates Lead History record documenting change", "System sends notification to both old and new owners", "System creates Chatter post on Lead record documenting reassignment"], "preconditions": ["Lead exists with current assignment", "Sales Manager has 'Transfer Leads' permission", "Target dealership/territory is active", "Lead.Status is not 'Converted' or 'Closed'"], "postconditions": ["Lead.OwnerId reflects new Sales Representative", "Lead.Assigned_Dealership__c updated to new territory's dealership", "Lead.Last_Reassignment_Date__c stamped with current date", "Lead.Reassignment_Count__c incremented by 1", "Lead History shows ownership change with reason", "Both previous and new owners receive email notification", "Chatter post created on Lead record", "Related Activities/Opportunities reassigned if selected"], "alternative_flows": [{"steps": ["System displays error message: 'Selected user has reached maximum lead capacity (50)'", "System suggests alternative Sales Reps in same territory with available capacity", "Sales Manager selects alternative or overrides capacity check", "If override selected, system requires Manager_Override_Justification__c"], "condition": "Target Sales Rep exceeds lead capacity"}, {"steps": ["System displays warning: 'This Lead has X open activities and Y opportunities'", "System prompts: 'Reassign related records to new owner?'", "Sales Manager selects checkbox options for Activities and Opportunities", "System reassigns selected related records to new owner"], "condition": "Lead has open Activities or Opportunities"}], "acceptance_criteria": ["Sales Manager can reassign Lead to any active territory within 3 clicks", "System validates target user has 'Lead' object access before allowing reassignment", "Reassignment_Reason__c is mandatory and must contain minimum 10 characters", "Capacity validation prevents assignment to users with 50+ open Leads unless overridden", "Email notifications sent to both parties within 2 minutes", "Lead History accurately captures old owner, new owner, timestamp, and reason", "Chatter post includes @mentions for both old and new owners", "Related records reassignment completes within 10 seconds"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Assigned_Dealership__c", "Lead.Assignment_Method__c", "Lead.Reassignment_Reason__c", "Lead.Last_Reassignment_Date__c", "Lead.Reassignment_Count__c", "Lead.Manager_Override_Justification__c", "User.Active_Lead_Count__c", "User.Territory__c"], "objects": ["Lead", "User", "LeadHistory", "FeedItem (Chatter)", "Task", "Event", "Opportunity"], "automation": ["Screen Flow: 'Lead Reassignment Wizard'", "Record-Triggered Flow: 'Update Lead Counts on Reassignment' (After Save)", "Apex Trigger: 'LeadReassignmentTrigger' for complex validation", "Invocable Apex Action: 'ReassignRelatedRecords'", "Email Alert: 'Lead Reassignment Notification - Previous Owner'", "Email Alert: 'Lead Reassignment Notification - New Owner'"], "ui_components": ["Lightning Action: 'Change Owner' on Lead record page", "Screen Flow embedded in modal", "Custom Lightning Web Component: 'territorySelector'", "Custom Lightning Web Component: 'userCapacityIndicator'", "Chatter Publisher Action on Lead", "Email Template: 'Lead Reassignment - Previous Owner'", "Email Template: 'Lead Reassignment - New Owner'"]}}, {"id": "UC-003-03", "actor": "System (Lead Assignment Automation)", "title": "System Routes Lead to Queue When No Sales Rep Available in Territory", "main_flow": ["System attempts standard location-based assignment", "System queries active Users with matching Territory__c", "System finds zero active Sales Reps OR all exceed capacity threshold", "System retrieves Queue associated with Territory__c via Territory_Queue__c field", "System assigns Lead.OwnerId to Queue ID", "System sets Lead.Assignment_Status__c to 'Queued - No Available Rep'", "System sets Lead.Queue_Entry_Date_Time__c to current timestamp", "System sends notification to Queue members via email", "System sends escalation notification to Territory Sales Manager", "System creates high-priority Task assigned to Territory Manager for resource allocation review"], "preconditions": ["Lead is created with valid Vehicle_Location_ZIP__c", "Territory is identified for the ZIP code", "No active Sales Representatives assigned to territory OR all Sales Reps at capacity", "Territory-specific queue exists"], "postconditions": ["Lead.OwnerId contains Queue ID", "Lead appears in Queue List View for all Queue members", "Lead.Assignment_Status__c reflects queued status", "Lead.Queue_Entry_Date_Time__c is populated", "Queue members receive email notification", "Territory Manager receives escalation notification", "High-priority Task created for Territory Manager", "Lead is visible in 'Queued Leads' report"], "alternative_flows": [{"steps": ["System assigns Lead to default 'Unassigned Leads - System' queue", "System sets Lead.Assignment_Status__c to 'Error - No Queue Configured'", "System creates Case for Sales Operations with priority 'High'", "System sends immediate notification to Sales Operations Manager"], "condition": "No queue exists for territory"}, {"steps": ["Time-based Flow triggers after 4 hours", "System sends escalation email to Regional Sales Director", "System updates Lead.Priority to 'Hot'", "System creates Chatter post on Lead tagging Regional Director", "System logs escalation in Lead.Escalation_History__c"], "condition": "Lead remains in queue for more than 4 hours"}, {"steps": ["Sales Rep's Active_Lead_Count__c drops below threshold", "Record-Triggered Flow detects capacity availability", "System auto-assigns oldest Lead from queue to newly available Rep", "System updates Lead.Assignment_Status__c to 'Assigned from Queue'", "System sends notification to Sales Rep"], "condition": "Sales Rep becomes available while Lead in queue"}], "acceptance_criteria": ["Leads are routed to queue within 5 seconds when no Sales Rep available", "Queue assignment occurs before any error or failure state", "All Queue members receive notification within 2 minutes", "Territory Manager receives escalation notification within 5 minutes", "Leads in queue for 4+ hours trigger automatic escalation", "System correctly identifies queue based on Territory__c relationship", "Queue_Entry_Date_Time__c accurately reflects queue entry timestamp", "Leads auto-assign from queue when Sales Rep capacity becomes available", "Case is created for Sales Operations when queue configuration is missing"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Assignment_Status__c", "Lead.Queue_Entry_Date_Time__c", "Lead.Escalation_History__c", "Lead.Priority", "Territory__c.Territory_Queue__c", "Territory__c.Sales_Manager__c", "User.Active_Lead_Count__c", "User.Lead_Capacity_Threshold__c"], "objects": ["Lead", "Queue", "QueueSobject", "GroupMember", "Task", "Case", "Territory__c (Custom)"], "automation": ["Record-Triggered Flow: 'Lead Queue Assignment' (Before Save)", "Scheduled Flow: 'Queue Lead Escalation Monitor' (runs hourly)", "Record-Triggered Flow: 'Auto-Assign from Queue on Capacity Available' (After Save on User)", "Apex Class: 'QueueAssignmentService' for queue logic", "Email Alert: 'Lead Assigned to Queue - Queue Members'", "Email Alert: 'Lead Queue Escalation - Territory Manager'", "Email Alert: 'Queue Configuration Error - Sales Operations'"], "ui_components": ["Queue List View: 'Territory Queued Leads'", "Lightning Component: 'Queue Lead Dashboard' showing wait times", "Report: 'Leads in Queue by Territory'", "Report: 'Queue Wait Time Analysis'", "Email Template: 'Lead Queued - Territory Queue Members'", "Email Template: 'Lead Queue Escalation - Manager'", "Custom List View Button: 'Claim Lead from Queue'"]}}, {"id": "UC-003-04", "actor": "Sales Representative", "title": "Sales Rep Updates Vehicle Location Triggering Automatic Reassignment", "main_flow": ["Sales Rep opens Lead record", "Sales Rep navigates to Vehicle Information section", "Sales Rep updates Vehicle_Location_ZIP__c field with new ZIP code", "Sales Rep updates Vehicle_Location_City__c and Vehicle_Location_State__c", "Sales Rep clicks Save", "System detects change in Vehicle_Location_ZIP__c via Record-Triggered Flow", "System performs territory lookup for new ZIP code", "System identifies new territory differs from current Lead.Assigned_Dealership__c", "System displays modal: 'Vehicle location change detected. This Lead should be reassigned to [New Territory]. Proceed with reassignment?'", "Sales Rep reviews modal and clicks 'Yes, Reassign'", "System identifies appropriate Sales Rep in new territory using round-robin", "System updates Lead.OwnerId to new Sales Rep", "System updates Lead.Assigned_Dealership__c to new dealership", "System sets Lead.Assignment_Method__c to 'Auto - Location Update'", "System creates Lead History entry documenting location change and reassignment", "System sends notification to new owner with context about location change", "System sends notification to original Sales Rep confirming transfer", "System creates Task for new owner to contact Lead within 24 hours"], "preconditions": ["Lead exists and is currently assigned to Sales Rep", "Sales Rep has edit access to Lead record", "Lead.Status is 'Open', 'Working', or 'Contacted'", "New vehicle location is in different territory than current assignment"], "postconditions": ["Lead.Vehicle_Location_ZIP__c contains updated ZIP code", "Lead.OwnerId reflects new Sales Rep if reassigned", "Lead.Assigned_Dealership__c updated to new territory's dealership", "Lead.Assignment_Method__c set to 'Auto - Location Update'", "Lead History shows location change and reassignment details", "Both Sales Reps receive appropriate notifications", "Follow-up Task created for new owner", "Override flag set if Sales Rep chose to keep assignment"], "alternative_flows": [{"steps": ["System sets Lead.Override_Territory_Assignment__c to TRUE", "System prompts for Override_Reason__c (required)", "Sales Rep enters reason (e.g., 'Existing relationship with customer')", "System saves Lead without reassignment", "System logs override decision in Lead.Assignment_Notes__c", "System sends notification to Territory Manager for approval"], "condition": "Sales Rep clicks 'No, Keep Current Assignment'"}, {"steps": ["System displays message: 'New location is outside service area'", "System sets Lead.Assignment_Status__c to 'Out of Territory'", "System assigns Lead to 'Out of Territory Review' queue", "System creates Case for Sales Operations to evaluate", "System notifies original Sales Rep of queue assignment"], "condition": "New ZIP code is out of all service territories"}, {"steps": ["System detects related Opportunity with Stage not 'Closed Won' or 'Closed Lost'", "System displays warning: 'This Lead has an open Opportunity. Reassignment may impact pipeline.'", "System requires Manager approval via Approval Process", "Approval request sent to both Territory Managers", "Reassignment pending until approval received"], "condition": "Lead has open Opportunity"}], "acceptance_criteria": ["System detects Vehicle_Location_ZIP__c change within 2 seconds of save", "Territory lookup completes and displays modal within 5 seconds", "Reassignment confirmation modal clearly shows old and new territory names", "If reassigned, Lead ownership changes within 10 seconds of confirmation", "Override option is available and requires mandatory reason field", "Leads with open Opportunities trigger approval process before reassignment", "Out-of-territory locations route to appropriate queue with Case creation", "Email notifications sent to both Sales Reps within 2 minutes", "Lead History accurately captures location change, reassignment, and reason", "Follow-up Task created with 24-hour due date for new owner"], "salesforce_components": {"fields": ["Lead.Vehicle_Location_ZIP__c", "Lead.Vehicle_Location_City__c", "Lead.Vehicle_Location_State__c", "Lead.OwnerId", "Lead.Assigned_Dealership__c", "Lead.Assignment_Method__c", "Lead.Override_Territory_Assignment__c", "Lead.Override_Reason__c", "Lead.Assignment_Status__c", "Lead.Previous_Owner__c"], "objects": ["Lead", "LeadHistory", "Task", "User", "Territory__c (Custom)", "Dealership__c (Custom)", "Opportunity", "Case", "ProcessInstance (Approval)"], "automation": ["Record-Triggered Flow: 'Detect Vehicle Location Change' (After Save)", "Screen Flow: 'Location Change Reassignment Confirmation'", "Apex Class: 'LocationChangeReassignmentService'", "Approval Process: 'Lead Reassignment with Open Opportunity'", "Record-Triggered Flow: 'Create Reassignment Task' (After Save)", "Email Alert: 'Lead Reassigned - New Owner'", "Email Alert: 'Lead Transferred - Previous Owner'"], "ui_components": ["Lightning Record Page: Lead with Vehicle Information section", "Modal Component: 'Reassignment Confirmation'", "Custom Lightning Web Component: 'territoryChangeIndicator'", "Email Template: 'Lead Reassignment - Location Change - New Owner'", "Email Template: 'Lead Transferred - Location Change - Previous Owner'", "Approval Layout for Lead Reassignment"]}}, {"id": "UC-003-05", "actor": "Agentforce SDR Agent", "title": "Agentforce SDR Auto-Assigns and Engages Lead Based on Vehicle Location", "main_flow": ["Lead is created via website form with vehicle location data", "System performs standard location-based assignment to territory", "Record-Triggered Flow evaluates Lead against SDR Agent engagement criteria", "System determines Lead.Rating = 'Warm' and Lead.Lead_Source = 'Website' match SDR criteria", "System assigns Lead to Agentforce SDR Agent user", "SDR Agent retrieves Lead details including Vehicle_Location_ZIP__c", "SDR Agent queries Data Library for dealership-specific content based on Assigned_Dealership__c", "SDR Agent generates personalized initial outreach email using location context", "Email includes: local dealership name, address, current promotions, and test drive scheduling link", "SDR Agent sends email within 5 minutes of Lead creation", "SDR Agent creates Task to monitor email engagement", "SDR Agent updates Lead.SDR_Engagement_Status__c to 'Initial Outreach Sent'", "SDR Agent monitors for Lead response (email open, link click, reply)", "Upon response, SDR Agent answers product questions using dealership-specific inventory data", "SDR Agent attempts to book meeting at local dealership", "When meeting booked or Lead requests human contact, SDR Agent transfers to human Sales Rep", "SDR Agent updates Lead.SDR_Handoff_Reason__c and creates detailed handoff notes"], "preconditions": ["Agentforce for Sales Development is enabled", "SDR Agent is configured with location-based engagement rules", "Lead is created via Web-to-Lead with Vehicle_Location_ZIP__c populated", "Lead.Rating meets SDR Agent engagement criteria (e.g., 'Warm' or 'Hot')", "SDR Agent has access to dealership-specific content in Data Library"], "postconditions": ["Lead.OwnerId initially set to SDR Agent user", "Initial outreach email sent within 5 minutes of Lead creation", "Lead.SDR_Engagement_Status__c reflects current engagement stage", "Lead.SDR_Email_Sent_Count__c incremented", "Lead.SDR_Last_Engagement_Date__c updated with timestamp", "When transferred, Lead.OwnerId updated to human Sales Rep", "Lead.SDR_Handoff_Reason__c populated with transfer reason", "Detailed handoff notes created in Lead.SDR_Conversation_Summary__c", "Task created for human Sales Rep with full context"], "alternative_flows": [{"steps": ["SDR Agent sends follow-up email with different messaging angle", "Follow-up includes local testimonials and dealership reviews", "SDR Agent updates Lead.SDR_Engagement_Status__c to 'Follow-up Sent'", "If no response after second follow-up, SDR Agent assigns to human Sales Rep", "SDR Agent sets Lead.SDR_Handoff_Reason__c to 'No Response - Needs Human Touch'"], "condition": "Lead does not respond within 48 hours"}, {"steps": ["SDR Agent recognizes question is outside configured knowledge base", "SDR Agent responds: 'Great question! Let me connect you with a specialist at [Dealership Name]'", "SDR Agent immediately assigns Lead to human Sales Rep in territory", "SDR Agent creates Task for Sales Rep with Lead's question in description", "SDR Agent updates Lead.SDR_Handoff_Reason__c to 'Complex Question - Specialist Needed'"], "condition": "Lead asks question SDR Agent cannot answer"}, {"steps": ["SDR Agent checks Dealership__c.Business_Hours__c for local timezone", "SDR Agent sends immediate acknowledgment: 'Thanks for your interest! Our [Dealership Name] team will reach out during business hours'", "SDR Agent schedules outreach for next business day at 9 AM local time", "SDR Agent updates Lead.SDR_Engagement_Status__c to 'Scheduled for Business Hours'", "SDR Agent sends scheduled email during business hours with full details"], "condition": "Lead is outside normal business hours for dealership"}], "acceptance_criteria": ["SDR Agent sends initial outreach within 5 minutes of Lead creation 95% of the time", "Email content includes correct local dealership name, address, and contact information", "Email personalization references vehicle location and local market context", "SDR Agent correctly identifies and responds to common questions with 85% accuracy", "SDR Agent transfers to human Sales Rep when confidence score drops below 70%", "Follow-up emails sent at 48-hour intervals if no response", "SDR Agent respects dealership business hours for outreach timing", "Handoff to human Sales Rep includes complete conversation history", "Lead.SDR_Engagement_Status__c updates in real-time as engagement progresses", "SDR Agent performance metrics tracked: response rate, meeting booking rate, handoff rate"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Vehicle_Location_ZIP__c", "Lead.Assigned_Dealership__c", "Lead.Rating", "Lead.Lead_Source", "Lead.SDR_Engagement_Status__c", "Lead.SDR_Email_Sent_Count__c", "Lead.SDR_Last_Engagement_Date__c", "Lead.SDR_Handoff_Reason__c", "Lead.SDR_Conversation_Summary__c", "Dealership__c.Business_Hours__c", "Dealership__c.Local_Promotions__c"], "objects": ["Lead", "Task", "EmailMessage", "User (SDR Agent)", "Dealership__c (Custom)", "AgentWork", "ConversationEntry"], "automation": ["Agentforce SDR Agent: 'Vehicle Sales SDR' configured in Agent Builder", "Agent Topic: 'Send Initial Outreach Email'", "Agent Topic: 'Answer Product Questions'", "Agent Topic: 'Book Dealership Meeting'", "Agent Topic: 'Transfer to Sales Rep'", "Record-Triggered Flow: 'SDR Agent Lead Assignment' (After Save)", "Scheduled Flow: 'SDR Follow-up Monitor' (runs every hour)", "Apex Action: 'GetDealershipContent' for Data Library queries", "Einstein Bot for lead engagement tracking"], "ui_components": ["Agent Builder configuration for SDR Agent", "Data Library with dealership-specific content", "Email Template: 'SDR Initial Outreach - Location Based'", "Email Template: 'SDR Follow-up - No Response'", "Lightning Record Page: Lead with SDR Engagement component", "Custom Lightning Web Component: 'sdrConversationTimeline'", "Report: 'SDR Agent Performance by Territory'", "Dashboard: 'Agentforce SDR Lead Engagement Metrics'"]}}, {"id": "UC-004-01", "actor": "System (Automated Process)", "title": "System Assigns New Lead to Available Sales Representative", "main_flow": ["New Lead record is created in Salesforce", "Active Lead Assignment Rule is triggered", "System queries User records where Availability_Status__c = 'Available'", "System filters available users by Lead assignment criteria (territory, product specialty, workload)", "System calculates current lead count for each available representative using rollup summary or query", "System selects representative with lowest current lead count", "System assigns Lead Owner to selected representative", "System updates Lead Status to 'New - Assigned'", "System creates Task for assigned representative with due date of today", "System sends email notification to assigned representative", "System logs assignment details in Lead Assignment History custom object"], "preconditions": ["Lead Assignment Rules are configured and active", "Sales Representatives have Availability Status field populated", "At least one Sales Representative is marked as Available", "New Lead record is created via Web-to-Lead, API, or manual entry"], "postconditions": ["Lead is assigned to an available Sales Representative or queue", "Lead Status is updated to reflect assignment", "Follow-up Task is created for assigned owner", "Assignment notification is sent", "Assignment history is recorded for reporting"], "alternative_flows": ["AF-01: No Available Representatives - System assigns Lead to default queue 'Unassigned Leads Queue' and notifies Sales Manager", "AF-02: Multiple Representatives with Equal Load - System uses round-robin assignment based on Last_Assignment_Date__c field", "AF-03: Assignment Rule Fails - System assigns to Default Lead Owner specified in Lead Settings", "AF-04: Representative becomes unavailable during assignment - System re-evaluates and assigns to next available representative"], "acceptance_criteria": ["Lead is assigned within 2 minutes of creation", "Only Sales Representatives with Availability_Status__c = 'Available' receive lead assignments", "Lead distribution is balanced based on current workload (variance less than 20% between representatives)", "Assignment notification email is sent within 5 minutes", "100% of leads are assigned (either to representative or fallback queue)", "Assignment history record is created with timestamp, assigned user, and assignment reason", "If no representatives are available, lead is assigned to queue and manager is notified within 5 minutes"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Status", "Lead.Assignment_Date__c", "Lead.Assignment_Method__c", "User.Availability_Status__c", "User.Current_Lead_Count__c", "User.Last_Assignment_Date__c", "User.Territory__c", "User.Product_Specialty__c", "Lead_Assignment_History__c.Lead__c", "Lead_Assignment_History__c.Assigned_To__c", "Lead_Assignment_History__c.Assignment_Timestamp__c", "Lead_Assignment_History__c.Assignment_Reason__c"], "objects": ["Lead", "User", "Task", "Queue", "Lead_Assignment_History__c"], "automation": ["Record-Triggered Flow: 'Lead Assignment Based on Availability' (Before Save)", "Lead Assignment Rules with availability criteria", "Scheduled Flow: 'Update Representative Lead Counts' (runs hourly)", "Email Alert: 'New Lead Assignment Notification'", "Email Alert: 'No Available Representatives Alert' (to Sales Manager)"], "ui_components": ["Custom Lightning Record Page for Lead with Assignment History related list", "Quick Action: 'Reassign Lead' on Lead object", "List View: 'My Unread Leads' filtered by Assignment_Date__c = TODAY"]}}, {"id": "UC-004-02", "actor": "Sales Representative", "title": "Sales Representative Updates Availability Status", "main_flow": ["Sales Representative navigates to their User profile or custom Availability component", "Representative clicks 'Update Availability' button or edits Availability_Status__c field", "Representative selects new status from picklist: 'Available', 'Busy', 'Out of Office', 'At Capacity'", "Representative optionally enters Availability_Notes__c (reason for status change)", "Representative saves the record", "System validates the status change", "System updates Availability_Status__c and Availability_Last_Updated__c timestamp", "System triggers Flow to pause/resume lead assignment eligibility", "System displays confirmation message to representative", "If status changed to 'Available', system checks for queued leads and assigns if applicable"], "preconditions": ["User has active Salesforce license", "User has Sales Representative profile or permission set", "Availability_Status__c field is accessible on User record"], "postconditions": ["User Availability_Status__c is updated", "Timestamp Availability_Last_Updated__c is recorded", "Lead assignment eligibility is adjusted accordingly", "If applicable, queued leads are assigned to newly available representative", "Status change is logged in User History"], "alternative_flows": ["AF-01: Representative sets 'Out of Office' - System prompts for return date and automatically reassigns current open leads to available team members", "AF-02: Representative sets 'At Capacity' - System calculates if lead count exceeds threshold and confirms status change", "AF-03: Manager Override - Sales Manager can update representative availability on their behalf with Manager_Override__c flag set to true", "AF-04: Automatic Status Update - System automatically sets status to 'At Capacity' when lead count reaches Max_Lead_Capacity__c threshold"], "acceptance_criteria": ["Representative can update availability status in less than 3 clicks", "Status change takes effect immediately (within 1 minute) for lead assignment", "Representatives marked 'Available' receive new lead assignments within 5 minutes if leads are queued", "Representatives marked 'Busy', 'Out of Office', or 'At Capacity' do not receive new assignments", "Status change confirmation message is displayed to user", "Availability component is accessible from Lightning Home Page and Salesforce Mobile App", "Manager can view team availability dashboard showing real-time status of all representatives"], "salesforce_components": {"fields": ["User.Availability_Status__c", "User.Availability_Notes__c", "User.Availability_Last_Updated__c", "User.Return_Date__c", "User.Max_Lead_Capacity__c", "User.Current_Lead_Count__c", "User.Manager_Override__c"], "objects": ["User", "Lead", "Queue"], "automation": ["Record-Triggered Flow: 'Update Assignment Eligibility on Status Change' (After Save)", "Record-Triggered Flow: 'Auto-Assign Queued Leads to Available Rep' (After Save)", "Record-Triggered Flow: 'Reassign Leads on Out of Office' (After Save)", "Scheduled Flow: 'Auto-Set At Capacity Status' (runs every 15 minutes)", "Scheduled Flow: 'Reset Availability After Return Date' (runs daily)"], "ui_components": ["Lightning Web Component: 'My Availability Status' for Home Page", "Quick Action: 'Update My Availability' on User object", "Custom Lightning App Page: 'Team Availability Dashboard' for Sales Managers", "Mobile-optimized availability toggle component"]}}, {"id": "UC-004-03", "actor": "Sales Manager", "title": "Sales Manager Manually Reassigns Lead Based on Availability", "main_flow": ["Sales Manager navigates to Lead record requiring reassignment", "Manager clicks 'Reassign Lead' quick action", "System displays modal with available team members filtered by Availability_Status__c = 'Available'", "System shows each available representative with current lead count and last assignment date", "Manager selects new owner from filtered list", "Manager enters Reassignment_Reason__c (required field)", "Manager optionally checks 'Notify New Owner' checkbox (checked by default)", "Manager clicks 'Reassign' button", "System validates manager has permission to reassign", "System updates Lead.OwnerId to selected representative", "System creates Task for new owner with context from reassignment reason", "System sends notification email to new owner if checkbox was selected", "System creates record in Lead_Assignment_History__c with reassignment details", "System displays success message with new owner name"], "preconditions": ["User has Sales Manager profile or 'Manage Leads' permission", "Lead record exists and is assigned to a representative", "Manager has visibility to team member availability statuses", "Reassignment reason is required per business policy"], "postconditions": ["Lead is assigned to new owner", "Previous owner is notified of reassignment (optional)", "New owner is notified and has follow-up task created", "Reassignment is logged in Lead_Assignment_History__c", "Lead Status may be updated based on reassignment reason", "Current_Lead_Count__c is updated for both old and new owners"], "alternative_flows": ["AF-01: No Available Representatives - System displays warning message and allows manager to assign to unavailable representative with override confirmation", "AF-02: Reassign to Queue - Manager selects queue instead of individual representative for complex leads requiring team review", "AF-03: Bulk Reassignment - Manager selects multiple leads from list view and reassigns all to available representative or queue", "AF-04: Reassignment Rejected - If new representative is at capacity, system prompts manager to confirm override or select different representative"], "acceptance_criteria": ["Only users with 'Manage Leads' permission can access reassignment functionality", "Reassignment modal displays only representatives with Availability_Status__c = 'Available' by default", "Manager can override availability filter to view all team members", "Current lead count is displayed accurately for each representative (real-time data)", "Reassignment_Reason__c is required and cannot be blank", "Reassignment completes within 5 seconds of clicking 'Reassign' button", "Both old and new owners receive appropriate notifications based on manager selection", "Lead_Assignment_History__c record captures: timestamp, old owner, new owner, manager who reassigned, and reason", "Bulk reassignment supports up to 200 leads at once"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Reassignment_Reason__c", "Lead.Reassignment_Date__c", "Lead.Previous_Owner__c", "User.Availability_Status__c", "User.Current_Lead_Count__c", "Lead_Assignment_History__c.Lead__c", "Lead_Assignment_History__c.Previous_Owner__c", "Lead_Assignment_History__c.New_Owner__c", "Lead_Assignment_History__c.Reassigned_By__c", "Lead_Assignment_History__c.Reassignment_Reason__c", "Lead_Assignment_History__c.Reassignment_Timestamp__c"], "objects": ["Lead", "User", "Task", "Lead_Assignment_History__c"], "automation": ["Screen Flow: 'Manual Lead Reassignment' (launched from Quick Action)", "Record-Triggered Flow: 'Update Lead Counts on Reassignment' (After Save)", "Email Alert: 'Lead Reassignment Notification to New Owner'", "Email Alert: 'Lead Reassignment Notification to Previous Owner'", "Apex Class: 'BulkLeadReassignmentController' for bulk operations"], "ui_components": ["Quick Action: 'Reassign Lead' on Lead object", "Lightning Web Component: 'Available Representatives Selector' embedded in Screen Flow", "List View Button: 'Bulk Reassign' on Lead object", "Custom Lightning Record Page with Assignment History related list"]}}, {"id": "UC-004-04", "actor": "System (Scheduled Process)", "title": "System Balances Lead Distribution Among Available Representatives", "main_flow": ["Scheduled Flow runs every hour to evaluate lead distribution balance", "System queries all Users where Availability_Status__c = 'Available' and IsActive = true", "System calculates Current_Lead_Count__c for each available representative", "System calculates average lead count across all available representatives", "System identifies representatives with lead count exceeding average by more than Load_Balance_Threshold__c (default 20%)", "System identifies representatives with lead count below average by more than threshold", "System queries unassigned leads in 'Unassigned Leads Queue'", "System assigns queued leads to under-capacity representatives using round-robin", "System updates Lead.OwnerId for reassigned leads", "System updates Lead.Assignment_Method__c to 'Load Balancing'", "System creates Tasks for newly assigned leads", "System sends batch notification email to representatives receiving new leads", "System logs balancing activity in Load_Balancing_Log__c custom object", "System generates summary report for Sales Manager if significant rebalancing occurred"], "preconditions": ["Multiple Sales Representatives are marked as Available", "Lead Assignment Rules are active", "Load balancing threshold is configured in Custom Metadata", "Representatives have varying current lead counts"], "postconditions": ["Lead distribution variance is within acceptable threshold across available representatives", "Queued leads are assigned to under-capacity representatives", "Current_Lead_Count__c is updated for all affected representatives", "Representatives receive notification of newly assigned leads", "Balancing activity is logged for audit and reporting", "Sales Manager receives summary if major rebalancing occurred"], "alternative_flows": ["AF-01: All Representatives Balanced - System logs 'No Action Required' and exits process", "AF-02: No Queued Leads Available - System logs status and schedules next evaluation", "AF-03: Representative Reaches Capacity During Balancing - System marks representative as 'At Capacity' and redistributes remaining leads to others", "AF-04: Emergency Rebalancing - Manager triggers manual rebalancing outside scheduled time for immediate load distribution"], "acceptance_criteria": ["Scheduled process runs every hour without failure", "Lead distribution variance is reduced to within Load_Balance_Threshold__c (20%) after balancing", "Only representatives with Availability_Status__c = 'Available' receive additional leads during balancing", "Balancing process completes within 10 minutes for up to 1000 leads", "Representatives receive single batch notification email listing all newly assigned leads (not individual emails per lead)", "Load_Balancing_Log__c captures: execution timestamp, number of leads redistributed, representatives affected, before/after distribution metrics", "Manager summary report is generated only if more than 50 leads are redistributed or variance exceeded 50%", "Process respects Max_Lead_Capacity__c setting and does not assign beyond capacity"], "salesforce_components": {"fields": ["Lead.OwnerId", "Lead.Assignment_Method__c", "Lead.Assignment_Date__c", "User.Availability_Status__c", "User.Current_Lead_Count__c", "User.Max_Lead_Capacity__c", "User.IsActive", "Load_Balancing_Log__c.Execution_Timestamp__c", "Load_Balancing_Log__c.Leads_Redistributed__c", "Load_Balancing_Log__c.Representatives_Affected__c", "Load_Balancing_Log__c.Variance_Before__c", "Load_Balancing_Log__c.Variance_After__c", "Lead_Assignment_Config__mdt.Load_Balance_Threshold__c", "Lead_Assignment_Config__mdt.Balancing_Frequency_Hours__c"], "objects": ["Lead", "User", "Task", "Queue", "Load_Balancing_Log__c", "Lead_Assignment_Config__mdt"], "automation": ["Scheduled Flow: 'Lead Distribution Balancing' (runs hourly)", "Apex Batch Class: 'LeadLoadBalancingBatch' for processing large volumes", "Record-Triggered Flow: 'Update Lead Count After Balancing' (After Save, bulk)", "Email Alert: 'Batch Lead Assignment Notification'", "Email Alert: 'Load Balancing Summary Report' (to Sales Manager)", "Platform Event: 'Load_Balancing_Event__e' for real-time monitoring"], "ui_components": ["Custom Metadata Type: 'Lead_Assignment_Config__mdt' for configuration", "Lightning Dashboard: 'Lead Distribution Analytics' showing balance metrics", "Custom Report Type: 'Load Balancing History with User Details'", "Quick Action: 'Trigger Manual Rebalancing' (Manager only)"]}}, {"id": "UC-004-05", "actor": "System (Real-time Process)", "title": "System Handles Representative Availability Change During Active Lead Assignment", "main_flow": ["Sales Representative updates Availability_Status__c from 'Available' to 'Busy', 'Out of Office', or 'At Capacity'", "Record-Triggered Flow detects availability status change on User record", "System queries all open Leads where OwnerId = changing representative AND Status NOT IN ('Converted', 'Closed', 'Qualified')", "System evaluates Lead.Days_Since_Assignment__c and Lead.Last_Activity_Date__c for each open lead", "For leads assigned within last 24 hours with no activity: System keeps with current owner (grace period)", "For leads older than 24 hours with no activity in 48 hours: System flags for potential reassignment", "System creates Task for representative: 'Update status on open leads before going unavailable'", "System sends notification to Sales Manager listing representative's open leads requiring attention", "System updates representative's Assignment_Eligibility__c to 'Inactive'", "System logs availability change in User_Availability_History__c", "If status is 'Out of Office' and Return_Date__c is populated: System schedules automatic status reset", "System prevents new lead assignments to this representative until status returns to 'Available'"], "preconditions": ["Sales Representative is currently marked as Available", "Representative has active lead assignments in progress", "Representative changes availability status to unavailable state", "Business rules for handling in-progress leads are configured"], "postconditions": ["Representative's availability status is updated", "Assignment eligibility is set to inactive", "No new leads are assigned to unavailable representative", "Open leads are either retained with grace period or flagged for reassignment", "Manager is notified of status change and impact on open leads", "Availability change is logged for reporting and compliance", "If applicable, automatic status reset is scheduled for return date"], "alternative_flows": ["AF-01: Immediate Reassignment Required - If representative selects 'Reassign My Leads' option, system triggers bulk reassignment flow to distribute open leads to available team members", "AF-02: Planned Absence - Representative sets future Out of Office date, system proactively prevents assignments starting from that date and notifies manager for coverage planning", "AF-03: Emergency Unavailability - Representative marks status as 'Emergency', system immediately reassigns all open leads to queue and notifies manager with high priority", "AF-04: Temporary Busy Status - If status is 'Busy' and representative has fewer than 5 open leads, system keeps assignments and sets reminder to follow up in 4 hours"], "acceptance_criteria": ["Status change takes effect immediately (within 1 minute) preventing new assignments", "Grace period of 24 hours is applied to recently assigned leads before flagging for reassignment", "Manager notification includes: representative name, new status, number of open leads, leads requiring immediate attention", "Representatives with 'Out of Office' status and Return_Date__c have status automatically reset to 'Available' on return date", "System does not reassign leads without explicit action (manual reassignment or representative selection) unless status is 'Emergency'", "User_Availability_History__c captures: timestamp, old status, new status, reason, number of open leads at time of change", "If representative attempts to go unavailable with overdue leads, system displays warning and requires acknowledgment", "Process handles up to 500 open leads per representative without performance degradation"], "salesforce_components": {"fields": ["User.Availability_Status__c", "User.Assignment_Eligibility__c", "User.Return_Date__c", "User.Unavailability_Reason__c", "Lead.OwnerId", "Lead.Status", "Lead.Days_Since_Assignment__c", "Lead.Last_Activity_Date__c", "Lead.Requires_Reassignment__c", "User_Availability_History__c.User__c", "User_Availability_History__c.Previous_Status__c", "User_Availability_History__c.New_Status__c", "User_Availability_History__c.Change_Timestamp__c", "User_Availability_History__c.Open_Leads_Count__c", "User_Availability_History__c.Reason__c"], "objects": ["User", "Lead", "Task", "User_Availability_History__c"], "automation": ["Record-Triggered Flow: 'Handle Availability Change Impact' (After Save)", "Record-Triggered Flow: 'Flag Stale Leads for Reassignment' (After Save)", "Screen Flow: 'Confirm Unavailability with Lead Review' (optional user interaction)", "Scheduled Flow: 'Reset Availability on Return Date' (runs daily at 6 AM)", "Email Alert: 'Representative Unavailability Notification' (to Manager)", "Email Alert: 'Update Open Leads Reminder' (to Representative)", "Apex Trigger: 'PreventAssignmentToUnavailable' on Lead object"], "ui_components": ["Screen Flow Component: 'My Open Leads Summary' shown during status change", "Quick Action: 'Go Unavailable and Reassign Leads' on User object", "Lightning Web Component: 'Team Availability Impact Dashboard' for managers", "Validation Rule: 'Require_Return_Date_for_Out_of_Office' on User object"]}}, {"id": "UC-005-01", "actor": "System (Automated Process)", "title": "System Automatically Calculates Behavioral Score Based on Lead Engagement", "main_flow": ["Lead performs an engagement activity (email open, link click, form submission, website visit)", "System captures engagement activity via Marketing Cloud, Pardot, or custom integration", "Record-Triggered Flow detects new engagement record creation or Lead field update", "Flow retrieves scoring rules from Custom Metadata Type (Scoring_Rule__mdt)", "Flow calculates incremental score based on activity type and recency", "Flow updates Lead.Behavioral_Score__c field with new calculated value", "Flow updates Lead.Last_Engagement_Date__c with timestamp", "Flow evaluates if score crosses threshold defined in Lead.Score_Threshold__c", "System logs scoring calculation in Behavioral_Score_History__c custom object for audit trail"], "preconditions": ["Lead record exists in Salesforce", "Behavioral scoring fields are configured on Lead object", "Engagement tracking is enabled (email opens, clicks, website visits, content downloads)", "Scoring rules and weights are defined in custom metadata or Flow variables"], "postconditions": ["Lead.Behavioral_Score__c field is updated with current score", "Lead.Score_Grade__c picklist is updated (Hot, Warm, Cold) based on score ranges", "Lead.Last_Engagement_Date__c reflects most recent activity timestamp", "Behavioral_Score_History__c record created for tracking score changes over time", "Lead owner receives notification if score crosses Hot threshold"], "alternative_flows": ["ALT-01: If engagement is negative (unsubscribe, spam complaint), Flow decreases behavioral score by configured penalty points", "ALT-02: If Lead has been inactive for configured period (e.g., 30 days), Flow applies score decay calculation to reduce stale lead scores", "ALT-03: If multiple engagement activities occur simultaneously, Flow batches calculations to prevent race conditions", "ALT-04: If scoring calculation fails due to missing data, Flow logs error to Error_Log__c object and sends notification to Sales Operations"], "acceptance_criteria": ["GIVEN a Lead with Behavioral_Score__c = 50, WHEN Lead opens email, THEN score increases by configured points (e.g., +10) within 5 minutes", "GIVEN a Lead performs multiple activities, WHEN scoring runs, THEN all activities are weighted correctly per Scoring_Rule__mdt configuration", "GIVEN a Lead with no activity for 30 days, WHEN decay process runs, THEN score decreases by configured decay percentage", "GIVEN scoring calculation completes, WHEN Lead.Behavioral_Score__c updates, THEN Score_Grade__c automatically updates to correct tier (Hot: 80+, Warm: 50-79, Cold: <50)", "GIVEN any scoring event, WHEN calculation completes, THEN Behavioral_Score_History__c record is created with timestamp, old score, new score, and activity type", "GIVEN scoring error occurs, WHEN exception is caught, THEN error is logged and Sales Operations receives email notification within 15 minutes"], "salesforce_components": {"fields": ["Lead.Behavioral_Score__c (Number)", "Lead.Score_Grade__c (Picklist: Hot, Warm, Cold)", "Lead.Last_Engagement_Date__c (DateTime)", "Lead.Score_Threshold__c (Number)", "Lead.Days_Since_Last_Engagement__c (Formula)", "Behavioral_Score_History__c.Lead__c (Lookup)", "Behavioral_Score_History__c.Previous_Score__c (Number)", "Behavioral_Score_History__c.New_Score__c (Number)", "Behavioral_Score_History__c.Activity_Type__c (Text)", "Behavioral_Score_History__c.Change_Reason__c (Text)", "Scoring_Rule__mdt.Activity_Type__c (Text)", "Scoring_Rule__mdt.Score_Points__c (Number)", "Scoring_Rule__mdt.Decay_Percentage__c (Number)"], "objects": ["Lead", "Behavioral_Score_History__c (Custom)", "Scoring_Rule__mdt (Custom Metadata)", "Error_Log__c (Custom)", "Task or EmailMessage (for engagement tracking)"], "automation": ["Record-Triggered Flow: 'Calculate Behavioral Score on Engagement'", "Scheduled Flow: 'Apply Score Decay for Inactive Leads' (runs daily)", "Record-Triggered Flow: 'Update Score Grade Based on Score'", "Process Builder or Flow: 'Create Score History Record'", "Apex Trigger (if complex logic): 'LeadScoringTrigger' for batch processing"], "ui_components": ["Lead Page Layout: Behavioral Scoring section with Score, Grade, Last Engagement fields", "Related List: Behavioral Score History on Lead record", "Lightning Web Component: Score Trend Chart showing score changes over time", "Quick Action: 'Recalculate Score' button for manual recalculation"]}}, {"id": "UC-005-02", "actor": "System (Automated Process)", "title": "System Automatically Routes High-Scoring Leads to Priority Sales Queue", "main_flow": ["Lead.Behavioral_Score__c field is updated by scoring automation", "Record-Triggered Flow 'Route Lead Based on Score' fires on Lead update", "Flow evaluates current Lead.Score_Grade__c value", "Flow checks if Lead.Status = 'New' or 'Working' (not yet qualified or converted)", "Flow determines appropriate queue based on Score_Grade__c (Hot  Hot_Leads_Queue, Warm  Warm_Leads_Queue, Cold  Cold_Leads_Queue)", "Flow uses Assignment Rules or direct OwnerId update to assign Lead to determined queue", "Flow updates Lead.Routing_Reason__c field with 'Behavioral Score: [score]'", "Flow updates Lead.Last_Routed_Date__c with current timestamp", "System sends email notification to queue members about new high-priority lead assignment", "If Score_Grade__c = 'Hot', Flow creates high-priority Task for immediate follow-up"], "preconditions": ["Lead behavioral scoring is active and calculating scores", "Lead assignment rules are configured in Salesforce", "Priority sales queues exist (Hot_Leads_Queue, Warm_Leads_Queue, Cold_Leads_Queue)", "Lead routing thresholds are defined in custom settings or metadata", "Sales team members are assigned to appropriate queues"], "postconditions": ["Lead.OwnerId is updated to appropriate queue or user", "Lead.Routing_Reason__c documents why lead was routed", "Lead.Last_Routed_Date__c reflects routing timestamp", "Task is created for Hot leads with Priority = High and Due Date = Today", "Queue members receive email notification with lead details and score", "Lead_Routing_History__c record is created for audit trail"], "alternative_flows": ["ALT-01: If Lead is already owned by a sales rep (not in queue), Flow sends notification to owner about score increase but does not reassign", "ALT-02: If Lead.Status = 'Qualified' or 'Converted', Flow skips routing but updates score for reporting purposes", "ALT-03: If target queue is at capacity (configurable limit), Flow assigns to overflow queue or round-robin to available reps", "ALT-04: If Lead score decreases from Hot to Warm/Cold, Flow reassigns to lower priority queue after configured grace period (e.g., 48 hours)", "ALT-05: If Lead has Do_Not_Route__c checkbox = true, Flow skips automatic routing and logs exception"], "acceptance_criteria": ["GIVEN a Lead with Score_Grade__c changes to 'Hot', WHEN routing Flow runs, THEN Lead is assigned to Hot_Leads_Queue within 2 minutes", "GIVEN a Lead is assigned to Hot_Leads_Queue, WHEN assignment completes, THEN high-priority Task is created with Subject 'Follow up on hot lead: [Lead Name]'", "GIVEN a Lead with Score_Grade__c = 'Hot' and OwnerId = sales rep, WHEN routing evaluates, THEN Lead remains with current owner and notification is sent", "GIVEN a Lead with Status = 'Qualified', WHEN score updates, THEN routing is skipped and Lead owner does not change", "GIVEN queue capacity is reached, WHEN new Lead routes, THEN Lead is assigned to next available rep using round-robin logic", "GIVEN a Lead score decreases from Hot to Warm, WHEN grace period expires, THEN Lead is reassigned to Warm_Leads_Queue", "GIVEN any routing action, WHEN completed, THEN Lead_Routing_History__c record captures previous owner, new owner, score, and timestamp"], "salesforce_components": {"fields": ["Lead.Behavioral_Score__c (Number)", "Lead.Score_Grade__c (Picklist)", "Lead.Routing_Reason__c (Text)", "Lead.Last_Routed_Date__c (DateTime)", "Lead.Do_Not_Route__c (Checkbox)", "Lead.Previous_Owner__c (Lookup to User)", "Lead_Routing_History__c.Lead__c (Lookup)", "Lead_Routing_History__c.Previous_Owner__c (Lookup to User)", "Lead_Routing_History__c.New_Owner__c (Lookup to User/Queue)", "Lead_Routing_History__c.Score_At_Routing__c (Number)", "Lead_Routing_History__c.Routing_Reason__c (Text)"], "objects": ["Lead", "Queue", "Task", "Lead_Routing_History__c (Custom)", "Queue_Capacity_Settings__c (Custom Settings)"], "automation": ["Record-Triggered Flow: 'Route Lead Based on Score' (after update)", "Assignment Rules: 'Behavioral Score Based Assignment'", "Record-Triggered Flow: 'Create Follow-Up Task for Hot Leads'", "Record-Triggered Flow: 'Notify Queue Members of New Assignment'", "Scheduled Flow: 'Reassign Downgraded Leads After Grace Period' (runs hourly)", "Apex Class: 'QueueCapacityManager' for round-robin logic"], "ui_components": ["Lead List View: 'Hot Leads - Unassigned' filtered by Score_Grade__c = 'Hot' and Owner = Queue", "Lead List View: 'My High Priority Leads' for sales reps", "Dashboard Component: 'Leads by Score Grade and Queue'", "Email Template: 'Hot Lead Assignment Notification'", "Lead Page Layout: Routing Information section with Last Routed Date and Routing Reason"]}}, {"id": "UC-005-03", "actor": "Sales Development Representative", "title": "Sales Rep Reviews Lead Behavioral Score and Engagement History Before Outreach", "main_flow": ["Sales rep receives notification of new high-scoring lead assignment", "Sales rep navigates to Lead record from email link or queue list view", "Sales rep views Behavioral Scoring section on Lead page layout showing current score, grade, and trend", "Sales rep reviews Score Trend Chart (LWC component) showing score changes over past 30 days", "Sales rep examines Behavioral Score History related list to see specific engagement activities", "Sales rep reviews Activity Timeline to see detailed engagement (email opens, clicks, website visits, content downloads)", "Sales rep identifies most recent high-value engagement (e.g., pricing page visit, demo video watch)", "Sales rep uses engagement insights to personalize outreach message", "Sales rep creates Task or logs Call with notes referencing specific engagement activities", "Sales rep initiates outreach via email, phone, or Agentforce SDR handoff"], "preconditions": ["Lead is assigned to sales rep from queue", "Behavioral scoring data is populated on Lead record", "Engagement history is tracked and visible", "Sales rep has access to Lead record and related data"], "postconditions": ["Sales rep has complete understanding of Lead's engagement journey", "Outreach is personalized based on behavioral insights", "Task or Activity is logged documenting outreach attempt", "Lead.Status is updated to 'Working' or 'Contacted'", "Lead.Last_Activity_Date__c is updated with outreach timestamp"], "alternative_flows": ["ALT-01: If score trend shows recent decline, sales rep adjusts approach to re-engage with targeted content", "ALT-02: If engagement history shows specific product interest, sales rep routes to specialized product expert", "ALT-03: If Lead has high score but no recent activity, sales rep uses 'Send Re-Engagement Campaign' quick action", "ALT-04: If multiple leads from same company have high scores, sales rep coordinates account-based approach", "ALT-05: If engagement pattern suggests Lead is not decision-maker, sales rep researches additional contacts at company"], "acceptance_criteria": ["GIVEN a Lead with Behavioral_Score__c > 80, WHEN sales rep opens Lead record, THEN Behavioral Scoring section displays score, grade, and 30-day trend chart", "GIVEN a Lead with engagement history, WHEN sales rep views record, THEN Behavioral Score History related list shows all scoring events with timestamps and activity types", "GIVEN a Lead with recent high-value engagement, WHEN sales rep reviews Activity Timeline, THEN specific engagement details (page visited, content downloaded, email clicked) are visible", "GIVEN sales rep reviews engagement data, WHEN rep creates Task, THEN Task description can reference specific engagement activities for context", "GIVEN a Lead with declining score trend, WHEN sales rep views Score Trend Chart, THEN chart visually indicates downward trend with color coding (red for declining)", "GIVEN multiple high-scoring leads from same company, WHEN sales rep views Lead, THEN 'Related Leads from Company' component shows other high-scoring leads for coordination"], "salesforce_components": {"fields": ["Lead.Behavioral_Score__c (Number)", "Lead.Score_Grade__c (Picklist)", "Lead.Last_Engagement_Date__c (DateTime)", "Lead.Days_Since_Last_Engagement__c (Formula)", "Lead.Top_Engagement_Activity__c (Text)", "Lead.Engagement_Summary__c (Long Text Area)", "Lead.Status (Picklist)", "Task.Subject (Text)", "Task.Description (Long Text Area)"], "objects": ["Lead", "Task", "Behavioral_Score_History__c (Custom)", "EmailMessage", "Event"], "automation": ["Record-Triggered Flow: 'Update Lead Status on Outreach'", "Apex Class: 'EngagementSummaryGenerator' to populate summary field", "Lightning Web Component: 'behavioralScoreTrendChart'", "Lightning Web Component: 'relatedLeadsFromCompany'"], "ui_components": ["Lead Page Layout: Behavioral Scoring section with Score, Grade, Last Engagement, Days Since Last Engagement", "Lightning Web Component: Score Trend Chart (line chart showing 30-day score history)", "Related List: Behavioral Score History with columns for Date, Activity Type, Score Change, New Score", "Activity Timeline: Enhanced to show engagement activities with icons", "Quick Action: 'Send Re-Engagement Campaign'", "Quick Action: 'Log Personalized Outreach'", "Lightning Web Component: 'Related Leads from Company' showing other high-scoring leads", "Path Component: Lead Status path with guidance based on score grade"]}}, {"id": "UC-005-04", "actor": "Sales Operations Manager", "title": "Sales Manager Configures Behavioral Scoring Rules and Routing Thresholds", "main_flow": ["Sales Operations Manager navigates to Setup and searches for 'Custom Metadata Types'", "Manager selects 'Scoring_Rule__mdt' and clicks 'Manage Records'", "Manager reviews existing scoring rules (Email Open: +5, Link Click: +10, Form Submit: +25, etc.)", "Manager clicks 'New' to create new scoring rule or 'Edit' to modify existing rule", "Manager defines Activity_Type__c (e.g., 'Webinar Attendance')", "Manager sets Score_Points__c value (e.g., 30 points)", "Manager configures Decay_Percentage__c for time-based score reduction (e.g., 10% per 30 days)", "Manager sets Active__c checkbox to enable rule", "Manager saves scoring rule configuration", "Manager navigates to 'Queue_Routing_Settings__c' custom settings", "Manager defines Hot_Score_Threshold__c (e.g., 80), Warm_Score_Threshold__c (e.g., 50)", "Manager configures Grace_Period_Hours__c for score downgrade routing (e.g., 48 hours)", "Manager saves routing threshold configuration", "System automatically applies new rules to future scoring calculations"], "preconditions": ["User has 'Customize Application' permission", "Behavioral scoring framework is deployed", "Custom Metadata Types for scoring rules exist", "Historical lead data is available for analysis"], "postconditions": ["New or updated scoring rules are saved in Scoring_Rule__mdt", "Routing thresholds are updated in Queue_Routing_Settings__c", "Configuration changes are logged in Setup Audit Trail", "Future lead scoring calculations use new rules immediately", "Sales team is notified of scoring rule changes via email or Chatter post"], "alternative_flows": ["ALT-01: If manager wants to test new rules, uses 'Test Scoring Configuration' custom Lightning component to simulate scoring on sample leads", "ALT-02: If historical recalculation is needed, manager runs 'Recalculate All Lead Scores' batch job from custom app", "ALT-03: If rules conflict or produce unexpected results, manager reviews Error_Log__c records and adjusts configuration", "ALT-04: If business requirements change, manager deactivates old rules and creates new versions with effective dates", "ALT-05: If different scoring needed for different lead sources, manager creates source-specific rule sets using Record_Type__c field"], "acceptance_criteria": ["GIVEN Sales Operations Manager with proper permissions, WHEN manager accesses Custom Metadata Types, THEN Scoring_Rule__mdt is visible and editable", "GIVEN manager creates new scoring rule, WHEN rule is saved with Activity_Type__c = 'Webinar Attendance' and Score_Points__c = 30, THEN rule is immediately available for scoring calculations", "GIVEN manager updates Hot_Score_Threshold__c from 80 to 75, WHEN threshold is saved, THEN leads with scores 75-79 are routed to Hot_Leads_Queue on next update", "GIVEN manager configures Decay_Percentage__c = 10%, WHEN scheduled decay process runs, THEN inactive lead scores decrease by 10% per configured period", "GIVEN manager uses Test Scoring Configuration tool, WHEN test runs on sample lead, THEN tool displays calculated score breakdown by activity type without affecting actual lead data", "GIVEN manager runs 'Recalculate All Lead Scores' batch job, WHEN job completes, THEN all lead scores are recalculated using current rules and job completion email is sent", "GIVEN configuration change is saved, WHEN change completes, THEN Setup Audit Trail logs change with timestamp, user, and modified values"], "salesforce_components": {"fields": ["Scoring_Rule__mdt.Activity_Type__c (Text)", "Scoring_Rule__mdt.Score_Points__c (Number)", "Scoring_Rule__mdt.Decay_Percentage__c (Number)", "Scoring_Rule__mdt.Active__c (Checkbox)", "Scoring_Rule__mdt.Effective_Date__c (Date)", "Scoring_Rule__mdt.Record_Type__c (Text)", "Queue_Routing_Settings__c.Hot_Score_Threshold__c (Number)", "Queue_Routing_Settings__c.Warm_Score_Threshold__c (Number)", "Queue_Routing_Settings__c.Cold_Score_Threshold__c (Number)", "Queue_Routing_Settings__c.Grace_Period_Hours__c (Number)", "Queue_Routing_Settings__c.Enable_Auto_Routing__c (Checkbox)"], "objects": ["Scoring_Rule__mdt (Custom Metadata)", "Queue_Routing_Settings__c (Custom Settings)", "Lead", "SetupAuditTrail"], "automation": ["Lightning Web Component: 'scoringRuleConfigurator' for visual rule management", "Lightning Web Component: 'testScoringConfiguration' for rule testing", "Apex Class: 'ScoringRuleManager' for CRUD operations on metadata", "Apex Batch Class: 'RecalculateAllLeadScoresBatch' for bulk recalculation", "Record-Triggered Flow: 'Notify Team of Scoring Changes' when metadata updates"], "ui_components": ["Custom Lightning App: 'Behavioral Scoring Administration'", "Lightning Web Component: Scoring Rule Manager with drag-and-drop priority ordering", "Lightning Web Component: Threshold Configuration with slider controls", "Lightning Web Component: Test Scoring Configuration with sample lead input", "Custom Tab: 'Scoring Analytics' showing rule effectiveness metrics", "Dashboard: 'Scoring Rule Performance' with conversion rates by score range", "Quick Action: 'Run Score Recalculation' on Lead object"]}}, {"id": "UC-005-05", "actor": "Agentforce SDR Agent", "title": "System Integrates with Agentforce SDR to Prioritize Autonomous Lead Nurture Based on Behavioral Score", "main_flow": ["Lead is created or updated with Behavioral_Score__c calculation", "Lead assignment rule assigns Lead to Agentforce SDR Agent user based on criteria (e.g., inbound web lead, score < 60)", "Agentforce SDR Agent detects new lead assignment via Cadence Tracker creation", "Agent evaluates Lead.Score_Grade__c to determine appropriate nurture cadence path", "For Cold leads (score < 50): Agent initiates 'Educational Content Cadence' with 5-7 touch points over 14 days", "For Warm leads (score 50-79): Agent initiates 'Product Interest Cadence' with 3-5 touch points over 7 days", "For Hot leads (score 80+): Agent immediately sends 'Meeting Request Email' and creates high-priority alert for human SDR", "Agent monitors Lead engagement with outreach emails (opens, clicks, replies)", "As Lead engages, behavioral score increases and Agent dynamically adjusts cadence", "If Lead score crosses Hot threshold during nurture, Agent transitions to 'Accelerated Qualification Path'", "If Lead replies with question, Agent uses Knowledge Articles to provide autonomous response", "If Lead requests meeting, Agent books meeting using integrated scheduling and hands off to human SDR", "Agent updates Cadence Step Tracker and logs all activities on Lead Activity Timeline"], "preconditions": ["Agentforce for Sales Development is provisioned and configured", "Lead is assigned to Agentforce SDR Agent user", "Behavioral scoring is active and calculating scores", "Cadences are configured with score-based branching logic", "Email templates and prompt templates are created for different score tiers"], "postconditions": ["Lead is enrolled in appropriate score-based cadence", "Agentforce SDR Agent activities are logged on Lead Activity Timeline", "Cadence Tracker and Cadence Step Tracker records reflect current nurture status", "Lead.Behavioral_Score__c continues to update based on engagement with Agent outreach", "High-scoring leads are transitioned to human SDR with complete context", "Meeting is booked for qualified leads with Agent handoff notes"], "alternative_flows": ["ALT-01: If Lead score decreases during nurture, Agent extends cadence duration and adjusts messaging to re-engagement focus", "ALT-02: If Lead opts out of communications, Agent immediately stops outreach, updates Email_Opt_Out field, and removes from cadence", "ALT-03: If Lead replies with objection, Agent uses configured objection handling prompts to respond and logs interaction for human review", "ALT-04: If Lead does not engage after full cadence completion, Agent assigns to 'Long-Term Nurture Queue' for periodic check-ins", "ALT-05: If Lead score indicates buying intent (specific high-value activities), Agent escalates immediately to human SDR regardless of cadence stage"], "acceptance_criteria": ["GIVEN a Lead with Score_Grade__c = 'Cold' assigned to Agentforce SDR, WHEN assignment occurs, THEN Agent enrolls Lead in 'Educational Content Cadence' within 1 hour", "GIVEN a Lead with Score_Grade__c = 'Hot' assigned to Agentforce SDR, WHEN assignment occurs, THEN Agent sends 'Meeting Request Email' immediately and creates Task for human SDR", "GIVEN a Lead in Agent cadence with score increasing from Warm to Hot, WHEN score threshold is crossed, THEN Agent transitions Lead to 'Accelerated Qualification Path' and notifies human SDR", "GIVEN a Lead replies to Agent email with product question, WHEN Agent receives reply, THEN Agent searches Knowledge Articles and sends relevant response within 15 minutes", "GIVEN a Lead requests meeting in reply to Agent, WHEN Agent detects meeting request, THEN Agent books meeting using available time slots and sends confirmation with handoff notes to human SDR", "GIVEN a Lead opts out during Agent nurture, WHEN opt-out is detected, THEN Agent immediately stops all outreach, updates Lead.Email_Opt_Out = true, and removes from cadence", "GIVEN Agent completes cadence without Lead qualification, WHEN cadence ends, THEN Agent assigns Lead to 'Long-Term Nurture Queue' and logs summary of engagement attempts", "GIVEN any Agent activity, WHEN activity completes, THEN activity is visible on Lead Activity Timeline with Agent User attribution and activity details"], "salesforce_components": {"fields": ["Lead.Behavioral_Score__c (Number)", "Lead.Score_Grade__c (Picklist)", "Lead.Agent_Nurture_Status__c (Picklist: Not Started, In Progress, Qualified, Unresponsive)", "Lead.Cadence_Name__c (Text)", "Lead.Agent_Handoff_Notes__c (Long Text Area)", "Lead.Email_Opt_Out (Checkbox)", "Cadence_Tracker__c.Lead__c (Lookup)", "Cadence_Tracker__c.Cadence__c (Lookup)", "Cadence_Tracker__c.Current_Step__c (Number)", "Cadence_Tracker__c.Status__c (Picklist)", "Cadence_Step_Tracker__c.Cadence_Tracker__c (Lookup)", "Cadence_Step_Tracker__c.Step_Status__c (Picklist)", "Cadence_Step_Tracker__c.Completed_Date__c (DateTime)"], "objects": ["Lead", "Cadence", "Cadence_Tracker__c", "Cadence_Step_Tracker__c", "EmailMessage", "Task", "Event", "Knowledge__kav"], "automation": ["Agentforce SDR Agent: Configured with score-based topic routing", "Agent Action: 'Send Initial Outreach Email' with score-based template selection", "Agent Action: 'Send Nudge Email' with dynamic timing based on score", "Agent Action: 'Respond to Prospect Question' using Knowledge Articles", "Agent Action: 'Book Meeting' with calendar integration", "Agent Action: 'Handle Opt-Out' with immediate cadence removal", "Record-Triggered Flow: 'Transition Agent Cadence on Score Change'", "Record-Triggered Flow: 'Escalate Hot Lead to Human SDR'", "Prompt Template: 'Educational Outreach for Cold Leads'", "Prompt Template: 'Product Interest Outreach for Warm Leads'", "Prompt Template: 'Meeting Request for Hot Leads'", "Prompt Template: 'Objection Handling Response'"], "ui_components": ["Lead Page Layout: Agent Nurture section with Cadence Name, Status, Current Step", "Related List: Cadence Step Tracker showing completed and upcoming steps", "Activity Timeline: Enhanced to show Agent activities with distinct icon", "Lightning Web Component: 'Agent Performance Metrics' on Lead record", "Dashboard: 'Agentforce SDR Effectiveness by Score Tier'", "Report: 'Lead Conversion Rate by Agent Cadence and Score Grade'", "Quick Action: 'Manually Transition to Human SDR' with handoff form"]}}, {"id": "UC-006-01", "actor": "Sales Representative", "title": "Sales Rep Creates Multi-Product Opportunity with Vehicle and Extensions", "main_flow": ["Sales Rep navigates to Opportunities tab and clicks 'New Opportunity'", "Sales Rep enters Opportunity Name, Account, Close Date, and Stage", "Sales Rep selects appropriate Price Book for the region/product line", "Sales Rep clicks 'Add Products' to open product selection interface", "Sales Rep searches and selects primary Vehicle product from catalog", "Sales Rep enters quantity (typically 1 for vehicles) and confirms", "Sales Rep clicks 'Add Products' again to add Extension products", "Sales Rep selects multiple Extension products (warranty, maintenance packages)", "Sales Rep enters quantities for each Extension product", "Sales Rep clicks 'Add Products' again to add Complementary Services", "Sales Rep selects Service products (financing, insurance, accessories)", "Sales Rep enters quantities and adjusts pricing if authorized", "System calculates total Opportunity Amount based on all product line items", "Sales Rep reviews product groupings using Product_Group__c field values", "Sales Rep saves the Opportunity with all associated products"], "preconditions": ["Sales Rep has access to Opportunity object with create permissions", "Product Catalog is configured with Vehicles, Extensions, and Services", "OpportunityLineItem object is enabled", "Price Books are configured and active", "Account record exists for the customer"], "postconditions": ["Opportunity record is created with status 'Qualification' or 'Needs Analysis'", "Multiple OpportunityLineItem records exist linked to the Opportunity", "Each product line item has correct Product_Group__c classification", "Opportunity Amount reflects sum of all product line items", "Product mix is visible in Opportunity Product related list", "Opportunity appears in Sales Rep's pipeline reports"], "alternative_flows": [{"steps": ["Sales Rep contacts Product Manager to add missing product", "Sales Rep saves Opportunity without complete product list", "Sales Rep adds note in Opportunity description about pending products", "Sales Rep returns later to complete product selection"], "condition": "Product not found in catalog"}, {"steps": ["Sales Rep enters discounted price on product line items", "System triggers approval process based on discount threshold", "Sales Rep submits Opportunity for approval", "Manager reviews and approves/rejects pricing", "System notifies Sales Rep of approval decision"], "condition": "Pricing requires manager approval"}, {"steps": ["Sales Rep selects pre-configured Product Bundle from catalog", "System automatically adds all bundle components as separate line items", "Sales Rep reviews and adjusts quantities if needed", "System applies bundle discount to total amount"], "condition": "Customer requests product bundle"}], "acceptance_criteria": ["Sales Rep can add minimum 1 Vehicle product to an Opportunity", "Sales Rep can add multiple Extension products (at least 5) to same Opportunity", "Sales Rep can add multiple Service products (at least 5) to same Opportunity", "Product_Group__c field correctly categorizes products as 'Vehicle', 'Extension', or 'Service'", "Opportunity Amount automatically recalculates when products are added/removed", "Product related list displays all products with quantities and prices", "Sales Rep can edit quantities and prices on existing product line items", "System prevents duplicate products unless explicitly allowed", "Product search returns results within 2 seconds for catalogs up to 10,000 products", "All product additions are tracked in Opportunity History"], "salesforce_components": {"fields": ["Opportunity.Name", "Opportunity.AccountId", "Opportunity.CloseDate", "Opportunity.StageName", "Opportunity.Amount", "Opportunity.Pricebook2Id", "OpportunityLineItem.OpportunityId", "OpportunityLineItem.Product2Id", "OpportunityLineItem.Quantity", "OpportunityLineItem.UnitPrice", "OpportunityLineItem.TotalPrice", "OpportunityLineItem.Product_Group__c", "Product2.Name", "Product2.ProductCode", "Product2.Product_Category__c", "Product2.Product_Group__c", "Product2.IsActive"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "PricebookEntry", "Pricebook2", "Account"], "automation": ["Record-Triggered Flow: Calculate Opportunity Amount on Product Add/Update/Delete", "Record-Triggered Flow: Validate Product Group Classification", "Record-Triggered Flow: Trigger Approval Process for Discount Thresholds", "Validation Rule: Prevent negative quantities on OpportunityLineItem", "Validation Rule: Require Price Book selection before adding products"], "ui_components": ["Opportunity Record Page with Products Related List", "Enhanced Product Selection Lightning Component", "Custom Lightning Web Component: Product Group Summary", "Path component for Opportunity Stage progression", "Quick Action: Add Multiple Products"]}}, {"id": "UC-006-02", "actor": "System (Automated Process)", "title": "System Validates Product Compatibility and Dependencies in Multi-Product Opportunity", "main_flow": ["Sales Rep attempts to add new product to existing Opportunity", "System triggers Record-Triggered Flow on OpportunityLineItem insert", "Flow retrieves all existing products on the Opportunity", "Flow queries Product_Compatibility__c for the new product being added", "Flow checks if new product is compatible with existing Vehicle product", "Flow validates required dependencies using Product_Relationship__c records", "Flow checks if required complementary products exist (e.g., warranty requires vehicle)", "Flow validates product group limits (e.g., max 1 vehicle per opportunity)", "Flow verifies no conflicting products exist (e.g., mutually exclusive warranties)", "If all validations pass, Flow allows product addition to proceed", "Flow updates Opportunity field Validation_Status__c to 'Valid'", "System displays success message to Sales Rep"], "preconditions": ["Opportunity exists with at least one product added", "Product compatibility rules are configured in Product_Compatibility__c object", "Product dependency matrix is defined in Product_Relationship__c object", "Validation Flow is active and deployed"], "postconditions": ["Only compatible products exist on the Opportunity", "All product dependencies are satisfied", "Product group limits are enforced", "Validation_Status__c field reflects current validation state", "Validation errors are logged for reporting and analysis", "Sales Rep receives clear feedback on validation results"], "alternative_flows": [{"steps": ["Flow prevents product addition and rolls back transaction", "System displays error message listing incompatible products", "Sales Rep must remove incompatible product or cancel new addition", "Flow logs validation failure in Opportunity_Validation_Log__c object"], "condition": "Incompatible product detected"}, {"steps": ["Flow prevents product addition", "System displays warning message listing required products", "System offers Quick Action to add required products automatically", "Sales Rep can choose to add dependencies or cancel", "If dependencies added, Flow re-validates entire product set"], "condition": "Required dependency missing"}, {"steps": ["Flow prevents addition of product exceeding group limit", "System displays error: 'Maximum 1 Vehicle allowed per Opportunity'", "Sales Rep must create separate Opportunity for additional vehicle", "System offers Quick Action to clone Opportunity for new vehicle"], "condition": "Product group limit exceeded"}], "acceptance_criteria": ["System validates product compatibility within 3 seconds of product addition", "Validation prevents adding more than 1 Vehicle product per Opportunity", "System enforces that Extension products require a Vehicle product", "System prevents adding conflicting warranty types to same Opportunity", "Error messages clearly identify which products are incompatible and why", "Validation Flow handles Opportunities with up to 50 product line items", "System logs all validation failures with timestamp and user information", "Sales Rep can override validation with appropriate permission and approval", "Validation rules are configurable without code changes", "System validates entire product set when any product is modified or removed"], "salesforce_components": {"fields": ["Opportunity.Validation_Status__c", "Opportunity.Last_Validation_Date__c", "OpportunityLineItem.Product_Group__c", "OpportunityLineItem.Is_Primary_Product__c", "Product_Compatibility__c.Product_A__c", "Product_Compatibility__c.Product_B__c", "Product_Compatibility__c.Compatibility_Type__c", "Product_Relationship__c.Parent_Product__c", "Product_Relationship__c.Required_Product__c", "Product_Relationship__c.Relationship_Type__c", "Opportunity_Validation_Log__c.Opportunity__c", "Opportunity_Validation_Log__c.Validation_Type__c", "Opportunity_Validation_Log__c.Error_Message__c", "Opportunity_Validation_Log__c.Timestamp__c"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "Product_Compatibility__c", "Product_Relationship__c", "Opportunity_Validation_Log__c"], "automation": ["Record-Triggered Flow: Validate Product Compatibility on Insert/Update", "Record-Triggered Flow: Check Product Dependencies", "Record-Triggered Flow: Enforce Product Group Limits", "Apex Trigger: Complex Validation Logic for Product Matrix", "Validation Rule: Prevent manual override without permission", "Process Builder: Log Validation Failures", "Scheduled Flow: Daily validation of all open Opportunities"], "ui_components": ["Custom Lightning Component: Product Compatibility Matrix Viewer", "Screen Flow: Add Products with Real-Time Validation", "Custom Error Message Component on Product Selection", "Quick Action: Add Required Dependencies", "Lightning App Builder: Validation Status Dashboard"]}}, {"id": "UC-006-03", "actor": "Sales Manager", "title": "Sales Manager Analyzes Product Mix and Performance Across Opportunities", "main_flow": ["Sales Manager navigates to Sales Analytics Dashboard", "Manager selects 'Product Mix Analysis' report from dashboard", "System displays breakdown of Opportunities by Product Group", "Manager views count and percentage of Opportunities containing Vehicles", "Manager views average number of Extensions per Opportunity", "Manager views average number of Services per Opportunity", "Manager filters report by Sales Rep, Region, or Time Period", "System displays product attachment rates (% of Opportunities with each product type)", "Manager drills down into specific Product Group for detailed analysis", "System shows top 10 most frequently sold products in each group", "Manager views revenue contribution by Product Group", "Manager identifies opportunities with Vehicle only (no Extensions/Services)", "Manager exports report data for executive presentation", "Manager schedules automated report delivery to team"], "preconditions": ["Multiple Opportunities exist with various product combinations", "OpportunityLineItem records have Product_Group__c populated", "Reports and Dashboards are configured for product analysis", "Sales Manager has access to Opportunity and Product reports", "Historical data exists for trend analysis (minimum 3 months)"], "postconditions": ["Sales Manager has clear visibility into product mix across pipeline", "Product attachment rates are calculated and displayed", "Revenue contribution by Product Group is quantified", "Opportunities lacking cross-sell products are identified", "Report is saved and available for future analysis", "Team receives actionable insights for improving product mix"], "alternative_flows": [{"steps": ["Manager creates custom report with Product2 cross-filters", "Manager adds filters for specific product combinations", "System displays Opportunities matching the combination criteria", "Manager analyzes win rates for different product bundles", "Manager saves report for future reference"], "condition": "Manager wants to analyze specific product combinations"}, {"steps": ["Manager creates list view of Opportunities with Vehicle but no Extensions", "Manager assigns follow-up tasks to Sales Reps", "Manager creates coaching opportunity for cross-selling techniques", "Manager sets up automated alert for future similar opportunities"], "condition": "Manager identifies low attachment rate for Extensions"}, {"steps": ["Manager navigates to Forecasting tab", "Manager applies Product_Group__c filter to forecast view", "System displays forecast amounts segmented by product type", "Manager adjusts forecast categories based on product mix", "Manager submits forecast with product group breakdown"], "condition": "Manager needs forecast by Product Group"}], "acceptance_criteria": ["Dashboard displays product mix for all open Opportunities in real-time", "Report shows percentage of Opportunities containing each Product Group", "System calculates average number of products per Opportunity by group", "Manager can filter analysis by Sales Rep, Region, Stage, and Date Range", "Report loads within 5 seconds for datasets up to 10,000 Opportunities", "Product attachment rate calculation is accurate to 2 decimal places", "Manager can drill down from summary to individual Opportunity details", "Report includes trend analysis comparing current vs. previous period", "Export functionality generates Excel file with all data points", "Scheduled reports deliver automatically on specified frequency"], "salesforce_components": {"fields": ["Opportunity.StageName", "Opportunity.Amount", "Opportunity.CloseDate", "Opportunity.OwnerId", "Opportunity.Territory__c", "OpportunityLineItem.Product_Group__c", "OpportunityLineItem.TotalPrice", "OpportunityLineItem.Product2Id", "Product2.Product_Group__c", "Product2.Product_Category__c"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "Report", "Dashboard", "ForecastingQuota"], "automation": ["Scheduled Flow: Daily Product Mix Summary Calculation", "Record-Triggered Flow: Update Opportunity Product_Mix_Score__c field", "Apex Batch Job: Calculate Product Attachment Rates weekly", "Einstein Analytics Recipe: Product Performance Analysis", "Report Subscription: Weekly Product Mix Report to Management"], "ui_components": ["Lightning Dashboard: Product Mix Analysis", "Custom Report Type: Opportunities with Products and Product Groups", "Dashboard Component: Product Group Revenue Pie Chart", "Dashboard Component: Product Attachment Rate Gauge", "Dashboard Component: Top Products by Revenue Bar Chart", "List View: Opportunities Missing Extensions", "Einstein Analytics Dashboard: Advanced Product Analytics"]}}, {"id": "UC-006-04", "actor": "Sales Representative", "title": "Sales Rep Configures Product Bundle with Dynamic Pricing for Vehicle Package", "main_flow": ["Sales Rep opens Opportunity and clicks 'Add Product Bundle'", "System displays available Product Bundles filtered by Product_Group__c", "Sales Rep selects 'Premium Vehicle Package' bundle", "System retrieves all bundle components from Product_Bundle_Item__c", "System displays bundle configuration screen with all included products", "Sales Rep reviews base Vehicle product (required, quantity = 1)", "Sales Rep selects optional Extension products from bundle (warranty levels)", "Sales Rep selects optional Service products (maintenance packages, accessories)", "System calculates bundle price based on selected components", "System applies bundle discount percentage to total price", "Sales Rep adjusts quantities for configurable components", "System recalculates price dynamically as selections change", "Sales Rep reviews final bundle price and discount amount", "Sales Rep clicks 'Add Bundle to Opportunity'", "System creates OpportunityLineItem records for each bundle component", "System links all components via Bundle_Group_ID__c field", "System applies bundle discount across component line items", "Sales Rep reviews added products in Opportunity Product related list"], "preconditions": ["Product Bundles are configured in Product2 with Is_Bundle__c = true", "Bundle components are defined in Product_Bundle_Item__c junction object", "Dynamic pricing rules are configured in CPQ or custom pricing engine", "Sales Rep has permission to configure and price bundles", "Customer Account and Opportunity exist"], "postconditions": ["All bundle components are added as separate OpportunityLineItem records", "Bundle_Group_ID__c field links all components together", "Bundle discount is applied and visible on line items", "Total Opportunity Amount reflects bundle pricing", "Bundle configuration is saved for reference", "Sales Rep can modify or remove entire bundle as a unit"], "alternative_flows": [{"steps": ["Sales Rep clicks 'Customize Bundle' button", "System allows adding/removing products within bundle rules", "System recalculates pricing based on customizations", "System validates that required bundle components remain", "Sales Rep saves customized bundle configuration", "System creates custom bundle record for future reference"], "condition": "Sales Rep wants to customize bundle beyond standard options"}, {"steps": ["Sales Rep removes optional high-cost components", "System recalculates bundle price with reduced components", "Sales Rep applies additional discount if authorized", "System triggers approval workflow if discount exceeds threshold", "Sales Rep saves bundle pending approval"], "condition": "Bundle price exceeds customer budget"}, {"steps": ["System displays warning message for unavailable component", "System suggests alternative products from same category", "Sales Rep selects substitute product", "System recalculates bundle price with substitute", "Sales Rep adds note about substitution to Opportunity"], "condition": "Bundle component is out of stock"}], "acceptance_criteria": ["Sales Rep can select from at least 5 pre-configured Product Bundles", "Bundle configuration screen displays all components with descriptions and prices", "System calculates bundle price dynamically within 2 seconds of selection change", "Bundle discount (5-20%) is automatically applied to total price", "All bundle components share common Bundle_Group_ID__c value", "Sales Rep can add/remove optional components while maintaining required items", "System prevents removing required bundle components", "Bundle pricing respects individual product price book entries", "Sales Rep can save partially configured bundle and return later", "Removing bundle removes all associated component line items"], "salesforce_components": {"fields": ["Product2.Is_Bundle__c", "Product2.Bundle_Discount_Percent__c", "OpportunityLineItem.Bundle_Group_ID__c", "OpportunityLineItem.Is_Bundle_Component__c", "OpportunityLineItem.Bundle_Discount_Amount__c", "Product_Bundle_Item__c.Bundle_Product__c", "Product_Bundle_Item__c.Component_Product__c", "Product_Bundle_Item__c.Is_Required__c", "Product_Bundle_Item__c.Default_Quantity__c", "Product_Bundle_Item__c.Sequence__c", "Bundle_Configuration__c.Opportunity__c", "Bundle_Configuration__c.Configuration_JSON__c"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "Product_Bundle_Item__c", "PricebookEntry", "Bundle_Configuration__c"], "automation": ["Screen Flow: Product Bundle Configuration Wizard", "Record-Triggered Flow: Calculate Bundle Pricing on Component Change", "Record-Triggered Flow: Assign Bundle_Group_ID__c to Components", "Apex Class: BundlePricingEngine for complex calculations", "Record-Triggered Flow: Validate Bundle Component Requirements", "Before Delete Trigger: Remove all bundle components when bundle removed"], "ui_components": ["Lightning Web Component: Interactive Bundle Configurator", "Screen Flow: Bundle Selection and Configuration", "Custom Lightning Component: Bundle Price Calculator", "Quick Action: Add Product Bundle", "Custom Lightning Component: Bundle Component Summary Card", "Related List: Bundle Components grouped view"]}}, {"id": "UC-006-05", "actor": "System (Automated Reporting)", "title": "System Generates Product Performance Reports for Territory and Split Analysis", "main_flow": ["System executes scheduled Apex batch job at configured interval (daily/weekly)", "Batch job queries all Opportunities with Stage = 'Closed Won' in date range", "System retrieves all OpportunityLineItem records for closed opportunities", "System joins with OpportunitySplit and OpportunityLineItemSplit records", "System calculates revenue by Product_Group__c for each Territory", "System aggregates product counts by Territory and Split Territory", "System calculates product attachment rates by Territory", "System identifies top-performing products per Territory", "System calculates average deal size by Product Group and Territory", "System generates Product_Performance_Summary__c records", "System updates Territory_Product_Metrics__c custom object", "System creates dashboard data for Territory Managers", "System sends automated report to Territory Managers and Sales Leadership", "System archives previous period data for trend analysis"], "preconditions": ["Opportunity Splits are enabled and configured", "Territory Management is enabled", "OpportunityLineItem records exist with Product_Group__c populated", "Opportunity Product Splits are configured per Winter '25 release", "Split Territory field is added to split layouts", "Historical data exists for meaningful analysis"], "postconditions": ["Product_Performance_Summary__c records created for each Territory and Product Group", "Territory_Product_Metrics__c object updated with current period data", "Dashboard components display updated product performance data", "Territory Managers receive automated report via email", "Historical trend data is preserved for comparison", "Data quality issues are logged and reported"], "alternative_flows": [{"steps": ["System flags Territory as 'Insufficient Data' in report", "System includes Territory in aggregate regional analysis", "System sends notification to Territory Manager about data gap", "System provides recommendations for minimum data requirements"], "condition": "Insufficient data for specific Territory"}, {"steps": ["System identifies products with >50% variance from average", "System flags anomalies in Product_Performance_Summary__c", "System sends alert to Sales Operations team", "System creates task for investigation and follow-up", "System includes anomaly explanation in executive report"], "condition": "Product performance anomaly detected"}, {"steps": ["System logs opportunities with missing Split Territory assignment", "System sends data quality report to Sales Operations", "System excludes incomplete records from Territory-specific metrics", "System includes incomplete records in overall company metrics"], "condition": "Split Territory data missing"}], "acceptance_criteria": ["System processes all closed opportunities from previous period within 30 minutes", "Report includes product revenue breakdown by Territory and Split Territory", "System calculates product attachment rates with 99.9% accuracy", "Report shows top 10 products by revenue for each Territory", "System handles Opportunities with up to 50 product line items", "Split Territory fields are included in all product split reports", "Dashboard updates within 1 hour of batch job completion", "Report includes comparison to previous period (% change)", "System sends report to all Territory Managers by 8 AM local time", "Data quality report identifies all records with missing required fields"], "salesforce_components": {"fields": ["OpportunitySplit.SplitPercentage", "OpportunitySplit.SplitAmount", "OpportunitySplit.Territory2Id", "OpportunityLineItemSplit.SplitPercentage", "OpportunityLineItemSplit.SplitAmount", "OpportunityLineItemSplit.Split_Territory__c", "OpportunityLineItem.Product_Group__c", "OpportunityLineItem.TotalPrice", "Product_Performance_Summary__c.Territory__c", "Product_Performance_Summary__c.Product_Group__c", "Product_Performance_Summary__c.Total_Revenue__c", "Product_Performance_Summary__c.Unit_Count__c", "Product_Performance_Summary__c.Attachment_Rate__c", "Product_Performance_Summary__c.Period_Start_Date__c", "Product_Performance_Summary__c.Period_End_Date__c", "Territory_Product_Metrics__c.Territory__c", "Territory_Product_Metrics__c.Vehicle_Revenue__c", "Territory_Product_Metrics__c.Extension_Revenue__c", "Territory_Product_Metrics__c.Service_Revenue__c"], "objects": ["Opportunity", "OpportunityLineItem", "OpportunitySplit", "OpportunityLineItemSplit", "Territory2", "Product2", "Product_Performance_Summary__c", "Territory_Product_Metrics__c"], "automation": ["Scheduled Apex Batch: ProductPerformanceCalculationBatch (daily at 2 AM)", "Scheduled Flow: Generate Weekly Territory Product Reports", "Apex Class: TerritoryProductMetricsCalculator", "Apex Class: ProductSplitAnalyzer", "Email Alert: Territory Product Performance Report", "Platform Event: Product_Performance_Calculated__e for real-time updates", "Queueable Apex: Async processing for large data volumes"], "ui_components": ["Lightning Dashboard: Territory Product Performance", "Custom Report Type: Opportunities with Products and Territory Splits", "Dashboard Component: Product Revenue by Territory Heat Map", "Dashboard Component: Product Attachment Rate Trend Line", "Dashboard Component: Top Products by Territory Table", "Einstein Analytics Dashboard: Advanced Territory Product Analysis", "Custom Report: Split Territory Contribution Analysis"]}}, {"id": "UC-007-01", "actor": "Sales Representative", "title": "Sales Rep Submits Trade-In Request During Opportunity", "main_flow": ["Sales Rep navigates to Opportunity record", "Sales Rep clicks 'Submit Trade-In Request' button on Opportunity page", "System launches Screen Flow for Trade-In submission", "Sales Rep enters trade-in details: Item Description, Estimated Value, Condition, Year/Model", "Sales Rep uploads supporting documents (photos, appraisal documents)", "Sales Rep submits the form", "System creates Trade_In_Request__c record linked to Opportunity", "System sets Status__c to 'Pending Review'", "System sends email notification to Trade-In Appraisal Team", "System creates Task for Appraisal Team to review within 2 business days", "System displays confirmation message to Sales Rep with Request Number", "System updates Opportunity field Has_Trade_In__c to True"], "preconditions": ["Sales Rep has an active Opportunity record", "Customer has expressed interest in trading in existing equipment/vehicle", "Sales Rep has necessary trade-in details from customer", "Trade-In object and related fields are configured in Salesforce"], "postconditions": ["Trade_In_Request__c record is created and linked to Opportunity", "Appraisal Team receives notification and task assignment", "Opportunity record reflects pending trade-in status", "Sales Rep can track trade-in request status from Opportunity", "Audit trail captures submission timestamp and user"], "alternative_flows": ["If required fields are missing, system displays validation error and prevents submission", "If estimated value exceeds $50,000, system routes to Senior Appraiser queue", "If customer declines trade-in mid-process, Sales Rep can cancel and system marks request as 'Cancelled'", "If duplicate trade-in request exists for same Opportunity, system warns user and prevents duplicate creation"], "acceptance_criteria": ["Trade-In Request record is created with all mandatory fields populated", "Request Number is auto-generated in format TIR-YYYYMMDD-####", "Email notification is sent to Trade-In Appraisal Team within 5 minutes", "Task is created with due date of 2 business days from submission", "Opportunity field Has_Trade_In__c is updated to True", "Sales Rep receives confirmation message with clickable Request Number link", "Uploaded documents are attached to Trade_In_Request__c record", "System prevents submission if Item_Description__c or Estimated_Value__c are blank"], "salesforce_components": {"fields": ["Trade_In_Request__c.Request_Number__c", "Trade_In_Request__c.Opportunity__c", "Trade_In_Request__c.Item_Description__c", "Trade_In_Request__c.Estimated_Value__c", "Trade_In_Request__c.Condition__c", "Trade_In_Request__c.Year_Model__c", "Trade_In_Request__c.Status__c", "Trade_In_Request__c.Submitted_Date__c", "Trade_In_Request__c.Submitted_By__c", "Opportunity.Has_Trade_In__c"], "objects": ["Opportunity", "Trade_In_Request__c", "Task", "ContentDocument", "ContentVersion"], "automation": ["Screen Flow: Trade_In_Submission_Flow", "Record-Triggered Flow: After Trade-In Request Created", "Email Alert: Notify_Appraisal_Team", "Auto-Number Field: Request_Number__c"], "ui_components": ["Quick Action Button on Opportunity: Submit Trade-In Request", "Screen Flow with file upload component", "Related List on Opportunity: Trade-In Requests", "Validation Rules on Trade_In_Request__c"]}}, {"id": "UC-007-02", "actor": "Trade-In Appraiser", "title": "Appraisal Team Reviews and Approves Trade-In Request", "main_flow": ["Appraiser receives email notification with link to Trade-In Request", "Appraiser clicks link and navigates to Trade_In_Request__c record", "Appraiser reviews submitted details and uploaded documents", "Appraiser conducts valuation assessment", "Appraiser enters Appraised_Value__c and Appraisal_Notes__c", "Appraiser clicks 'Submit for Approval' button", "System launches approval process", "System routes to appropriate approver based on appraised value", "Approver receives approval request notification", "Approver reviews and clicks 'Approve'", "System updates Status__c to 'Approved'", "System updates Final_Trade_In_Value__c with approved amount", "System sends notification to Sales Rep with approved value", "System updates related Opportunity with Trade_In_Value__c", "System marks appraiser's Task as Complete"], "preconditions": ["Trade_In_Request__c record exists with Status__c = 'Pending Review'", "Appraiser has received notification and task assignment", "Appraiser has access to Trade_In_Request__c object", "Supporting documents are attached to the request"], "postconditions": ["Trade_In_Request__c Status__c is updated to 'Approved' or 'Rejected'", "Final_Trade_In_Value__c is populated with approved amount", "Sales Rep is notified of approval decision", "Opportunity Trade_In_Value__c field is updated", "Approval history is recorded in Trade_In_Request__c", "Original task is marked complete"], "alternative_flows": ["If appraised value differs significantly from estimated value, system requires Manager approval", "If approver rejects, system sets Status__c to 'Rejected' and notifies Sales Rep with rejection reason", "If appraiser needs more information, system sets Status__c to 'Information Required' and creates task for Sales Rep", "If no action taken within 2 business days, system sends escalation email to Appraisal Manager", "If appraiser determines item is not eligible for trade-in, system allows marking as 'Not Eligible' with reason"], "acceptance_criteria": ["Appraiser can only submit for approval after entering Appraised_Value__c", "Approval routing logic: <$10K to Team Lead, $10K-$50K to Manager, >$50K to Director", "Status__c changes to 'Pending Approval' when submitted to approval process", "Status__c changes to 'Approved' only after final approver approves", "Email notification sent to Sales Rep within 5 minutes of approval", "Opportunity.Trade_In_Value__c equals Trade_In_Request__c.Final_Trade_In_Value__c", "Approval comments are captured and visible on Trade_In_Request__c record", "System prevents editing of Appraised_Value__c after approval submission"], "salesforce_components": {"fields": ["Trade_In_Request__c.Status__c", "Trade_In_Request__c.Appraised_Value__c", "Trade_In_Request__c.Appraisal_Notes__c", "Trade_In_Request__c.Final_Trade_In_Value__c", "Trade_In_Request__c.Appraised_By__c", "Trade_In_Request__c.Appraised_Date__c", "Trade_In_Request__c.Rejection_Reason__c", "Opportunity.Trade_In_Value__c"], "objects": ["Trade_In_Request__c", "Opportunity", "Task", "ProcessInstance", "ProcessInstanceStep"], "automation": ["Approval Process: Trade_In_Approval_Process", "Record-Triggered Flow: After Trade-In Approved", "Record-Triggered Flow: After Trade-In Rejected", "Email Alert: Notify_Sales_Rep_Approval", "Email Alert: Notify_Sales_Rep_Rejection", "Field Update: Set Status to Approved", "Field Update: Update Final Trade-In Value", "Time-Based Workflow: Escalation After 2 Days"], "ui_components": ["Custom Button on Trade_In_Request__c: Submit for Approval", "Page Layout with Approval History related list", "Validation Rule: Appraised Value Required", "Record Type: Standard Trade-In vs High-Value Trade-In"]}}, {"id": "UC-007-03", "actor": "Sales Representative", "title": "Sales Rep Applies Approved Trade-In Value to Quote", "main_flow": ["Sales Rep navigates to Quote record from Opportunity", "Sales Rep clicks 'Apply Trade-In' button on Quote", "System retrieves approved Trade_In_Request__c linked to Opportunity", "System displays trade-in details in modal window", "Sales Rep confirms application of trade-in value", "System creates Quote Line Item with Product = 'Trade-In Credit'", "System sets Quote Line Item Quantity = 1 and Unit Price = negative Final_Trade_In_Value__c", "System recalculates Quote Total Amount", "System updates Quote field Trade_In_Applied__c to True", "System updates Trade_In_Request__c.Applied_To_Quote__c with Quote reference", "System displays success message with updated Quote total", "System locks Trade_In_Request__c to prevent further modifications"], "preconditions": ["Trade_In_Request__c exists with Status__c = 'Approved'", "Final_Trade_In_Value__c is populated", "Quote record exists and is linked to Opportunity", "Sales Rep has edit access to Quote"], "postconditions": ["Quote Line Item created with trade-in credit as negative amount", "Quote Total Amount reflects trade-in deduction", "Trade_In_Request__c is marked as applied to specific Quote", "Trade_In_Request__c record is locked from editing", "Quote displays trade-in information in summary section"], "alternative_flows": ["If no approved trade-in exists, system displays message 'No approved trade-in available'", "If trade-in already applied to another Quote, system warns user and prevents duplicate application", "If Sales Rep cancels application, system reverts changes and does not create Quote Line Item", "If Quote is already approved/synced, system prevents trade-in application and displays error", "If multiple approved trade-ins exist, system displays selection screen for Sales Rep to choose"], "acceptance_criteria": ["Quote Line Item is created with Product2 = 'Trade-In Credit'", "Quote Line Item Unit Price equals negative value of Final_Trade_In_Value__c", "Quote.TotalPrice is reduced by trade-in amount", "Quote.Trade_In_Applied__c checkbox is set to True", "Trade_In_Request__c.Applied_To_Quote__c is populated with Quote ID", "Trade_In_Request__c.Status__c changes to 'Applied'", "System prevents applying same trade-in to multiple Quotes", "Trade-in credit appears as separate line item on Quote PDF"], "salesforce_components": {"fields": ["Quote.Trade_In_Applied__c", "Quote.Trade_In_Amount__c", "QuoteLineItem.Product2Id", "QuoteLineItem.UnitPrice", "QuoteLineItem.Quantity", "Trade_In_Request__c.Applied_To_Quote__c", "Trade_In_Request__c.Applied_Date__c", "Trade_In_Request__c.Status__c"], "objects": ["Quote", "QuoteLineItem", "Trade_In_Request__c", "Opportunity", "Product2", "PricebookEntry"], "automation": ["Screen Flow: Apply_Trade_In_To_Quote", "Record-Triggered Flow: After Trade-In Applied to Quote", "Apex Action: Create Quote Line Item for Trade-In", "Field Update: Lock Trade-In Request", "Validation Rule: Prevent Trade-In Modification After Application"], "ui_components": ["Custom Button on Quote: Apply Trade-In", "Screen Flow modal for confirmation", "Formula Field on Quote: Total with Trade-In", "Related List on Trade_In_Request__c: Applied Quotes", "Custom Quote PDF template showing trade-in line item"]}}, {"id": "UC-007-04", "actor": "System (Automated Process)", "title": "System Auto-Escalates Overdue Trade-In Requests", "main_flow": ["System executes scheduled flow daily at 9:00 AM", "System queries Trade_In_Request__c where Status__c = 'Pending Review'", "System filters records where Submitted_Date__c > 2 business days ago", "System excludes weekends and holidays from business day calculation", "For each overdue request, system updates Escalation_Level__c field", "System increments Escalation_Count__c by 1", "System sends escalation email to Appraisal Manager with list of overdue requests", "System creates high-priority Task for Appraisal Manager", "System updates Last_Escalation_Date__c to current date", "System logs escalation activity in Trade_In_Request__c feed", "If Escalation_Count__c reaches 3, system notifies Sales Operations Director"], "preconditions": ["Trade_In_Request__c records exist with Status__c = 'Pending Review'", "Submitted_Date__c is more than 2 business days ago", "No appraisal activity has been recorded", "Scheduled Flow is active and running daily"], "postconditions": ["Overdue Trade_In_Request__c records are flagged with escalation level", "Appraisal Manager receives consolidated escalation report", "High-priority tasks are created for management review", "Escalation metrics are updated for reporting", "Audit trail captures all escalation activities"], "alternative_flows": ["If no overdue requests exist, system completes execution without sending notifications", "If Appraisal Manager is inactive/unavailable, system routes to backup manager from hierarchy", "If request is marked 'Information Required', system calculates business days from last customer response", "If Opportunity is closed/lost, system auto-cancels trade-in request and skips escalation", "If trade-in value is below $1000, system uses extended 5-day threshold before escalation"], "acceptance_criteria": ["Scheduled Flow runs daily at 9:00 AM system time", "Business day calculation excludes weekends and company holidays", "Escalation email contains list of all overdue requests with Request Number and Days Overdue", "Escalation_Level__c values: 'Level 1' (2-3 days), 'Level 2' (4-5 days), 'Level 3' (6+ days)", "Task priority is set to 'High' for escalated items", "Email is sent to Sales Operations Director when Escalation_Count__c = 3", "System does not escalate requests with Status__c other than 'Pending Review'", "Escalation report includes link to Trade-In Request Dashboard"], "salesforce_components": {"fields": ["Trade_In_Request__c.Escalation_Level__c", "Trade_In_Request__c.Escalation_Count__c", "Trade_In_Request__c.Last_Escalation_Date__c", "Trade_In_Request__c.Days_Pending__c", "Trade_In_Request__c.Status__c", "Trade_In_Request__c.Submitted_Date__c"], "objects": ["Trade_In_Request__c", "Task", "User", "Holiday"], "automation": ["Scheduled Flow: Daily_Trade_In_Escalation_Check", "Record-Triggered Flow: Calculate Business Days", "Email Alert: Escalation_Notification_Manager", "Email Alert: Critical_Escalation_Director", "Apex Class: BusinessDayCalculator", "Formula Field: Days_Pending__c"], "ui_components": ["List View: Overdue Trade-In Requests", "Dashboard: Trade-In Processing Metrics", "Report: Escalated Trade-Ins by Appraiser", "Email Template: Trade-In Escalation Summary"]}}, {"id": "UC-007-05", "actor": "Sales Manager", "title": "Sales Manager Reviews Trade-In Request Analytics", "main_flow": ["Sales Manager navigates to Trade-In Dashboard from App Launcher", "System displays dashboard with key metrics and charts", "Manager reviews 'Trade-In Requests by Status' donut chart", "Manager reviews 'Average Processing Time' metric", "Manager reviews 'Trade-In Value vs Estimated Value' comparison chart", "Manager reviews 'Top Appraisers by Volume' leaderboard", "Manager clicks on 'Pending Review' segment to drill down", "System displays filtered report of pending requests", "Manager identifies bottlenecks and overdue items", "Manager exports report to Excel for further analysis", "Manager schedules dashboard to email weekly to leadership team"], "preconditions": ["Sales Manager has access to Trade-In Reports and Dashboards", "Trade_In_Request__c records exist with various statuses", "Historical data is available for trend analysis", "Dashboard is configured and deployed"], "postconditions": ["Manager has visibility into trade-in workflow performance", "Bottlenecks and delays are identified", "Report is exported for stakeholder review", "Dashboard subscription is configured for automated delivery", "Action items are documented based on insights"], "alternative_flows": ["If no data exists for selected time period, system displays 'No data available' message", "Manager can filter dashboard by date range, appraiser, or opportunity owner", "Manager can click on individual request from report to view full details", "If manager identifies process issues, can create case for process improvement", "Manager can subscribe to dashboard alerts for SLA breaches"], "acceptance_criteria": ["Dashboard displays at least 5 key performance indicators", "Charts update in real-time when filters are applied", "Average Processing Time calculation excludes weekends and holidays", "Drill-down functionality works from all dashboard components", "Export to Excel includes all visible columns and filters", "Dashboard can be filtered by: Date Range, Status, Appraiser, Opportunity Owner, Value Range", "Scheduled email delivery includes PDF snapshot of dashboard", "Dashboard loads within 5 seconds for datasets up to 10,000 records"], "salesforce_components": {"fields": ["Trade_In_Request__c.Status__c", "Trade_In_Request__c.Submitted_Date__c", "Trade_In_Request__c.Appraised_Date__c", "Trade_In_Request__c.Final_Trade_In_Value__c", "Trade_In_Request__c.Estimated_Value__c", "Trade_In_Request__c.Processing_Time_Days__c", "Trade_In_Request__c.Appraised_By__c"], "objects": ["Trade_In_Request__c", "Opportunity", "User", "DashboardComponent"], "automation": ["Formula Field: Processing_Time_Days__c", "Formula Field: Value_Variance_Percent__c", "Roll-Up Summary: Count of Trade-Ins by Appraiser", "Scheduled Report: Weekly Trade-In Summary"], "ui_components": ["Dashboard: Trade-In Processing Analytics", "Report: Trade-In Requests by Status", "Report: Appraiser Performance Metrics", "Report: Trade-In Value Analysis", "Chart: Processing Time Trend (Line)", "Chart: Requests by Status (Donut)", "Chart: Value Variance Distribution (Bar)", "Table: Top 10 Highest Value Trade-Ins"]}}, {"id": "UC-009-01", "actor": "Sales Manager", "title": "Sales Manager Approves Trade-In Offer Within Discount Threshold", "main_flow": ["Sales Rep creates Trade-In record and sets Trade_In_Offer_Amount__c", "System calculates Discount_Percentage__c based on Market_Value__c and Trade_In_Offer_Amount__c", "System evaluates approval entry criteria: Discount_Percentage__c > 10% AND Discount_Percentage__c <= 15%", "System triggers approval process and assigns to Sales Manager based on Account Owner hierarchy", "Sales Manager receives email notification with approval request details", "Sales Manager navigates to Trade-In record and reviews Approval History related list", "Sales Manager clicks 'Approve' button and optionally adds comments", "System updates Trade_In_Status__c to 'Approved'", "System sends email notification to Sales Rep confirming approval", "System unlocks Trade-In record for further processing", "System creates Task for Sales Rep to finalize trade-in paperwork"], "preconditions": ["Trade-In record exists with Status = 'Pending Approval'", "Trade-In Offer Amount is populated", "Vehicle Valuation has been completed", "Discount percentage is between 0% and 15%", "Sales Rep has submitted the trade-in for approval"], "postconditions": ["Trade_In_Status__c is updated to either 'Approved' or 'Rejected'", "Approval_Date__c is populated with timestamp", "Approver_Name__c contains the approving manager's name", "Email notifications sent to all relevant parties", "Approval History related list shows complete audit trail", "If approved, Trade-In record is available for deal processing"], "alternative_flows": [{"steps": ["Sales Manager clicks 'Reject' button and enters mandatory rejection reason in Rejection_Reason__c", "System updates Trade_In_Status__c to 'Rejected'", "System sends rejection notification to Sales Rep with reason", "System unlocks record and allows Sales Rep to revise offer", "Sales Rep can resubmit after adjusting Trade_In_Offer_Amount__c"], "condition": "Sales Manager rejects the trade-in offer"}, {"steps": ["System automatically escalates to next level approver (VP of Sales)", "System sends escalation notification to VP of Sales and Sales Manager", "System logs escalation in Approval History"], "condition": "Approval request times out after 48 hours"}], "acceptance_criteria": ["GIVEN a Trade-In with Discount_Percentage__c = 12%, WHEN submitted for approval, THEN Sales Manager receives approval request within 5 minutes", "GIVEN Sales Manager approves request, WHEN approval is submitted, THEN Trade_In_Status__c = 'Approved' AND Approval_Date__c is populated", "GIVEN Sales Manager rejects request without comment, WHEN rejection is attempted, THEN system displays error 'Rejection reason is required'", "GIVEN approved Trade-In, WHEN viewing record, THEN Approval History shows approver name, date, time, and action", "GIVEN approval process is active, WHEN Trade-In is in approval, THEN record is locked and fields cannot be edited", "GIVEN approval/rejection occurs, WHEN action completes, THEN email is sent to Sales Rep within 2 minutes"], "salesforce_components": {"fields": ["Trade_In__c.Trade_In_Status__c", "Trade_In__c.Trade_In_Offer_Amount__c", "Trade_In__c.Market_Value__c", "Trade_In__c.Discount_Percentage__c", "Trade_In__c.Approval_Date__c", "Trade_In__c.Approver_Name__c", "Trade_In__c.Rejection_Reason__c", "Trade_In__c.Submitted_By__c", "Trade_In__c.Submitted_Date__c"], "objects": ["Trade_In__c", "Account", "Opportunity", "User", "ProcessInstance", "ProcessInstanceStep"], "automation": ["Approval Process: Trade_In_Approval_Process", "Record-Triggered Flow: Calculate Discount Percentage (Before Save)", "Email Alert: Trade_In_Approval_Request_Alert", "Email Alert: Trade_In_Approved_Alert", "Email Alert: Trade_In_Rejected_Alert", "Field Update: Set_Status_to_Approved", "Field Update: Set_Status_to_Rejected", "Field Update: Set_Approval_Date", "Task Creation: Create_Paperwork_Task"], "ui_components": ["Approval History Related List on Trade_In__c layout", "Approval Request Page Layout", "Custom Approval Button on Trade_In__c", "Quick Action: Submit_for_Approval"]}}, {"id": "UC-009-02", "actor": "System", "title": "System Auto-Approves Trade-In Offer Within Standard Discount Range", "main_flow": ["Sales Rep enters Trade_In_Offer_Amount__c on Trade-In record", "Sales Rep clicks 'Submit for Approval' button", "Record-Triggered Flow calculates Discount_Percentage__c = ((Market_Value__c - Trade_In_Offer_Amount__c) / Market_Value__c) * 100", "System evaluates approval entry criteria", "System determines Discount_Percentage__c <= 10%", "System bypasses approval process and auto-approves", "System updates Trade_In_Status__c to 'Auto-Approved'", "System populates Approval_Date__c with current timestamp", "System sets Approver_Name__c to 'System Auto-Approval'", "System sends confirmation email to Sales Rep", "System creates Task for Sales Rep to proceed with trade-in documentation"], "preconditions": ["Trade-In record exists with all required fields populated", "Market_Value__c has been determined by valuation service", "Trade_In_Offer_Amount__c is entered by Sales Rep", "Discount percentage is 10% or less", "Sales Rep has appropriate permissions"], "postconditions": ["Trade_In_Status__c = 'Auto-Approved'", "Approval_Date__c contains timestamp of auto-approval", "Approver_Name__c = 'System Auto-Approval'", "Auto_Approved__c checkbox = true", "Email confirmation sent to Sales Rep", "Trade-In record remains unlocked for continued processing", "Task created for next steps in trade-in process"], "alternative_flows": [{"steps": ["System applies auto-approval rule (threshold is inclusive)", "System logs auto-approval with note 'At threshold limit'", "System proceeds with standard auto-approval flow"], "condition": "Discount percentage calculation results in exactly 10%"}, {"steps": ["System prevents submission and displays error message", "Error states: 'Market valuation required before submission'", "Sales Rep must complete valuation before resubmitting"], "condition": "Market_Value__c is null or zero"}], "acceptance_criteria": ["GIVEN Trade-In with Discount_Percentage__c = 8%, WHEN submitted, THEN system auto-approves without manager involvement", "GIVEN auto-approved Trade-In, WHEN viewing record, THEN Trade_In_Status__c = 'Auto-Approved' AND no approval steps appear in history", "GIVEN Discount_Percentage__c = 10%, WHEN submitted, THEN system auto-approves (inclusive threshold)", "GIVEN Discount_Percentage__c = 10.1%, WHEN submitted, THEN system routes to Sales Manager approval", "GIVEN auto-approval occurs, WHEN completed, THEN Sales Rep receives email within 2 minutes", "GIVEN Market_Value__c is blank, WHEN submit is clicked, THEN error message displays and submission is prevented"], "salesforce_components": {"fields": ["Trade_In__c.Trade_In_Status__c", "Trade_In__c.Trade_In_Offer_Amount__c", "Trade_In__c.Market_Value__c", "Trade_In__c.Discount_Percentage__c", "Trade_In__c.Approval_Date__c", "Trade_In__c.Approver_Name__c", "Trade_In__c.Auto_Approved__c", "Trade_In__c.Submitted_By__c"], "objects": ["Trade_In__c", "Task", "User", "EmailMessage"], "automation": ["Record-Triggered Flow: Trade_In_Auto_Approval_Flow (Before Save)", "Record-Triggered Flow: Calculate_Discount_Percentage (Before Save)", "Record-Triggered Flow: Post_Auto_Approval_Actions (After Save)", "Validation Rule: Require_Market_Value_Before_Submission", "Email Alert: Trade_In_Auto_Approved_Alert", "Flow Action: Create_Trade_In_Documentation_Task"], "ui_components": ["Quick Action: Submit_for_Approval", "Custom Button: Submit_Trade_In", "Field Display: Auto_Approved__c indicator on page layout", "Validation Error Message Component"]}}, {"id": "UC-009-03", "actor": "VP of Sales, VP of Finance", "title": "VP of Sales and VP of Finance Approve High-Value Trade-In Offer", "main_flow": ["Sales Rep submits Trade-In with Discount_Percentage__c > 15%", "System routes to Sales Manager for first-level approval", "Sales Manager approves and adds comments supporting the trade-in", "System automatically routes to VP of Sales as second-level approver", "VP of Sales receives email notification with full approval history", "VP of Sales reviews Trade-In details, previous approvals, and business justification", "VP of Sales approves request", "System automatically routes to VP of Finance for parallel/final approval", "VP of Finance receives notification and reviews financial impact", "VP of Finance approves request", "System updates Trade_In_Status__c to 'Approved'", "System sends notifications to all approvers and Sales Rep", "System unlocks record and triggers post-approval automation"], "preconditions": ["Trade-In record exists with Status = 'Pending Approval'", "Discount_Percentage__c is greater than 15%", "Sales Manager has already approved the request", "Multi-level approval process is active", "Both VP of Sales and VP of Finance are active users"], "postconditions": ["Trade_In_Status__c reflects final approval decision", "All approval steps are documented in Approval History", "Approval_Date__c shows timestamp of final approval", "Final_Approver__c contains name of last approver", "All_Approvers__c contains comma-separated list of all approvers", "Email notifications sent to all stakeholders", "If approved, Trade-In proceeds to finance processing", "If rejected, record is unlocked and available for revision"], "alternative_flows": [{"steps": ["VP of Sales clicks 'Reject' and enters detailed Rejection_Reason__c", "System immediately ends approval process (no routing to VP of Finance)", "System updates Trade_In_Status__c to 'Rejected'", "System notifies all previous approvers and Sales Rep", "System unlocks record for Sales Rep to revise"], "condition": "VP of Sales rejects the request"}, {"steps": ["VP of Finance clicks 'Reject' and provides financial justification", "System updates Trade_In_Status__c to 'Rejected'", "System notifies VP of Sales, Sales Manager, and Sales Rep", "System records that rejection occurred at final approval stage", "Sales Rep can revise and resubmit through entire approval chain"], "condition": "VP of Finance rejects after VP of Sales approves"}, {"steps": ["VP of Sales clicks 'Reassign' button", "VP of Sales selects alternate VP from lookup", "System sends notification to new approver", "System logs reassignment in Approval History", "New approver can approve or reject"], "condition": "VP of Sales reassigns approval to another VP"}], "acceptance_criteria": ["GIVEN Discount_Percentage__c = 18%, WHEN Sales Manager approves, THEN request automatically routes to VP of Sales", "GIVEN VP of Sales approves, WHEN approval is submitted, THEN request routes to VP of Finance within 5 minutes", "GIVEN both VPs approve, WHEN final approval completes, THEN Trade_In_Status__c = 'Approved' AND all approvers are notified", "GIVEN VP of Sales rejects, WHEN rejection occurs, THEN VP of Finance does NOT receive approval request", "GIVEN VP of Finance rejects, WHEN rejection occurs, THEN all previous approvers are notified", "GIVEN multi-level approval in progress, WHEN viewing Approval History, THEN all steps show approver, date, action, and comments", "GIVEN approval at VP level, WHEN approver is out of office, THEN delegate approver can act on request"], "salesforce_components": {"fields": ["Trade_In__c.Trade_In_Status__c", "Trade_In__c.Discount_Percentage__c", "Trade_In__c.Approval_Date__c", "Trade_In__c.Final_Approver__c", "Trade_In__c.All_Approvers__c", "Trade_In__c.Rejection_Reason__c", "Trade_In__c.Sales_Manager_Approval_Date__c", "Trade_In__c.VP_Sales_Approval_Date__c", "Trade_In__c.VP_Finance_Approval_Date__c", "Trade_In__c.Business_Justification__c"], "objects": ["Trade_In__c", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem", "User", "UserRole"], "automation": ["Approval Process: Trade_In_Multi_Level_Approval", "Approval Step: Sales_Manager_Approval (Discount > 10%)", "Approval Step: VP_Sales_Approval (Discount > 15%)", "Approval Step: VP_Finance_Approval (Discount > 15%, parallel or sequential)", "Email Alert: VP_Sales_Approval_Request", "Email Alert: VP_Finance_Approval_Request", "Email Alert: Multi_Level_Approval_Complete", "Email Alert: High_Value_Trade_In_Rejected", "Field Update: Set_Final_Approver", "Field Update: Populate_All_Approvers_List", "Record-Triggered Flow: Post_Multi_Level_Approval_Actions"], "ui_components": ["Approval History Related List (expanded view)", "Custom Approval Page Layout for VPs", "Approval Comments Section", "Reassign Approval Button", "Recall Approval Button (for Sales Rep)", "Approval Process Visualizer Component"]}}, {"id": "UC-009-04", "actor": "Sales Rep", "title": "Sales Rep Recalls Trade-In Approval Request to Revise Offer", "main_flow": ["Sales Rep navigates to Trade-In record currently in approval", "Sales Rep identifies need to revise Trade_In_Offer_Amount__c based on new information", "Sales Rep clicks 'Recall Approval Request' button on record detail page", "System displays confirmation dialog: 'Are you sure you want to recall this approval request?'", "Sales Rep confirms recall action", "System removes record from all pending approval queues", "System updates Trade_In_Status__c to 'Draft'", "System unlocks all fields on Trade-In record", "System sends notification to all pending approvers that request was recalled", "System logs recall action in Approval History with timestamp and user", "Sales Rep edits Trade_In_Offer_Amount__c and other relevant fields", "Sales Rep resubmits Trade-In for approval with updated information"], "preconditions": ["Trade-In record is currently in approval process", "Trade_In_Status__c = 'Pending Approval'", "Sales Rep is the record owner or submitter", "No final approval or rejection has occurred", "Recall functionality is enabled in approval process settings"], "postconditions": ["Trade_In_Status__c = 'Draft'", "Record is removed from all approval queues", "All fields are unlocked and editable", "Recall action is logged in Approval History", "Pending approvers receive recall notification", "Previous approval comments and history are preserved", "Record is available for editing and resubmission", "Recall_Count__c is incremented"], "alternative_flows": [{"steps": ["Sales Rep attempts to recall", "System displays error: 'Cannot recall - approval process is complete'", "Recall button is disabled or hidden", "Sales Rep must create new Trade-In record or request manager override"], "condition": "Approval has already been processed (approved or rejected)"}, {"steps": ["System sends reminder notification to Sales Rep after 24 hours", "Sales Manager receives notification of stalled trade-in", "Trade-In remains in Draft status until resubmitted or closed"], "condition": "Sales Rep recalls but does not resubmit within 24 hours"}, {"steps": ["System checks user permissions", "System displays error: 'You do not have permission to recall this approval'", "Action is logged in Security Event Log", "Record remains in current approval state"], "condition": "User without proper permissions attempts recall"}], "acceptance_criteria": ["GIVEN Trade-In in pending approval, WHEN Sales Rep clicks Recall, THEN record returns to Draft status within 30 seconds", "GIVEN recall is successful, WHEN completed, THEN all pending approvers receive notification", "GIVEN recalled Trade-In, WHEN viewing Approval History, THEN recall action is logged with user and timestamp", "GIVEN approval is already completed, WHEN recall is attempted, THEN error message displays and recall is prevented", "GIVEN recalled record, WHEN Sales Rep edits fields, THEN all fields are editable without restriction", "GIVEN Trade-In recalled twice, WHEN viewing record, THEN Recall_Count__c = 2", "GIVEN user without permission, WHEN recall is attempted, THEN access denied error displays"], "salesforce_components": {"fields": ["Trade_In__c.Trade_In_Status__c", "Trade_In__c.Trade_In_Offer_Amount__c", "Trade_In__c.Recall_Count__c", "Trade_In__c.Last_Recall_Date__c", "Trade_In__c.Last_Recalled_By__c", "Trade_In__c.Recall_Reason__c"], "objects": ["Trade_In__c", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem", "User"], "automation": ["Approval Process: Allow recall setting enabled", "Record-Triggered Flow: Handle_Approval_Recall (After Save)", "Record-Triggered Flow: Increment_Recall_Counter", "Email Alert: Approval_Recalled_Notification_to_Approvers", "Email Alert: Recall_Reminder_After_24_Hours", "Field Update: Set_Status_to_Draft_on_Recall", "Field Update: Update_Last_Recall_Date", "Scheduled Flow: Check_Stalled_Recalled_Trade_Ins (daily)"], "ui_components": ["Recall Approval Request Button", "Recall Confirmation Dialog", "Approval History Related List", "Recall Count Badge on page layout", "Error Message Component for invalid recall attempts"]}}, {"id": "UC-009-05", "actor": "System", "title": "System Escalates Overdue Trade-In Approval to Next Level Manager", "main_flow": ["Scheduled Flow runs every 4 hours to check pending approvals", "System identifies Trade-In approval pending with Sales Manager for 48+ hours", "System retrieves next level approver from User Role hierarchy", "System creates escalation record in Approval_Escalation__c object", "System sends escalation notification to next level approver (VP of Sales)", "System sends reminder notification to original approver (Sales Manager)", "System updates Escalation_Level__c field on Trade-In record", "System logs escalation in Approval History with reason 'Overdue - Auto Escalated'", "VP of Sales receives approval request with escalation flag", "VP of Sales can approve, reject, or reassign back to Sales Manager", "If VP of Sales approves, normal approval flow continues", "System records escalation resolution in Approval_Escalation__c"], "preconditions": ["Trade-In is in pending approval status", "Approval request has been pending for more than 48 hours", "Escalation rules are configured in approval process", "Next level approver is identified in user hierarchy", "Automated escalation job is active"], "postconditions": ["Escalation_Level__c is updated with current escalation tier", "Approval_Escalation__c record created with full audit trail", "Next level approver has pending approval in their queue", "Original approver receives reminder notification", "Escalation is logged in Approval History", "Escalation_Date__c contains timestamp of escalation", "If resolved, Escalation_Resolution__c contains outcome details", "Management dashboard shows escalation metrics"], "alternative_flows": [{"steps": ["Sales Manager approves/rejects during escalation window", "System cancels pending escalation", "System updates Escalation_Level__c to 'Resolved Before Escalation'", "VP of Sales receives notification that escalation is no longer needed", "Normal approval flow proceeds"], "condition": "Original approver acts before escalation completes"}, {"steps": ["System attempts to identify escalation approver", "System finds no valid next level in role hierarchy", "System sends alert to System Administrator", "System logs error in Approval_Escalation__c with status 'Failed'", "Original approver continues to receive reminders every 24 hours"], "condition": "No next level approver exists in hierarchy"}, {"steps": ["System detects VP of Sales has not acted for 48 hours", "System escalates to CEO or designated final approver", "System sends high-priority notification to executive team", "System flags Trade-In as 'Critical - Multiple Escalations'", "Sales Management receives alert about process bottleneck"], "condition": "Escalated approval also becomes overdue after 48 hours"}], "acceptance_criteria": ["GIVEN approval pending 48+ hours, WHEN escalation job runs, THEN next level approver receives request within 15 minutes", "GIVEN escalation occurs, WHEN completed, THEN both original and escalated approver are notified", "GIVEN original approver acts before escalation, WHEN action occurs, THEN escalation is cancelled automatically", "GIVEN no next level approver, WHEN escalation fails, THEN System Admin receives error notification", "GIVEN escalation to VP level, WHEN VP approves, THEN approval process continues normally", "GIVEN multiple escalations on same record, WHEN viewing history, THEN all escalation events are logged chronologically", "GIVEN escalation occurs, WHEN viewing dashboard, THEN escalation metrics update within 1 hour"], "salesforce_components": {"fields": ["Trade_In__c.Escalation_Level__c", "Trade_In__c.Escalation_Date__c", "Trade_In__c.Original_Approver__c", "Trade_In__c.Escalated_To__c", "Approval_Escalation__c.Trade_In__c", "Approval_Escalation__c.Escalation_Reason__c", "Approval_Escalation__c.Original_Approver__c", "Approval_Escalation__c.Escalated_To__c", "Approval_Escalation__c.Escalation_Date__c", "Approval_Escalation__c.Resolution_Date__c", "Approval_Escalation__c.Escalation_Status__c", "Approval_Escalation__c.Resolution_Notes__c"], "objects": ["Trade_In__c", "Approval_Escalation__c", "ProcessInstance", "ProcessInstanceStep", "User", "UserRole", "Dashboard"], "automation": ["Scheduled Flow: Check_Overdue_Approvals (runs every 4 hours)", "Record-Triggered Flow: Handle_Approval_Escalation", "Record-Triggered Flow: Cancel_Escalation_on_Approval", "Approval Process: Escalation settings configured (48 hour threshold)", "Email Alert: Escalation_to_Next_Level_Approver", "Email Alert: Reminder_to_Original_Approver", "Email Alert: Escalation_Failed_Admin_Alert", "Email Alert: Critical_Multiple_Escalations_Alert", "Apex Class: EscalationApproverFinder (identifies next approver)", "Process Builder: Log_Escalation_Metrics"], "ui_components": ["Escalation Indicator Badge on Trade-In layout", "Approval Escalation Related List", "Management Dashboard: Approval Escalations widget", "Report: Overdue Approvals by Manager", "List View: Escalated Trade-Ins", "Email Template: Escalation Notification"]}}, {"id": "UC-010-01", "actor": "Sales Representative", "title": "Sales Representative Configures Financing Options Using Product Configurator", "main_flow": ["Sales Representative navigates to Opportunity record", "Sales Representative clicks 'Configure Financing' button on Opportunity page", "System launches Product Configurator interface with available loan products", "Sales Representative enters customer requirements (loan amount, term, purpose)", "System applies qualification rules and filters eligible loan products based on customer credit score, income, and address", "Sales Representative selects loan product type (mortgage, personal loan, auto loan)", "System displays product attributes (interest rate, fees, payment frequency options)", "Sales Representative configures product attributes and options compatible with customer needs", "System dynamically calculates monthly payment, total interest, and total loan cost", "Sales Representative reviews configuration summary with pricing details", "Sales Representative saves configured financing option to Opportunity", "System creates Product Configuration record linked to Opportunity"], "preconditions": ["Sales Representative has active user license with Financial Services Cloud enabled", "Product Configurator is enabled in Setup", "Loan products are configured with attributes and qualification rules", "Opportunity record exists with associated Account", "Customer financial information is captured (income, credit score, expenses)"], "postconditions": ["Product Configuration record is created and linked to Opportunity", "Financing option details are saved with all attributes and pricing", "Opportunity stage is updated to 'Financing Configured'", "Activity timeline shows configuration action with timestamp", "Customer qualification status is documented"], "alternative_flows": [{"steps": ["System displays message indicating customer does not qualify", "System shows specific qualification criteria not met (e.g., credit score below 600)", "Sales Representative can adjust loan parameters or recommend alternative products", "Sales Representative documents reason for non-qualification in Opportunity notes"], "condition": "Customer does not meet qualification rules"}, {"steps": ["Sales Representative configures multiple loan product options", "System saves each configuration as separate Product Configuration record", "Sales Representative compares options side-by-side using comparison view", "Sales Representative marks preferred option as primary recommendation"], "condition": "Multiple financing options are suitable"}, {"steps": ["System displays validation error indicating missing required fields", "Sales Representative updates Account or Opportunity with missing information", "Sales Representative re-launches Product Configurator with complete data"], "condition": "Customer information is incomplete"}], "acceptance_criteria": ["Product Configurator displays only loan products matching customer qualification criteria", "System calculates monthly payment within 0.01% accuracy based on configured attributes", "Configuration can be saved and retrieved without data loss", "Qualification rules prevent selection of incompatible product combinations", "Sales Representative can configure financing option in under 5 minutes for standard scenarios", "All configured attributes are stored in Product Configuration record", "System displays clear error messages for validation failures with actionable guidance"], "salesforce_components": {"fields": ["Opportunity.StageName", "Opportunity.Amount", "Account.Credit_Score__c", "Account.Annual_Income__c", "Account.Monthly_Expenses__c", "FinancingOption__c.Loan_Amount__c", "FinancingOption__c.Interest_Rate__c", "FinancingOption__c.Loan_Term_Months__c", "FinancingOption__c.Monthly_Payment__c", "FinancingOption__c.Total_Interest__c", "FinancingOption__c.Product_Type__c", "FinancingOption__c.Qualification_Status__c"], "objects": ["Opportunity", "Account", "Product2", "ProductAttribute", "ProductConfigurationItem__c", "FinancingOption__c", "QualificationRule__c"], "automation": ["Record-Triggered Flow: Update Opportunity Stage on Configuration Save", "Screen Flow: Product Configurator Guided Interface", "Apex Class: Loan Payment Calculator", "Apex Class: Qualification Rule Engine", "Process Builder: Create Activity on Configuration Completion"], "ui_components": ["Lightning Web Component: Product Configurator Interface", "Lightning Web Component: Loan Calculator Widget", "Lightning Web Component: Qualification Status Indicator", "Custom Button: Configure Financing on Opportunity Layout", "Related List: Financing Options on Opportunity Page"]}}, {"id": "UC-010-02", "actor": "Sales Representative", "title": "Sales Representative Simulates Multiple Financing Scenarios with Loan Calculator", "main_flow": ["Sales Representative opens Opportunity or Account record", "Sales Representative locates Loan Calculator component on page", "Sales Representative enters initial loan amount based on customer need", "Sales Representative selects loan type from picklist (Mortgage, Personal Loan, Auto Loan, Student Loan)", "Sales Representative enters loan term in months or years", "Sales Representative inputs interest rate (or uses default rate for product)", "System calculates and displays monthly payment amount", "System displays amortization schedule with principal and interest breakdown", "System shows total interest paid over loan term", "Sales Representative adjusts parameters (amount, term, rate) to show customer different scenarios", "System dynamically recalculates all values in real-time", "Sales Representative compares scenarios using side-by-side view", "Sales Representative captures preferred scenario by clicking 'Save Simulation'", "System creates Financing Simulation record linked to Opportunity"], "preconditions": ["Sales Representative is on Opportunity or Account record page", "DigitalLendingLoanCalculator FlexCard is added to page layout", "Customer has expressed interest in financing options", "Basic customer financial information is available"], "postconditions": ["Financing Simulation record is created with all scenario parameters", "Amortization schedule is stored for future reference", "Opportunity activity timeline shows simulation activity", "Sales Representative has documented customer preferences", "Customer has clear understanding of financing options"], "alternative_flows": [{"steps": ["Sales Representative enters down payment amount in calculator", "System adjusts loan amount by subtracting down payment", "System recalculates monthly payment and total interest", "Sales Representative shows customer savings from larger down payment"], "condition": "Customer wants to see impact of down payment"}, {"steps": ["Sales Representative creates first simulation with fixed rate", "Sales Representative creates second simulation with variable rate", "System displays both scenarios in comparison view", "Sales Representative explains rate type differences to customer"], "condition": "Customer wants to compare fixed vs variable rates"}, {"steps": ["Sales Representative clicks 'Email Simulation' button", "System generates PDF with simulation details and amortization schedule", "System opens email composer with PDF attached", "Sales Representative sends email to customer", "System logs email activity on Opportunity timeline"], "condition": "Sales Representative wants to email simulation to customer"}], "acceptance_criteria": ["Loan calculator displays results within 1 second of parameter change", "Monthly payment calculation matches standard amortization formula with 100% accuracy", "Amortization schedule shows correct principal and interest for each payment period", "Sales Representative can create and save minimum 3 different scenarios per Opportunity", "Calculator supports loan amounts from $1,000 to $10,000,000", "Calculator supports loan terms from 6 months to 30 years", "System validates that interest rate is between 0.01% and 99.99%", "Saved simulations can be retrieved and modified later"], "salesforce_components": {"fields": ["FinancingSimulation__c.Loan_Amount__c", "FinancingSimulation__c.Down_Payment__c", "FinancingSimulation__c.Loan_Term_Months__c", "FinancingSimulation__c.Interest_Rate__c", "FinancingSimulation__c.Rate_Type__c", "FinancingSimulation__c.Monthly_Payment__c", "FinancingSimulation__c.Total_Interest__c", "FinancingSimulation__c.Total_Amount_Paid__c", "FinancingSimulation__c.Loan_Type__c", "FinancingSimulation__c.Simulation_Date__c", "AmortizationSchedule__c.Payment_Number__c", "AmortizationSchedule__c.Principal_Amount__c", "AmortizationSchedule__c.Interest_Amount__c", "AmortizationSchedule__c.Remaining_Balance__c"], "objects": ["Opportunity", "Account", "FinancingSimulation__c", "AmortizationSchedule__c", "Task"], "automation": ["OmniScript: Loan Calculator Interface Logic", "Integration Procedure: Calculate Amortization Schedule", "DataRaptor: Save Simulation Data", "Record-Triggered Flow: Create Task on Simulation Save", "Apex Class: Amortization Calculator Utility"], "ui_components": ["FlexCard: DigitalLendingLoanCalculator", "Lightning Web Component: Interactive Loan Calculator", "Lightning Web Component: Amortization Schedule Table", "Lightning Web Component: Scenario Comparison View", "Custom Action: Email Simulation", "Custom Action: Save Simulation"]}}, {"id": "UC-010-03", "actor": "Sales Representative", "title": "Sales Representative Creates Personalized Financing Offer with Multiple Options", "main_flow": ["Sales Representative navigates to Opportunity record", "Sales Representative clicks 'Create Financing Offer' custom action", "System launches Screen Flow for offer creation", "System displays previously configured financing options and simulations", "Sales Representative selects 2-3 financing options to include in personalized offer", "Sales Representative enters offer validity period (default 30 days)", "Sales Representative adds custom terms and conditions specific to customer", "System validates that all selected options meet current qualification rules", "Sales Representative adds promotional incentives or discounts if applicable", "System calculates final pricing for each option including all fees and discounts", "Sales Representative previews formatted offer document with branding", "Sales Representative submits offer for approval if required based on amount or terms", "System creates Financing Offer record with 'Draft' or 'Pending Approval' status", "System generates PDF offer document and attaches to Opportunity", "Sales Representative reviews final offer and clicks 'Send to Customer'", "System updates Opportunity stage to 'Offer Presented'", "System sends offer via email with customer portal link for acceptance"], "preconditions": ["Opportunity is in 'Qualification' or 'Needs Analysis' stage", "Customer financial profile is complete and verified", "Product Configurator has been used to identify eligible products", "At least one financing simulation has been completed", "Sales Representative has necessary approval authority or manager approval obtained"], "postconditions": ["Financing Offer record is created with status 'Sent' or 'Pending Approval'", "PDF offer document is generated and stored in Salesforce Files", "Email is sent to customer with offer details and acceptance link", "Opportunity stage is updated to 'Offer Presented'", "Task is created for follow-up in 3 business days", "All offer options are linked to Opportunity for tracking", "Offer expiration date is set and monitored"], "alternative_flows": [{"steps": ["System routes offer to Sales Manager for approval based on approval rules", "System sends notification to Sales Manager", "Sales Manager reviews offer details and customer qualifications", "Sales Manager approves or rejects with comments", "System notifies Sales Representative of approval decision", "If approved, Sales Representative proceeds to send offer to customer", "If rejected, Sales Representative modifies offer based on feedback"], "condition": "Offer requires manager approval"}, {"steps": ["Sales Representative clicks 'Modify Offer' on existing Financing Offer record", "System creates new version of offer maintaining history", "Sales Representative adjusts terms, options, or pricing", "System recalculates and validates modified offer", "Sales Representative sends revised offer to customer", "System maintains audit trail of all offer versions"], "condition": "Customer requests modifications to offer"}, {"steps": ["Sales Representative adds competitor offer details to Opportunity", "System creates comparison view showing side-by-side analysis", "Sales Representative highlights advantages of company's offer", "Sales Representative adjusts pricing or terms if authorized to match competition", "Sales Representative documents competitive intelligence for future use"], "condition": "Customer wants to compare with competitor offers"}], "acceptance_criteria": ["Sales Representative can create complete financing offer in under 10 minutes", "Offer includes minimum 2 and maximum 4 financing options", "All pricing calculations are accurate to 2 decimal places", "PDF offer document follows company branding guidelines and includes all required disclosures", "System prevents sending offers that don't meet qualification criteria", "Approval routing works correctly based on offer amount and terms", "Customer receives email within 5 minutes of offer submission", "Offer expiration is enforced and expired offers cannot be accepted", "All offer modifications maintain complete version history"], "salesforce_components": {"fields": ["FinancingOffer__c.Offer_Number__c", "FinancingOffer__c.Status__c", "FinancingOffer__c.Valid_Until__c", "FinancingOffer__c.Created_Date__c", "FinancingOffer__c.Sent_Date__c", "FinancingOffer__c.Total_Offer_Amount__c", "FinancingOffer__c.Approval_Status__c", "FinancingOffer__c.Terms_And_Conditions__c", "FinancingOffer__c.Version_Number__c", "FinancingOfferOption__c.Option_Name__c", "FinancingOfferOption__c.Monthly_Payment__c", "FinancingOfferOption__c.Interest_Rate__c", "FinancingOfferOption__c.Loan_Term__c", "FinancingOfferOption__c.Total_Cost__c", "FinancingOfferOption__c.Is_Recommended__c", "Opportunity.Offer_Presented_Date__c", "Opportunity.Competitor_Offer_Details__c"], "objects": ["Opportunity", "FinancingOffer__c", "FinancingOfferOption__c", "FinancingOption__c", "ContentDocument", "ContentVersion", "Approval__c", "Task"], "automation": ["Screen Flow: Create Financing Offer Wizard", "Record-Triggered Flow: Update Opportunity Stage on Offer Send", "Record-Triggered Flow: Create Follow-up Task on Offer Send", "Approval Process: Financing Offer Approval", "Scheduled Flow: Check and Notify Expiring Offers Daily", "Apex Class: Offer PDF Generator", "Apex Class: Pricing Calculator with Discounts", "Email Alert: Send Offer to Customer", "Email Alert: Notify Manager of Pending Approval"], "ui_components": ["Lightning Web Component: Offer Creation Wizard", "Lightning Web Component: Offer Preview Panel", "Lightning Web Component: Option Comparison Table", "Custom Action: Create Financing Offer", "Custom Action: Modify Offer", "Custom Action: Send to Customer", "Related List: Financing Offer Options", "Path Component: Offer Status Progression"]}}, {"id": "UC-010-04", "actor": "Sales Representative", "title": "Sales Representative Uses OmniScript for Integrated Loan Application Intake with Financing Configuration", "main_flow": ["Sales Representative opens Application Form record page", "Sales Representative clicks 'Start Application Onboarding' to launch OmniScript", "OmniScript displays guided step-by-step interface for data capture", "Sales Representative captures loan product details (type, amount, purpose, term)", "Sales Representative enters applicant personal details (name, DOB, contact, address)", "Sales Representative captures applicant financial details (income, expenses, employment)", "System validates data in real-time using validation rules", "Sales Representative uploads required documents (ID proof, income proof, address proof)", "System performs KYC verification using integration with external service", "System displays verification results and flags any discrepancies", "Sales Representative configures financing options based on verified applicant data", "System applies product configurator rules to show eligible loan products", "Sales Representative selects loan product and configures attributes", "System calculates loan terms, monthly payment, and total cost", "Sales Representative reviews complete application summary with applicant", "Sales Representative submits application", "System creates all related records (Application, Applicant, Financing Option, Documents)", "System updates Application Form status to 'Submitted'", "System triggers underwriting workflow"], "preconditions": ["OmniStudio is enabled and configured in the org", "DigitalLendingIndia_ApplicationFormOnboarding OmniScript is activated", "Sales Representative has Digital Lending India Admin User permission", "Lead or Application Form record exists", "Customer is present for assisted application process"], "postconditions": ["Application Form record is updated with complete applicant information", "Applicant records are created for primary and co-applicants", "Document records are created and linked to Application Form", "KYC verification results are stored", "Financing Option record is created with configured loan details", "Application Form status is 'Submitted' or 'In Progress'", "Underwriting workflow is initiated if application is complete", "All data capture is logged in activity timeline"], "alternative_flows": [{"steps": ["System displays specific verification failure reasons", "Sales Representative reviews discrepancies with applicant", "Sales Representative corrects information or requests additional documents", "Sales Representative re-initiates verification process", "If verification continues to fail, Sales Representative escalates to supervisor"], "condition": "KYC verification fails"}, {"steps": ["Sales Representative clicks 'Add Co-Applicant' in OmniScript", "System displays co-applicant data capture screens", "Sales Representative captures co-applicant details and documents", "System performs separate KYC verification for co-applicant", "System recalculates loan eligibility based on combined income and obligations", "Sales Representative reviews updated financing options with both applicants"], "condition": "Applicant wants to add co-applicant"}, {"steps": ["Sales Representative clicks 'Save and Resume Later'", "System saves all captured data to Application Form record", "System sets Application Form status to 'In Progress'", "System sends email to applicant with resume link", "Sales Representative can resume application from same point later"], "condition": "Application is incomplete and needs to be saved for later"}], "acceptance_criteria": ["OmniScript guides Sales Representative through all required data capture steps in logical sequence", "Real-time validation prevents progression with incomplete or invalid data", "KYC verification completes within 30 seconds for standard scenarios", "System prevents duplicate applicant records using matching rules", "Document upload supports PDF, JPG, PNG formats up to 10MB per file", "Sales Representative can complete full application intake in under 20 minutes", "All captured data is correctly mapped to Salesforce objects and fields", "Save and resume functionality preserves all entered data without loss", "System handles network interruptions gracefully with auto-save"], "salesforce_components": {"fields": ["ApplicationForm__c.Status__c", "ApplicationForm__c.Loan_Amount__c", "ApplicationForm__c.Loan_Purpose__c", "ApplicationForm__c.Loan_Type__c", "Applicant__c.First_Name__c", "Applicant__c.Last_Name__c", "Applicant__c.Date_Of_Birth__c", "Applicant__c.Email__c", "Applicant__c.Phone__c", "Applicant__c.Annual_Income__c", "Applicant__c.Monthly_Expenses__c", "Applicant__c.Employment_Status__c", "Applicant__c.Employer_Name__c", "Applicant__c.KYC_Status__c", "KYCVerification__c.Verification_Type__c", "KYCVerification__c.Status__c", "KYCVerification__c.Verification_Date__c", "KYCVerification__c.Result_Details__c"], "objects": ["ApplicationForm__c", "Applicant__c", "ResidentialLoanApplication", "FinancingOption__c", "ContentDocument", "ContentVersion", "KYCVerification__c", "Lead"], "automation": ["OmniScript: DigitalLendingIndia_ApplicationFormOnboarding", "Integration Procedure: KYC Verification Callout", "Integration Procedure: Document OCR Processing", "DataRaptor Extract: Load Existing Application Data", "DataRaptor Transform: Format Applicant Data", "DataRaptor Load: Save Application and Related Records", "Record-Triggered Flow: Initiate Underwriting on Application Submit", "Apex Class: Duplicate Applicant Checker"], "ui_components": ["OmniScript Component: Application Intake Wizard", "OmniScript Step: Product Details", "OmniScript Step: Applicant Information", "OmniScript Step: Financial Details", "OmniScript Step: Document Upload", "OmniScript Step: KYC Verification", "OmniScript Step: Financing Configuration", "OmniScript Step: Review and Submit", "Custom LWC: Document Upload with Preview", "Custom LWC: KYC Status Indicator"]}}, {"id": "UC-010-05", "actor": "Sales Representative", "title": "Sales Representative Monitors and Adjusts Financing Offers Based on Real-Time Integration Data", "main_flow": ["Sales Representative opens Opportunity with active Financing Offer", "Sales Representative views Integration Execution Status component on page", "System displays status of all integration callouts (Credit Check, Rate Verification, Compliance Screening)", "Sales Representative reviews credit check integration status showing 'Completed'", "System displays updated credit score and credit report summary", "Sales Representative reviews rate verification integration showing current market rates", "System compares offered rates with current market rates", "Sales Representative identifies that market rates have decreased since offer creation", "Sales Representative clicks 'Refresh Financing Options' to recalculate with current rates", "System retrieves latest rates from integration and recalculates all offer options", "System displays comparison showing potential savings for customer", "Sales Representative reviews compliance screening integration status", "System confirms all regulatory requirements are met", "Sales Representative decides to update offer with improved rates", "Sales Representative modifies Financing Offer with new rates", "System creates new offer version and notifies customer of improved terms", "Sales Representative documents rate adjustment reason in Opportunity notes"], "preconditions": ["Integration Orchestration is configured with external endpoints", "Integration Execution Status component is added to relevant page layouts", "Financing Offer has been created and sent to customer", "External integrations are active (credit bureau, rate service, compliance check)", "Sales Representative has permission to view integration status"], "postconditions": ["All integration statuses are current and displayed accurately", "Credit information is updated in customer record", "Current market rates are reflected in financing calculations", "Compliance status is verified and documented", "Financing Offer is updated if rates or terms changed", "Customer is notified of any beneficial changes to offer", "Integration execution history is logged for audit trail"], "alternative_flows": [{"steps": ["System displays error status in Integration Execution Status component", "System shows specific error message and timestamp", "Sales Representative clicks 'Retry Integration' button", "System re-initiates callout to external endpoint", "If retry fails, Sales Representative escalates to technical support", "Sales Representative proceeds with manual verification as fallback"], "condition": "Integration callout fails or times out"}, {"steps": ["System alerts Sales Representative of credit score change", "Sales Representative reviews credit report details for reasons", "System re-evaluates loan qualification based on new credit score", "Sales Representative contacts customer to discuss credit score impact", "Sales Representative adjusts loan terms or amount to match new qualification", "Sales Representative documents credit score change and customer discussion"], "condition": "Credit score has decreased since initial qualification"}, {"steps": ["System flags compliance issue in Integration Execution Status", "System displays specific regulation or requirement not met", "Sales Representative reviews compliance details and customer information", "Sales Representative requests additional documentation from customer", "Sales Representative submits for compliance review if required", "Application is held pending compliance clearance"], "condition": "Compliance screening identifies regulatory concern"}], "acceptance_criteria": ["Integration Execution Status component displays status for all configured integrations", "Status updates in real-time without page refresh (every 30 seconds)", "Failed integrations display clear error messages with troubleshooting guidance", "Sales Representative can manually trigger integration retry up to 3 times", "Credit score updates trigger automatic re-qualification check", "Rate changes greater than 0.25% trigger notification to Sales Representative", "Compliance flags prevent offer finalization until resolved", "Integration response times are logged and monitored for performance", "All integration data is stored securely with proper encryption"], "salesforce_components": {"fields": ["IntegrationLog__c.Integration_Name__c", "IntegrationLog__c.Status__c", "IntegrationLog__c.Execution_Time__c", "IntegrationLog__c.Response_Code__c", "IntegrationLog__c.Error_Message__c", "IntegrationLog__c.Retry_Count__c", "CreditReport__c.Credit_Score__c", "CreditReport__c.Report_Date__c", "CreditReport__c.Bureau_Name__c", "CreditReport__c.Score_Change__c", "ComplianceCheck__c.Check_Type__c", "ComplianceCheck__c.Status__c", "ComplianceCheck__c.Regulation_Reference__c", "ComplianceCheck__c.Issue_Description__c", "MarketRate__c.Rate_Type__c", "MarketRate__c.Current_Rate__c", "MarketRate__c.Effective_Date__c", "MarketRate__c.Rate_Change__c", "Account.Latest_Credit_Score__c", "Account.Credit_Score_Date__c"], "objects": ["Opportunity", "FinancingOffer__c", "IntegrationLog__c", "CreditReport__c", "ComplianceCheck__c", "MarketRate__c", "Account"], "automation": ["Integration Orchestration: Credit Bureau Integration Plan", "Integration Orchestration: Market Rate Service Integration Plan", "Integration Orchestration: Compliance Screening Integration Plan", "Record-Triggered Flow: Update Credit Score on Integration Complete", "Record-Triggered Flow: Notify Sales Rep on Rate Change", "Record-Triggered Flow: Alert on Compliance Issue", "Scheduled Flow: Refresh Market Rates Daily", "Apex Class: Integration Retry Handler", "Apex Class: Rate Comparison Calculator", "Platform Event: Integration Status Update Event"], "ui_components": ["Lightning Web Component: Integration Execution Status", "Lightning Web Component: Credit Score Trend Chart", "Lightning Web Component: Rate Comparison Dashboard", "Lightning Web Component: Compliance Status Indicator", "Custom Action: Retry Integration", "Custom Action: Refresh Financing Options", "Alert Banner: Rate Change Notification", "Alert Banner: Compliance Issue Warning"]}}, {"id": "UC-011-01", "actor": "Sales Representative", "title": "Sales Representative Adds Insurance Product to Customer Offer", "main_flow": ["Sales Representative opens an existing Opportunity record", "Sales Representative clicks 'Add Products' button", "System displays Product Selection screen with insurance products category", "Sales Representative filters products by 'Insurance' product family", "Sales Representative selects one or more insurance products from the list", "System displays insurance product configuration screen with coverage options", "Sales Representative configures coverage amount, deductible, and term length", "Sales Representative enters quantity and reviews pricing", "Sales Representative clicks 'Save' to add products to Opportunity", "System validates insurance product rules and eligibility", "System adds insurance products as Opportunity Line Items", "System updates Opportunity Amount to include insurance products", "System displays confirmation message with updated offer details"], "preconditions": ["Sales Representative has access to Financial Services Cloud", "Insurance products are configured in the Product catalog", "Active Opportunity exists for the customer", "Customer Account has required insurance eligibility data"], "postconditions": ["Insurance products are added to Opportunity as Line Items", "Opportunity Amount reflects insurance product pricing", "Insurance product configuration is saved and linked to Opportunity", "Activity history records insurance product addition", "Customer can view insurance products in offer summary"], "alternative_flows": [{"steps": ["System displays eligibility error message", "System highlights missing eligibility criteria", "Sales Representative updates customer information or selects alternative product", "System re-validates eligibility"], "condition": "Customer is not eligible for selected insurance product"}, {"steps": ["System displays required documents checklist", "Sales Representative uploads required documents to Files", "System links documents to Opportunity Line Item", "System marks documentation requirement as complete"], "condition": "Insurance product requires additional documentation"}, {"steps": ["System identifies bundle eligibility", "System displays bundle discount recommendation", "Sales Representative applies bundle pricing", "System recalculates total offer amount with bundle discount"], "condition": "Multiple insurance products create bundling opportunity"}], "acceptance_criteria": ["Insurance products appear in Product Selection with 'Insurance' family designation", "Product configuration screen displays all required insurance fields (coverage amount, deductible, term)", "System validates minimum and maximum coverage amounts per product rules", "Opportunity Line Items show insurance products with correct pricing", "Total Opportunity Amount includes sum of all insurance product prices", "Insurance products display with distinct icon or label in Opportunity Line Items", "User can edit insurance product configuration after initial save", "System prevents adding insurance products that conflict with existing coverage"], "salesforce_components": {"fields": ["Product2.Family", "Product2.IsActive", "Product2.ProductCode", "InsuranceProduct__c.Coverage_Amount__c", "InsuranceProduct__c.Deductible__c", "InsuranceProduct__c.Term_Length_Months__c", "InsuranceProduct__c.Product_Type__c", "InsuranceProduct__c.Eligibility_Criteria__c", "OpportunityLineItem.Product2Id", "OpportunityLineItem.Quantity", "OpportunityLineItem.UnitPrice", "OpportunityLineItem.Insurance_Configuration__c", "Opportunity.Insurance_Products_Included__c", "Account.Insurance_Eligible__c"], "objects": ["Product2", "PricebookEntry", "Opportunity", "OpportunityLineItem", "Account", "InsurancePolicy", "InsuranceProduct__c"], "automation": ["Record-Triggered Flow: Calculate insurance premium based on coverage amount and term", "Record-Triggered Flow: Validate customer eligibility when insurance product added", "Record-Triggered Flow: Update Opportunity insurance flag when insurance products present", "Validation Rule: Enforce minimum/maximum coverage amounts per product", "Validation Rule: Prevent duplicate insurance product types on same Opportunity"], "ui_components": ["Lightning Record Page: Enhanced Opportunity page with insurance products section", "Screen Flow: Insurance Product Configuration wizard", "Lightning Web Component: Insurance product selector with filtering", "Related List: Opportunity Line Items with insurance product indicators", "Quick Action: Add Insurance Product to Opportunity"]}}, {"id": "UC-011-02", "actor": "System (Einstein Recommendation Engine)", "title": "System Recommends Insurance Products Based on Customer Profile", "main_flow": ["Sales Representative opens Opportunity record", "System triggers Einstein recommendation engine", "System retrieves customer unified profile from Data Cloud", "System analyzes customer demographics, financial accounts, and existing policies", "System evaluates insurance product catalog against customer profile", "System calculates recommendation scores for relevant insurance products", "System displays top 3-5 recommended insurance products in component", "System shows recommendation rationale for each product", "Sales Representative reviews recommendations", "Sales Representative clicks 'Add to Offer' on recommended product", "System pre-populates product configuration with recommended values", "Sales Representative reviews and adjusts configuration", "Sales Representative saves insurance product to Opportunity"], "preconditions": ["Financial Services Cloud is enabled with Data Cloud integration", "Customer profile data is synchronized to Data Cloud", "Insurance product catalog is configured with recommendation rules", "Customer has unified profile in Data Cloud with financial data", "Opportunity is in 'Needs Analysis' or 'Proposal' stage"], "postconditions": ["Insurance product recommendations are displayed on Opportunity", "Recommendation scores and rationale are logged", "Selected insurance products are added to Opportunity with pre-configured values", "Recommendation acceptance/rejection is tracked for model improvement", "Customer profile is marked as analyzed for insurance recommendations"], "alternative_flows": [{"steps": ["System displays data completeness warning", "System shows which profile fields are missing", "System provides limited recommendations based on available data", "Sales Representative updates customer profile", "System refreshes recommendations with updated data"], "condition": "Customer profile data is incomplete"}, {"steps": ["System displays 'No recommendations available' message", "System suggests updating customer profile or product catalog", "Sales Representative can manually browse all insurance products", "System logs no-match scenario for product team review"], "condition": "No insurance products match customer profile"}, {"steps": ["System identifies existing insurance policies", "System recommends upgrade or supplemental coverage options", "System displays comparison between current and recommended coverage", "Sales Representative reviews upgrade opportunity"], "condition": "Customer already has similar insurance coverage"}], "acceptance_criteria": ["Recommendation component displays within 3 seconds of opening Opportunity", "At least 1 insurance product is recommended when customer profile is complete", "Recommendation rationale includes specific customer data points used", "Recommendation scores range from 0-100 and are displayed visually", "Pre-populated configuration values are within valid ranges for customer", "System tracks recommendation acceptance rate per product type", "Recommendations refresh when customer profile is updated", "Component shows 'last updated' timestamp for recommendations"], "salesforce_components": {"fields": ["ProductRecommendation__c.Opportunity__c", "ProductRecommendation__c.Recommended_Product__c", "ProductRecommendation__c.Recommendation_Score__c", "ProductRecommendation__c.Recommendation_Rationale__c", "ProductRecommendation__c.Status__c", "ProductRecommendation__c.Accepted_Date__c", "Account.Total_Financial_Assets__c", "Account.Risk_Profile__c", "Individual.Age__c", "Individual.Marital_Status__c", "FinancialAccount.Balance__c", "InsurancePolicy.PolicyType", "InsurancePolicy.Status"], "objects": ["Opportunity", "Account", "Product2", "InsurancePolicy", "FinancialAccount", "Individual", "InsuranceProduct__c", "ProductRecommendation__c"], "automation": ["Record-Triggered Flow: Generate insurance recommendations when Opportunity stage changes", "Scheduled Flow: Refresh recommendations daily for open Opportunities", "Apex Class: Einstein recommendation engine integration", "Platform Event: Trigger recommendation refresh on customer profile update", "Data Cloud Calculated Insight: Customer insurance propensity score"], "ui_components": ["Lightning Web Component: Insurance Product Recommendations panel", "Aura Component: Recommendation rationale display with customer data", "Related List: Product Recommendations on Opportunity", "Einstein Next Best Action: Insurance product suggestions", "Dashboard Component: Recommendation acceptance analytics"]}}, {"id": "UC-011-03", "actor": "Sales Manager / Product Administrator", "title": "Sales Manager Configures Insurance Product Catalog and Rules", "main_flow": ["Sales Manager navigates to Product Setup in App Launcher", "Sales Manager clicks 'New Product' button", "Sales Manager selects 'Insurance Product' record type", "Sales Manager enters product name, code, and description", "Sales Manager sets Product Family to 'Insurance'", "Sales Manager configures insurance-specific fields (coverage type, policy term options)", "Sales Manager defines eligibility criteria using formula fields", "Sales Manager sets minimum and maximum coverage amounts", "Sales Manager adds product to standard and custom price books", "Sales Manager configures pricing tiers based on coverage amount", "Sales Manager defines product bundling rules with other insurance products", "Sales Manager sets up approval requirements for high-value policies", "Sales Manager activates the insurance product", "System validates product configuration completeness", "System makes insurance product available in Product Selection"], "preconditions": ["User has 'Customize Application' and 'Manage Products' permissions", "Financial Services Cloud is configured", "Insurance product templates are available", "Pricing rules and discount schedules are defined"], "postconditions": ["Insurance product is created and active in Product catalog", "Product appears in Product Selection filtered by Insurance family", "Pricing rules are configured and validated", "Eligibility criteria are enforced when product is added to Opportunities", "Product configuration is documented and versioned", "Sales team receives notification of new insurance product availability"], "alternative_flows": [{"steps": ["Sales Manager creates parent bundle product", "Sales Manager adds individual insurance products as bundle components", "Sales Manager configures bundle discount percentage", "Sales Manager sets bundle eligibility rules", "System validates bundle configuration", "System creates product relationships for bundle"], "condition": "Creating insurance product bundle"}, {"steps": ["Sales Manager prepares CSV file with product data", "Sales Manager uses Data Import Wizard", "System validates insurance product data format", "System creates product records in bulk", "System generates error report for failed imports", "Sales Manager reviews and corrects import errors"], "condition": "Importing multiple insurance products from external system"}, {"steps": ["Sales Manager searches for existing insurance product", "System displays current configuration and active Opportunities using product", "Sales Manager edits product configuration", "System prompts to update existing Opportunities or apply to new only", "Sales Manager selects update scope", "System applies changes and logs version history"], "condition": "Updating existing insurance product configuration"}], "acceptance_criteria": ["Insurance product record type includes all required insurance-specific fields", "Product Family picklist includes 'Insurance' value", "Coverage amount validation enforces configured min/max values", "Eligibility criteria formula correctly evaluates customer data", "Product appears in Product Selection within 5 minutes of activation", "Pricing tiers calculate correctly based on coverage amount ranges", "Bundle discounts apply automatically when bundle components are selected", "Approval process triggers for policies exceeding configured threshold", "Product change history tracks all configuration modifications", "Inactive products are hidden from Product Selection but visible in reporting"], "salesforce_components": {"fields": ["Product2.Name", "Product2.ProductCode", "Product2.Family", "Product2.IsActive", "Product2.Description", "Product2.RecordTypeId", "InsuranceProduct__c.Coverage_Type__c", "InsuranceProduct__c.Policy_Term_Options__c", "InsuranceProduct__c.Min_Coverage_Amount__c", "InsuranceProduct__c.Max_Coverage_Amount__c", "InsuranceProduct__c.Eligibility_Formula__c", "InsuranceProduct__c.Requires_Approval__c", "InsuranceProduct__c.Approval_Threshold__c", "ProductBundle__c.Parent_Product__c", "ProductBundle__c.Bundle_Discount_Percent__c", "PricebookEntry.UnitPrice", "PricebookEntry.IsActive"], "objects": ["Product2", "PricebookEntry", "Pricebook2", "ProductBundle__c", "ProductEligibilityRule__c", "ApprovalProcess", "ProductChangeHistory__c"], "automation": ["Validation Rule: Ensure Min_Coverage_Amount__c is less than Max_Coverage_Amount__c", "Validation Rule: Require eligibility criteria for all insurance products", "Record-Triggered Flow: Create default price book entries when insurance product created", "Record-Triggered Flow: Notify sales team when new insurance product activated", "Approval Process: Insurance product activation requires manager approval", "Field History Tracking: Track changes to coverage amounts and eligibility rules"], "ui_components": ["Lightning Record Page: Insurance Product detail page with custom sections", "Custom Tab: Insurance Product Management", "List View: Active Insurance Products with key fields", "Quick Action: Clone Insurance Product with configuration", "Screen Flow: Insurance Product Setup Wizard", "Report: Insurance Product Catalog with usage metrics"]}}, {"id": "UC-011-04", "actor": "Customer (Experience Cloud User)", "title": "Customer Reviews Insurance Product Offer in Customer Portal", "main_flow": ["Customer logs into Experience Cloud portal", "Customer navigates to 'My Offers' section", "System displays list of active offers with insurance products", "Customer clicks on specific offer to view details", "System displays offer summary with insurance products highlighted", "Customer expands insurance product details to view coverage information", "System shows coverage amount, deductible, premium, and policy terms", "Customer clicks 'Compare Options' to view alternative insurance products", "System displays side-by-side comparison of insurance product features", "Customer selects preferred insurance product option", "Customer clicks 'Accept Offer' button", "System displays insurance product disclosure documents", "Customer reviews and electronically signs disclosure documents", "System updates Opportunity status to 'Accepted'", "System sends confirmation email to customer and Sales Representative"], "preconditions": ["Customer has active Experience Cloud account", "Opportunity with insurance products exists for customer", "Insurance product offer has been shared with customer", "Customer has authenticated into portal"], "postconditions": ["Customer offer acceptance/decline is recorded on Opportunity", "Insurance product selection is confirmed and documented", "Disclosure documents are signed and stored in Files", "Sales Representative is notified of customer decision", "Next steps in insurance policy issuance process are triggered", "Customer receives confirmation email with offer details"], "alternative_flows": [{"steps": ["Customer clicks 'Request Changes' button", "System displays coverage modification form", "Customer adjusts coverage amount or deductible", "System recalculates premium in real-time", "Customer submits modification request", "System creates Task for Sales Representative to review", "Sales Representative receives notification of change request"], "condition": "Customer requests modification to insurance coverage"}, {"steps": ["Customer clicks 'Ask a Question' button on product detail", "System displays chat interface or question form", "Customer submits question about coverage or terms", "System creates Case linked to Opportunity and insurance product", "System routes Case to appropriate insurance specialist", "Customer receives response within SLA timeframe"], "condition": "Customer has questions about insurance product"}, {"steps": ["Customer clicks 'Decline Offer' button", "System displays decline reason picklist", "Customer selects decline reason and provides optional comments", "System updates Opportunity stage to 'Closed Lost'", "System records decline reason on Opportunity", "Sales Representative receives notification to follow up"], "condition": "Customer declines insurance product offer"}], "acceptance_criteria": ["Customer can view all insurance products included in offer within portal", "Insurance product details display coverage amount, premium, and terms clearly", "Premium calculation updates in real-time when customer adjusts coverage", "Product comparison shows at least 3 alternative insurance options", "Electronic signature component meets legal requirements for insurance disclosures", "Offer acceptance updates Opportunity stage to 'Closed Won' automatically", "Customer receives confirmation email within 5 minutes of acceptance", "Portal displays mobile-responsive design for insurance product details", "Customer can download PDF copy of accepted insurance offer", "System prevents offer acceptance if required disclosures not reviewed"], "salesforce_components": {"fields": ["Opportunity.StageName", "Opportunity.Customer_Decision__c", "Opportunity.Decline_Reason__c", "Opportunity.Accepted_Date__c", "OfferAcceptance__c.Opportunity__c", "OfferAcceptance__c.Accepted_Products__c", "OfferAcceptance__c.Signature_Date__c", "OfferAcceptance__c.IP_Address__c", "OfferAcceptance__c.Disclosure_Documents_Signed__c", "OpportunityLineItem.Customer_Selected__c", "OpportunityLineItem.Modified_Coverage_Amount__c", "Task.Subject", "Task.WhatId", "Case.Reason", "Case.Related_Product__c"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "Account", "Contact", "User", "ContentDocument", "ContentVersion", "Case", "Task", "InsuranceProduct__c", "OfferAcceptance__c"], "automation": ["Record-Triggered Flow: Update Opportunity stage when offer accepted in portal", "Record-Triggered Flow: Send confirmation email on offer acceptance", "Record-Triggered Flow: Create policy issuance tasks when insurance offer accepted", "Screen Flow: Customer offer acceptance wizard with signature capture", "Apex Class: Real-time premium calculation based on coverage adjustments", "Platform Event: Notify Sales Rep of customer portal activity"], "ui_components": ["Experience Cloud Site: Customer self-service portal", "Lightning Web Component: Insurance offer summary card", "Lightning Web Component: Product comparison table", "Aura Component: Electronic signature capture", "Screen Flow: Offer acceptance process with disclosure review", "Custom Lightning Page: My Insurance Offers dashboard", "Einstein Bot: Insurance product FAQ chatbot"]}}, {"id": "UC-011-05", "actor": "System (Automated Reporting)", "title": "System Generates Insurance Product Performance Analytics", "main_flow": ["System runs scheduled analytics job daily at midnight", "System extracts insurance product data from Opportunities and Line Items", "System aggregates insurance product sales by product type, region, and sales rep", "System calculates key metrics: conversion rate, average premium, policy count", "System identifies trending insurance products and declining products", "System analyzes customer segments with highest insurance product adoption", "System generates insurance product performance dashboard", "System calculates insurance product profitability by coverage tier", "System identifies cross-sell and upsell opportunities", "System creates predictive model for insurance product recommendations", "System publishes analytics to CRM Analytics dashboard", "System sends executive summary report to sales leadership", "System updates insurance product recommendation engine with latest performance data"], "preconditions": ["Financial Services Cloud with Data Cloud is enabled", "Insurance products have been sold and tracked in Opportunities", "CRM Analytics or Tableau is configured", "Data Cloud streaming is enabled for insurance objects", "Historical data is available for at least one quarter"], "postconditions": ["Insurance product performance dashboard is updated with latest data", "Sales leadership receives executive summary report", "Trending and declining products are identified and flagged", "Recommendation engine is updated with performance insights", "Product management has data to make catalog decisions", "Sales team has visibility into best-performing insurance products"], "alternative_flows": [{"steps": ["System identifies products with less than 10 sales", "System flags products as 'Insufficient Data' in analytics", "System excludes low-volume products from trend analysis", "System generates alert for product management team", "Product team reviews whether to continue offering product"], "condition": "Insufficient data for specific insurance product"}, {"steps": ["System detects significant deviation from expected performance", "System generates anomaly alert with details", "System notifies sales operations and product management", "System creates investigation case with supporting data", "Analytics team reviews anomaly and takes corrective action"], "condition": "Anomaly detected in insurance product performance"}, {"steps": ["System identifies new product launch date", "System creates separate performance tracking for new product", "System compares new product performance to historical product launches", "System generates new product performance report", "Product team reviews launch success metrics"], "condition": "New insurance product launched during reporting period"}], "acceptance_criteria": ["Analytics dashboard updates daily with previous day's data", "Dashboard displays at least 10 key insurance product metrics", "Conversion rate calculation includes all insurance products in Opportunities", "Average premium calculation excludes cancelled or declined offers", "Product performance trends show minimum 90 days of historical data", "Customer segment analysis includes demographic and financial data", "Cross-sell analysis identifies products frequently purchased together", "Executive report generates automatically by 6 AM daily", "Anomaly detection triggers alert within 1 hour of identification", "Dashboard is accessible to users with Sales Analytics permission set"], "salesforce_components": {"fields": ["ProductPerformanceMetric__c.Product__c", "ProductPerformanceMetric__c.Metric_Date__c", "ProductPerformanceMetric__c.Total_Sales__c", "ProductPerformanceMetric__c.Conversion_Rate__c", "ProductPerformanceMetric__c.Average_Premium__c", "ProductPerformanceMetric__c.Policy_Count__c", "ProductPerformanceMetric__c.Revenue__c", "InsuranceAnalytics__c.Product_Type__c", "InsuranceAnalytics__c.Customer_Segment__c", "InsuranceAnalytics__c.Performance_Trend__c", "Opportunity.Insurance_Product_Count__c", "Opportunity.Total_Insurance_Premium__c", "OpportunityLineItem.Product_Performance_Score__c"], "objects": ["Opportunity", "OpportunityLineItem", "Product2", "Account", "User", "InsuranceProduct__c", "ProductPerformanceMetric__c", "InsuranceAnalytics__c"], "automation": ["Scheduled Flow: Daily insurance product performance calculation", "Scheduled Flow: Weekly executive summary report generation", "Apex Batch Job: Aggregate insurance product metrics across all Opportunities", "Data Cloud Recipe: Transform and aggregate insurance product data", "Einstein Analytics Dataflow: Load insurance product data into CRM Analytics", "Platform Event: Trigger real-time dashboard refresh on large deal closure"], "ui_components": ["CRM Analytics Dashboard: Insurance Product Performance Overview", "Tableau Dashboard: Insurance Product Sales Trends", "Lightning Web Component: Product performance scorecard", "Report: Top 10 Insurance Products by Revenue", "Report: Insurance Product Conversion Funnel", "Dashboard: Insurance Product Cross-Sell Analysis", "Einstein Discovery Story: Insurance product recommendation optimization"]}}, {"id": "UC-012-01", "actor": "Sales Representative", "title": "Sales Rep Adds Complementary Service to Customer Offer", "main_flow": ["Sales Rep navigates to existing Service Contract record for customer", "Sales Rep clicks 'Add Contract Line Item' from related list", "System displays available complementary services from Product catalog filtered by Customer_Community_Availability__c = 'Always'", "Sales Rep selects complementary service product from lookup", "Sales Rep enters quantity, start date, and end date for the service", "Sales Rep specifies Service_Type__c picklist value (Complementary, Add-On, Premium Support)", "System validates that service dates fall within parent Service Contract dates", "Sales Rep saves Contract Line Item", "System creates Contract Line Item record linked to Service Contract", "System updates Total_Contract_Value__c on parent Service Contract", "System sends notification to customer via email about added service"], "preconditions": ["Sales Rep has access to Service Contract object", "Primary Service Contract exists for the customer", "Complementary services are configured as Products in the catalog", "Sales Rep has edit permissions on Service Contracts"], "postconditions": ["Contract Line Item is created and linked to Service Contract", "Service Contract total value is updated", "Customer receives notification of service addition", "Contract Line Item appears in customer's Experience Cloud portal", "Audit trail records the addition with timestamp and user"], "alternative_flows": [{"steps": ["System displays validation error message", "Sales Rep adjusts dates or extends parent Service Contract", "Sales Rep resubmits Contract Line Item"], "condition": "Selected service dates exceed parent contract dates"}, {"steps": ["System checks Prerequisites__c field on Product", "System displays warning with missing prerequisites", "Sales Rep adds prerequisite services first or overrides with manager approval"], "condition": "Complementary service has prerequisites not met"}], "acceptance_criteria": ["GIVEN a valid Service Contract EXISTS WHEN Sales Rep adds complementary service THEN Contract Line Item is created successfully", "GIVEN service dates outside contract period WHEN Sales Rep attempts to save THEN validation error is displayed", "GIVEN successful addition WHEN Contract Line Item is saved THEN Total_Contract_Value__c updates within 2 seconds", "GIVEN Contract Line Item created WHEN customer logs into portal THEN new service is visible within 5 minutes", "GIVEN complementary service added WHEN viewing Service Contract THEN all line items display with Service_Type__c badge"], "salesforce_components": {"fields": ["ServiceContract.Total_Contract_Value__c", "ContractLineItem.Service_Type__c", "ContractLineItem.StartDate", "ContractLineItem.EndDate", "ContractLineItem.Quantity", "Product2.Customer_Community_Availability__c", "Product2.Prerequisites__c", "Product2.Is_Complementary_Service__c"], "objects": ["ServiceContract", "ContractLineItem", "Product2", "Account", "PricebookEntry"], "automation": ["Record-Triggered Flow: Update Service Contract Total Value on Contract Line Item Insert/Update/Delete", "Record-Triggered Flow: Send Email Notification to Customer on Contract Line Item Creation", "Validation Rule: Validate Contract Line Item dates within Service Contract dates", "Apex Trigger: Check Prerequisites Before Contract Line Item Creation"], "ui_components": ["Lightning Record Page: Service Contract with Contract Line Items related list", "Quick Action: Add Contract Line Item", "Custom Lightning Web Component: Complementary Services Selector with filtering", "Experience Cloud Component: My Services Dashboard showing all Contract Line Items"]}}, {"id": "UC-012-02", "actor": "System (Automated Process)", "title": "System Auto-Suggests Complementary Services Based on Primary Contract", "main_flow": ["System detects new Service Contract creation or status change to 'Active'", "System retrieves primary products from Contract Line Items", "System queries Product_Recommendation__c custom metadata for matching rules", "System calculates recommendation scores based on customer industry, contract value, and product category", "System creates Recommended_Service__c records linked to Service Contract", "System ranks recommendations by Recommendation_Score__c (highest first)", "System generates Task for Sales Rep to review recommendations", "System displays recommendations in Service Contract Lightning page component", "Sales Rep reviews recommendations and accepts/rejects each", "For accepted recommendations, system creates Contract Line Items with Status__c = 'Pending Approval'"], "preconditions": ["Service Contract is created or updated", "Product Recommendation Rules are configured", "Complementary Service Products have Recommendation_Score__c populated", "Einstein Analytics or Flow Orchestration is enabled"], "postconditions": ["Recommended_Service__c records are created", "Task is assigned to Sales Rep for review", "Recommendations appear in Service Contract page", "Accepted recommendations create pending Contract Line Items", "Recommendation analytics are updated for reporting"], "alternative_flows": [{"steps": ["System logs event to Recommendation_Log__c", "System displays generic complementary services based on industry", "Sales Rep manually selects appropriate services"], "condition": "No matching recommendation rules found"}, {"steps": ["System checks Account.Allow_Service_Recommendations__c field", "System skips recommendation generation", "System logs opt-out event"], "condition": "Customer has opted out of auto-recommendations"}], "acceptance_criteria": ["GIVEN new Service Contract created WHEN primary products exist THEN recommendations are generated within 30 seconds", "GIVEN recommendations generated WHEN Sales Rep opens Service Contract THEN top 5 recommendations display ranked by score", "GIVEN Sales Rep accepts recommendation WHEN clicking Accept THEN Contract Line Item is created with Status = 'Pending Approval'", "GIVEN customer opted out WHEN Service Contract is created THEN no recommendations are generated", "GIVEN recommendation accepted WHEN viewing analytics THEN acceptance rate metrics update in real-time"], "salesforce_components": {"fields": ["Recommended_Service__c.Service_Contract__c", "Recommended_Service__c.Recommended_Product__c", "Recommended_Service__c.Recommendation_Score__c", "Recommended_Service__c.Status__c", "Recommended_Service__c.Reason__c", "Product2.Recommendation_Score__c", "Account.Allow_Service_Recommendations__c", "ContractLineItem.Status__c"], "objects": ["ServiceContract", "ContractLineItem", "Product2", "Recommended_Service__c", "Product_Recommendation__c", "Task", "Account"], "automation": ["Record-Triggered Flow: Generate Service Recommendations on Service Contract Activation", "Scheduled Flow: Daily Batch Process for Recommendation Score Recalculation", "Apex Class: RecommendationEngine with scoring algorithm", "Platform Event: Recommendation_Generated__e for real-time updates"], "ui_components": ["Custom Lightning Web Component: Service Recommendations Card with Accept/Reject actions", "Lightning Record Page: Service Contract with Recommendations section", "Flow Screen: Recommendation Review Wizard", "Einstein Analytics Dashboard: Recommendation Performance Metrics"]}}, {"id": "UC-012-03", "actor": "Customer (Experience Cloud User)", "title": "Customer Self-Selects Additional Services from Experience Cloud Portal", "main_flow": ["Customer logs into Experience Cloud portal", "Customer navigates to 'My Services' page", "System displays current Service Contract with active Contract Line Items", "Customer clicks 'Add Services' button", "System displays catalog of available complementary services filtered by eligibility rules", "Customer selects desired service and clicks 'Add to Cart'", "Customer reviews service details including pricing, duration, and terms", "Customer specifies start date and quantity (if applicable)", "Customer submits service request", "System creates Service_Request__c record with Status__c = 'Pending Review'", "System sends notification to assigned Sales Rep", "System displays confirmation message to customer with request number", "Sales Rep reviews and approves request", "System creates Contract Line Item and updates Service Contract", "Customer receives approval notification via email and portal notification"], "preconditions": ["Customer has active Service Contract", "Customer has valid Experience Cloud login credentials", "Additional services are marked as Customer_Community_Availability__c = 'Always' or 'Only When Already Owned'", "Customer profile has permission to view and request services"], "postconditions": ["Service_Request__c record is created", "Sales Rep receives notification", "Customer sees request status in portal", "Upon approval, Contract Line Item is created", "Service appears in customer's active services list", "Billing system is notified of new service for invoicing"], "alternative_flows": [{"steps": ["System checks Contract_Limit_Exceeded__c validation", "System routes request to Manager approval queue", "Manager reviews and approves/rejects with comments", "Customer receives notification of approval decision"], "condition": "Selected service requires approval due to contract limits"}, {"steps": ["System validates Prerequisites__c on Product", "System displays warning with required prerequisite services", "Customer adds prerequisite services to cart first", "Customer resubmits complete service bundle"], "condition": "Service has dependencies not currently active"}, {"steps": ["System validates requested start date against Service Contract end date", "System displays option to extend contract or adjust dates", "Customer selects contract extension option", "System creates Contract_Extension_Request__c for Sales Rep review"], "condition": "Customer attempts to add service outside contract period"}], "acceptance_criteria": ["GIVEN customer logged in WHEN viewing My Services THEN only eligible complementary services display based on current contract", "GIVEN customer submits service request WHEN validation passes THEN Service_Request__c is created within 3 seconds", "GIVEN service request created WHEN Sales Rep is notified THEN notification arrives within 1 minute", "GIVEN Sales Rep approves request WHEN approval is submitted THEN Contract Line Item is created and customer is notified within 5 minutes", "GIVEN service requires prerequisites WHEN customer attempts to add THEN clear warning message displays with list of required services", "GIVEN customer views portal WHEN request is pending THEN status updates display in real-time without page refresh"], "salesforce_components": {"fields": ["Service_Request__c.Service_Contract__c", "Service_Request__c.Requested_Product__c", "Service_Request__c.Status__c", "Service_Request__c.Requested_Start_Date__c", "Service_Request__c.Quantity__c", "Service_Request__c.Requester__c", "Service_Request__c.Assigned_Sales_Rep__c", "Service_Request__c.Approval_Comments__c", "Product2.Customer_Community_Availability__c", "Product2.Prerequisites__c"], "objects": ["ServiceContract", "ContractLineItem", "Product2", "Service_Request__c", "User", "Account", "PricebookEntry"], "automation": ["Record-Triggered Flow: Assign Service Request to Sales Rep based on Account Owner", "Record-Triggered Flow: Create Contract Line Item on Service Request Approval", "Approval Process: Service Request Approval with Manager escalation for high-value services", "Platform Event: Service_Request_Status_Changed__e for real-time portal updates"], "ui_components": ["Experience Cloud LWR Site with custom branding", "Lightning Web Component: Service Catalog with filtering and search", "Lightning Web Component: My Services Dashboard with request tracking", "Aura Component: Service Request Form with dynamic field rendering", "Lightning Web Component: Real-time Status Tracker using Platform Events"]}}, {"id": "UC-012-04", "actor": "Sales Manager", "title": "Sales Manager Configures Complementary Service Bundles and Pricing Rules", "main_flow": ["Sales Manager navigates to Service Bundles setup page", "Sales Manager clicks 'New Service Bundle'", "Sales Manager enters bundle name, description, and Bundle_Type__c (Complementary, Premium, Enterprise)", "Sales Manager adds products to bundle via Bundle_Item__c junction object", "Sales Manager specifies Bundle_Discount_Percent__c for package pricing", "Sales Manager defines eligibility rules using Bundle_Eligibility_Criteria__c (JSON format)", "Sales Manager sets Is_Active__c checkbox to make bundle available", "Sales Manager configures Auto_Add_To_Contract__c rules for automatic inclusion scenarios", "Sales Manager defines Minimum_Contract_Value__c threshold for bundle availability", "Sales Manager saves Service Bundle configuration", "System validates bundle configuration and pricing rules", "System creates Price_Rule__c records for CPQ integration", "System publishes bundle to appropriate sales channels and Experience Cloud sites"], "preconditions": ["Sales Manager has System Administrator or Custom Admin profile", "Product2 records exist for individual services", "Pricebook entries are configured", "Service_Bundle__c custom object is available"], "postconditions": ["Service_Bundle__c record is created and active", "Bundle_Item__c junction records link products to bundle", "Price_Rule__c records enable bundle pricing in quotes", "Bundle appears in sales tools and customer portal based on eligibility", "Sales Reps can add bundle to Service Contracts with one click", "Reporting dashboards include bundle performance metrics"], "alternative_flows": [{"steps": ["System validates Product_Compatibility__c rules", "System displays error listing conflicting products", "Sales Manager removes conflicting products or adjusts compatibility rules", "Sales Manager resubmits bundle configuration"], "condition": "Bundle contains conflicting products"}, {"steps": ["System checks discount against Max_Discount_Without_Approval__c", "System routes bundle configuration to VP Sales for approval", "VP Sales reviews business justification and approves/rejects", "Upon approval, bundle becomes active"], "condition": "Discount percentage exceeds approval threshold"}], "acceptance_criteria": ["GIVEN Sales Manager creates bundle WHEN all required fields populated THEN Service_Bundle__c record saves successfully", "GIVEN bundle with discount WHEN discount exceeds threshold THEN approval process initiates automatically", "GIVEN active bundle WHEN Sales Rep views eligible Service Contract THEN bundle appears in quick-add options", "GIVEN bundle eligibility criteria WHEN customer meets criteria THEN bundle displays in Experience Cloud portal", "GIVEN bundle configuration saved WHEN viewing Product Catalog THEN bundle products show grouped with bundle badge", "GIVEN bundle added to contract WHEN calculating total THEN bundle discount applies correctly to line items"], "salesforce_components": {"fields": ["Service_Bundle__c.Name", "Service_Bundle__c.Description__c", "Service_Bundle__c.Bundle_Type__c", "Service_Bundle__c.Bundle_Discount_Percent__c", "Service_Bundle__c.Is_Active__c", "Service_Bundle__c.Auto_Add_To_Contract__c", "Service_Bundle__c.Minimum_Contract_Value__c", "Service_Bundle__c.Bundle_Eligibility_Criteria__c", "Bundle_Item__c.Service_Bundle__c", "Bundle_Item__c.Product__c", "Bundle_Item__c.Quantity__c", "Bundle_Item__c.Sort_Order__c", "Price_Rule__c.Bundle__c"], "objects": ["Service_Bundle__c", "Bundle_Item__c", "Product2", "Price_Rule__c", "ServiceContract", "ContractLineItem", "Pricebook2", "PricebookEntry"], "automation": ["Record-Triggered Flow: Create Price Rules on Service Bundle Activation", "Record-Triggered Flow: Validate Product Compatibility on Bundle Item Insert", "Approval Process: Bundle Discount Approval for discounts > 20%", "Scheduled Flow: Nightly Sync of Bundle Availability to Experience Cloud", "Apex Class: BundlePricingCalculator for complex discount logic"], "ui_components": ["Custom Lightning App: Service Bundle Configuration", "Lightning Web Component: Bundle Builder with drag-and-drop product selection", "Lightning Web Component: Eligibility Criteria Builder (visual rule engine)", "Flow Screen: Bundle Quick-Add Wizard for Sales Reps", "Einstein Analytics Dashboard: Bundle Performance and Adoption Metrics"]}}, {"id": "UC-012-05", "actor": "System (Scheduled Process)", "title": "System Automatically Renews Complementary Services with Parent Contract", "main_flow": ["Scheduled job runs daily to identify Service Contracts in renewal window", "System queries Service Contracts where EndDate within 90 days AND Auto_Renew__c = true", "For each qualifying Service Contract, system retrieves related Contract Line Items", "System filters Contract Line Items where Renewable__c = true", "System creates Contract_Renewal__c record with Status__c = 'Draft'", "System copies Service Contract fields to renewal record per Renewal_Template__c mapping", "System creates new Contract Line Item records linked to renewal contract", "System applies Renewal_Discount__c from Product2 or Account-level pricing", "System calculates new Total_Contract_Value__c with renewals", "System sets renewal Start_Date__c = current contract End_Date__c + 1 day", "System creates Task for Account Owner to review renewal", "System sends renewal notification to customer via email with portal link", "Account Owner reviews and approves renewal", "System activates new Service Contract and deactivates old contract on renewal date"], "preconditions": ["Service Contract has Auto_Renew__c = true", "Service Contract is within renewal window (90 days before end date)", "Contract Line Items have Renewable__c = true", "Renewal terms are configured in Renewal_Template__c"], "postconditions": ["Contract_Renewal__c record exists in Draft status", "New Contract Line Items are created for renewal", "Account Owner has Task to review renewal", "Customer receives renewal notification", "Upon approval, new Service Contract activates seamlessly", "Old Service Contract status changes to 'Renewed'", "Billing system receives renewal data for invoicing"], "alternative_flows": [{"steps": ["System checks Account.Payment_Status__c", "System holds renewal in 'Pending Payment' status", "System creates high-priority Task for Collections team", "Collections resolves payment issue", "System proceeds with renewal activation"], "condition": "Customer has payment issues or past due invoices"}, {"steps": ["System compares current pricing to original Contract Line Item prices", "If variance > Price_Change_Threshold__c, system flags for manual review", "Account Owner reviews pricing changes and adjusts as needed", "Account Owner approves adjusted renewal", "System proceeds with renewal"], "condition": "Pricing has changed significantly since original contract"}, {"steps": ["Customer logs into portal and views pending renewal", "Customer deselects unwanted services from renewal", "System updates Contract_Renewal__c to remove deselected items", "System recalculates Total_Contract_Value__c", "Account Owner receives notification of customer changes", "Account Owner approves modified renewal"], "condition": "Customer opts out of specific complementary services"}], "acceptance_criteria": ["GIVEN Service Contract in renewal window WHEN scheduled job runs THEN Contract_Renewal__c is created within 24 hours", "GIVEN renewable Contract Line Items WHEN renewal is created THEN all renewable items are copied to new contract", "GIVEN renewal discount configured WHEN calculating renewal value THEN discount applies correctly to all line items", "GIVEN customer views renewal in portal WHEN deselecting services THEN Total_Contract_Value__c updates in real-time", "GIVEN Account Owner approves renewal WHEN approval submitted THEN new Service Contract activates on scheduled date", "GIVEN renewal activated WHEN old contract ends THEN status changes to 'Renewed' and End_Date__c is set correctly", "GIVEN payment issues exist WHEN renewal attempted THEN renewal holds in 'Pending Payment' and Collections is notified"], "salesforce_components": {"fields": ["ServiceContract.Auto_Renew__c", "ServiceContract.EndDate", "ServiceContract.Status", "Contract_Renewal__c.Original_Contract__c", "Contract_Renewal__c.Status__c", "Contract_Renewal__c.Renewal_Start_Date__c", "Contract_Renewal__c.Total_Contract_Value__c", "ContractLineItem.Renewable__c", "Product2.Renewal_Discount__c", "Account.Payment_Status__c", "Renewal_Template__c.Field_Mapping__c"], "objects": ["ServiceContract", "ContractLineItem", "Contract_Renewal__c", "Product2", "Account", "Task", "Renewal_Template__c"], "automation": ["Scheduled Flow: Daily Contract Renewal Identification (runs at 2 AM)", "Record-Triggered Flow: Create Renewal Contract on Identification", "Record-Triggered Flow: Copy Contract Line Items to Renewal", "Record-Triggered Flow: Activate New Contract on Renewal Date", "Apex Batch Class: ContractRenewalBatch for bulk processing", "Platform Event: Contract_Renewal_Created__e for integration with billing systems"], "ui_components": ["Lightning Web Component: Renewal Review Dashboard for Account Owners", "Experience Cloud Component: My Renewals page with service selection", "Lightning Record Page: Contract Renewal with side-by-side comparison to original", "Flow Screen: Renewal Approval Wizard with pricing comparison", "Email Template: Customer Renewal Notification with portal link"]}}, {"id": "UC-013-01", "actor": "Executive Management", "title": "Executive Generates Consolidated Sales Report Filtered by Single Dealership", "main_flow": ["Executive navigates to Reports tab in Salesforce", "Executive locates and opens 'Consolidated Sales by Dealership' report", "System displays report with all dealership data by default", "Executive clicks 'Edit' to modify report filters", "Executive selects 'Filters' panel in report builder", "Executive adds filter: Dealership Name (Account.Dealership__c) equals 'Downtown Motors'", "Executive clicks 'Apply' to apply the filter", "System refreshes report showing only data for Downtown Motors dealership", "Executive reviews filtered metrics including revenue, units sold, and customer satisfaction", "Executive clicks 'Save' to save filtered view or 'Run Report' to execute without saving"], "preconditions": ["User has 'Run Reports' permission", "Dealership/Agency data is populated in Account records", "Sales data exists in Opportunity object", "Custom report type 'Sales by Dealership' is created and accessible", "User is logged into Salesforce Lightning Experience"], "postconditions": ["Report displays data filtered by selected dealership only", "All metrics and KPIs reflect filtered dataset", "Filter criteria is visible in report header", "Report can be exported or scheduled with current filters applied", "Audit log records report execution with filter parameters"], "alternative_flows": [{"steps": ["At step 6, Executive selects operator 'includes' instead of 'equals'", "Executive enters multiple dealership names separated by commas", "System displays combined data for selected dealerships"], "condition": "Executive wants to filter by multiple dealerships"}, {"steps": ["System displays report with zero records", "System shows message 'No data matches the selected filters'", "Executive removes or modifies filter criteria"], "condition": "No data exists for selected dealership"}, {"steps": ["After applying filters, Executive clicks 'Save As'", "Executive enters report name 'Downtown Motors - Monthly Sales'", "Executive selects folder and visibility settings", "System saves custom report view for future access"], "condition": "Executive wants to save custom filtered view"}], "acceptance_criteria": ["Report successfully filters data when single dealership is selected", "Filtered report displays within 5 seconds for datasets up to 50,000 records", "All report columns and groupings remain intact after filtering", "Filter selection persists when report is refreshed", "User can clear filters and return to unfiltered view", "Filter dropdown displays all active dealerships in alphabetical order", "Report totals and subtotals recalculate based on filtered data", "Export functionality includes only filtered data"], "salesforce_components": {"fields": ["Account.Dealership__c", "Account.Dealership_Name__c", "Account.Region__c", "Opportunity.Amount", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.Dealership__c", "OpportunityLineItem.Quantity", "OpportunityLineItem.TotalPrice"], "objects": ["Account", "Opportunity", "OpportunityLineItem", "Custom Object: Dealership__c"], "automation": ["Record-Triggered Flow: Update Opportunity Dealership field when Account Dealership changes", "Scheduled Flow: Daily refresh of report snapshot data"], "ui_components": ["Custom Report Type: Sales by Dealership", "Report Filter: Dealership picklist", "Report Columns: Dealership Name, Total Revenue, Units Sold, Avg Deal Size", "Report Grouping: By Dealership, then by Month"]}}, {"id": "UC-013-02", "actor": "Executive Management", "title": "Executive Groups Consolidated Report by Multiple Dealership Regions", "main_flow": ["Executive opens 'Consolidated Sales Performance' report", "Executive clicks 'Edit' to enter report builder", "Executive navigates to 'Group Rows' section", "Executive selects 'Add Group' and chooses 'Dealership Region' as first grouping level", "Executive selects 'Add Group' again and chooses 'Dealership Name' as second grouping level", "System reorganizes report data with Region as primary grouping and Dealership as secondary", "Executive adds summary formulas for each grouping level (Region Total, Dealership Total)", "Executive applies date filter for 'Current Quarter'", "Executive clicks 'Run Report' to generate grouped view", "System displays hierarchical report with expandable/collapsible region sections", "Executive reviews regional performance metrics and dealership comparisons within regions", "Executive clicks 'Save' to preserve grouping configuration"], "preconditions": ["User has 'Run Reports' and 'Create and Customize Reports' permissions", "Dealership records have Region field populated", "Report type includes Dealership and Region fields", "Historical sales data spans at least one complete fiscal quarter"], "postconditions": ["Report displays data grouped by Region and Dealership in hierarchical structure", "Subtotals appear at each grouping level", "Grand total appears at report footer", "User can expand/collapse grouping sections", "Grouping configuration is saved with report definition", "Report maintains grouping when exported to Excel"], "alternative_flows": [{"steps": ["After step 5, Executive adds third grouping level 'Product Family'", "System creates three-tier hierarchy: Region > Dealership > Product", "Executive adds summary calculations at each level"], "condition": "Executive wants to add third-level grouping by product line"}, {"steps": ["At step 8, Executive adds filter 'Region includes Northeast, Southeast'", "System displays only dealerships within selected regions", "Regional totals reflect filtered data only"], "condition": "Executive wants to filter specific regions only"}, {"steps": ["System displays warning about report complexity", "Executive reduces date range to improve performance", "Executive considers creating summary report with pre-aggregated data"], "condition": "Report performance is slow with multiple groupings"}], "acceptance_criteria": ["Report supports minimum 2 levels of grouping (Region and Dealership)", "Subtotals calculate correctly at each grouping level", "Grand total matches sum of all regional subtotals", "User can expand/collapse all groups with single click", "Grouped report renders within 10 seconds for up to 100,000 records", "Export to Excel preserves grouping structure and subtotals", "Report displays 'No data' message for empty groups", "Sorting within groups works independently of other groups", "Summary formulas (SUM, AVG, MAX, MIN) function correctly at each level"], "salesforce_components": {"fields": ["Dealership__c.Region__c", "Dealership__c.Name", "Dealership__c.Territory__c", "Account.Dealership__c", "Opportunity.Dealership_Region__c", "Opportunity.Amount", "Opportunity.CloseDate", "Product2.Family"], "objects": ["Account", "Opportunity", "Dealership__c", "Product2", "OpportunityLineItem"], "automation": ["Record-Triggered Flow: Populate Opportunity.Dealership_Region__c from related Account", "Apex Trigger: Validate Region field on Dealership record insert/update", "Process Builder: Update Account records when Dealership Region changes"], "ui_components": ["Custom Report Type: Opportunities with Dealerships and Products", "Report Grouping: First by Region, Second by Dealership", "Summary Fields: SUM(Amount), COUNT(Opportunity), AVG(Amount)", "Report Chart: Bar chart showing revenue by region", "Custom Report Formula: Region_Market_Share__c"]}}, {"id": "UC-013-03", "actor": "Executive Management", "title": "Executive Schedules Automated Dealership Performance Report Distribution", "main_flow": ["Executive navigates to saved report 'Monthly Dealership Performance'", "Executive clicks 'Subscribe' button in report header", "System opens subscription configuration modal", "Executive selects frequency 'Monthly' and day 'First Monday of Month'", "Executive sets time to '8:00 AM' in organization timezone", "Executive enters filter criteria: 'All Active Dealerships' (Status equals Active)", "Executive adds recipients: Regional Managers distribution list", "Executive selects format 'Excel' for attachment", "Executive enables option 'Include report link in email'", "Executive clicks 'Save Subscription'", "System validates schedule and confirms subscription creation", "System sends confirmation email to Executive with subscription details"], "preconditions": ["User has 'Schedule Reports' permission", "Report 'Dealership Performance Dashboard' exists and is functional", "Report includes filters for dealership selection", "Email deliverability is configured in Salesforce org", "Recipients have valid email addresses in Salesforce"], "postconditions": ["Report subscription is active and visible in user's subscription list", "System generates and sends report according to schedule", "Recipients receive email with report attachment at specified time", "Subscription execution is logged in system audit trail", "Executive can view subscription history and delivery status", "Subscription can be paused, modified, or deleted by Executive"], "alternative_flows": [{"steps": ["At step 6, Executive enables 'Send separate report for each filter value'", "Executive selects 'Dealership Name' as the filter field", "System creates individual subscriptions for each active dealership", "Each dealership manager receives report filtered to their dealership only"], "condition": "Executive wants separate reports for each dealership"}, {"steps": ["System attempts to generate report at scheduled time", "Report times out after 10 minutes", "System sends failure notification to Executive", "Executive modifies report to reduce data scope or adds additional filters"], "condition": "Report execution fails due to data volume"}, {"steps": ["At step 6, Executive adds condition 'Only send if Total Revenue < Target'", "System evaluates condition before sending", "Report only delivers when condition is met", "Executive receives notification when report is suppressed"], "condition": "Executive wants conditional delivery based on performance thresholds"}], "acceptance_criteria": ["Subscription successfully created with all specified parameters", "Report generates and sends on first scheduled occurrence", "Email includes report as attachment in specified format (Excel/PDF)", "Email body contains summary statistics and link to live report", "All specified recipients receive the report email", "Report reflects current data at time of execution, not subscription creation", "Subscription respects user's timezone settings", "Failed deliveries trigger notification to subscription owner", "User can view list of all active subscriptions and their next run time", "Subscription can be edited without deleting and recreating", "System supports minimum 50 concurrent report subscriptions per user"], "salesforce_components": {"fields": ["ReportSubscription.ReportId", "ReportSubscription.ScheduledTime", "ReportSubscription.Frequency", "ReportSubscription.FilterCriteria__c", "Dealership__c.Status__c", "Dealership__c.Manager__c", "User.Email"], "objects": ["Report", "ReportSubscription", "User", "Group", "Dealership__c"], "automation": ["Scheduled Apex: Execute report subscriptions at specified times", "Email Alert: Send report delivery notifications", "Record-Triggered Flow: Log subscription execution history", "Scheduled Flow: Clean up expired subscriptions quarterly"], "ui_components": ["Report Subscribe Button", "Subscription Configuration Modal", "Frequency Picker (Daily/Weekly/Monthly)", "Recipient Multi-Select Lookup", "Filter Criteria Builder", "Subscription Management List View", "Email Template: Report Delivery with Summary"]}}, {"id": "UC-013-04", "actor": "Executive Management", "title": "Executive Creates Custom Dashboard with Dealership Comparison Widgets", "main_flow": ["Executive navigates to Dashboards tab", "Executive clicks 'New Dashboard' button", "Executive enters dashboard name 'Executive Dealership Performance Overview'", "Executive selects folder 'Executive Reports' with private access", "System opens dashboard builder interface", "Executive clicks 'Add Component' and selects 'Bar Chart'", "Executive selects source report 'Revenue by Dealership - Current Quarter'", "Executive configures chart to display Top 10 dealerships by revenue", "Executive adds second component: 'Table' showing all dealerships with key metrics", "Executive adds filter control: 'Dealership Region' affecting all components", "Executive adds third component: 'Gauge' showing company-wide target achievement", "Executive arranges components in 3-column layout", "Executive sets dashboard to run as 'Viewing User' for dynamic data", "Executive clicks 'Save' and then 'Done'", "System generates dashboard with all components displaying filtered data"], "preconditions": ["User has 'Create and Customize Dashboards' permission", "Source reports for dealership metrics exist and are accessible", "Dealership data is standardized across all records", "User has access to Dashboard folder with appropriate sharing settings"], "postconditions": ["Dashboard is saved and accessible from Dashboards tab", "All components display current data based on source reports", "Filter controls affect all relevant dashboard components", "Dashboard can be refreshed manually or on schedule", "Dashboard URL can be shared with authorized users", "Dashboard appears in recent items for quick access"], "alternative_flows": [{"steps": ["At step 9, Executive adds 'Stacked Bar Chart' component", "Executive selects report with date groupings for current and prior quarter", "Executive configures chart to show side-by-side comparison", "System displays comparative performance for each dealership"], "condition": "Executive wants to compare current vs previous period"}, {"steps": ["System displays error message 'Insufficient privileges'", "Executive verifies report sharing settings", "Executive adjusts report folder permissions or dashboard running user", "System refreshes and displays components successfully"], "condition": "Dashboard components fail to load due to report access"}, {"steps": ["Executive enables 'Click to Drill Down' on bar chart component", "User clicks on dealership bar in dashboard", "System navigates to detailed report filtered for selected dealership", "User can return to dashboard via browser back button"], "condition": "Executive wants to drill down into specific dealership"}], "acceptance_criteria": ["Dashboard displays minimum 3 components with dealership data", "All components load within 15 seconds on initial view", "Filter control successfully filters all connected components", "Dashboard supports up to 20 components without performance degradation", "Components refresh when underlying report data changes", "Dashboard maintains layout and formatting across different screen sizes", "User can export dashboard components to Excel/PDF individually", "Dashboard running user setting correctly applies data visibility rules", "Components display 'No data' message when filters return empty results", "Dashboard can be cloned to create variations for different audiences", "Scheduled refresh sends updated dashboard snapshot to recipients"], "salesforce_components": {"fields": ["Dashboard.Title", "Dashboard.RunningUser", "DashboardComponent.ComponentType", "DashboardComponent.SourceReport", "Dealership__c.Region__c", "Dealership__c.Revenue_Target__c", "Opportunity.Amount", "Opportunity.Dealership__c"], "objects": ["Dashboard", "DashboardComponent", "Report", "Dealership__c", "Opportunity", "Account"], "automation": ["Scheduled Apex: Refresh dashboard data cache hourly", "Platform Event: Trigger dashboard refresh on significant data changes", "Record-Triggered Flow: Update dashboard snapshot when dealership targets change"], "ui_components": ["Dashboard Builder", "Bar Chart Component", "Table Component", "Gauge Component", "Dashboard Filter Control", "Dashboard Layout Grid", "Component Configuration Panel", "Dashboard Subscription Interface"]}}, {"id": "UC-013-05", "actor": "System Administrator", "title": "System Administrator Creates Custom Report Type for Dealership Cross-Object Reporting", "main_flow": ["Administrator navigates to Setup and searches for 'Report Types'", "Administrator clicks 'New Custom Report Type'", "Administrator selects primary object 'Dealership__c'", "Administrator enters report type label 'Dealerships with Accounts and Opportunities'", "Administrator enters description 'Consolidated reporting across dealership, account, and opportunity data'", "Administrator selects category 'Dealership Reports'", "Administrator clicks 'Next' to define object relationships", "Administrator adds related object 'Accounts' with relationship 'Each Dealership may have related Accounts'", "Administrator adds related object 'Opportunities' through Accounts with relationship 'Each Account may have related Opportunities'", "Administrator clicks 'Save' and then 'Edit Layout'", "Administrator drags fields from Dealership, Account, and Opportunity objects into report layout", "Administrator organizes fields into logical sections: Dealership Info, Account Details, Opportunity Metrics", "Administrator adds lookup fields to include related Product and User data", "Administrator sets default columns and field display names", "Administrator clicks 'Save' to finalize report type", "System validates report type and makes it available in report builder"], "preconditions": ["User has 'Customize Application' permission", "Enhanced Custom Report Type Setup Page is enabled in org", "Primary objects (Dealership__c, Account, Opportunity) exist with proper relationships", "Field-level security is configured for all relevant fields"], "postconditions": ["Custom report type is active and visible in report builder", "Users with appropriate permissions can create reports using new type", "Report type appears in correct category in report creation wizard", "All included fields are accessible based on user permissions", "Report type supports filtering, grouping, and summarization", "Documentation is updated with new report type details"], "alternative_flows": [{"steps": ["At step 9, Administrator uses lookup fields feature to extend beyond standard limit", "Administrator adds up to 1000 fields using lookup field functionality", "System creates extended report type with deep object traversal"], "condition": "Administrator needs to add more than 4 object relationships"}, {"steps": ["After step 9, Administrator includes 'Opportunity History' related object", "Administrator adds date-stamped fields for stage changes", "Administrator configures report type to support time-based analysis"], "condition": "Report type needs to support historical trending"}, {"steps": ["At step 11, system displays warning about inaccessible fields", "Administrator reviews field-level security settings", "Administrator either adjusts FLS or excludes restricted fields from report type", "System validates and saves report type with accessible fields only"], "condition": "Field-level security prevents access to sensitive fields"}], "acceptance_criteria": ["Report type successfully created with minimum 3 related objects", "Report type includes minimum 30 fields across all objects", "Field layout is organized into logical sections with clear labels", "Report type supports all standard report formats (Tabular, Summary, Matrix)", "Users can create and run reports using custom report type within 30 seconds", "Report type respects object-level and field-level security", "Lookup fields enable access to fields up to 5 relationship levels deep", "Report type can be edited and updated without breaking existing reports", "Custom report type appears in correct category for all authorized users", "Report type supports up to 1000 fields in layout", "Performance testing shows reports run in under 30 seconds for 100K records"], "salesforce_components": {"fields": ["Dealership__c.Name", "Dealership__c.Region__c", "Dealership__c.Status__c", "Dealership__c.Manager__c", "Account.Name", "Account.Dealership__c", "Opportunity.Amount", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.AccountId", "OpportunityLineItem.Quantity", "Product2.Family"], "objects": ["CustomReportType", "Dealership__c", "Account", "Opportunity", "OpportunityLineItem", "Product2", "User", "OpportunityHistory"], "automation": ["Validation Rule: Ensure required fields are populated before report type activation", "Apex Trigger: Log report type usage for governance tracking", "Process Builder: Notify administrators when report type is modified"], "ui_components": ["Custom Report Type Builder", "Report Type Layout Editor", "Field Selector with Lookup Fields", "Object Relationship Diagram", "Field Section Organizer", "Report Type Preview Panel"]}}, {"id": "UC-014-01", "actor": "Executive Management", "title": "Executive Views Sales Performance Dashboard by Vehicle Brand", "main_flow": ["Executive navigates to Sales Performance Dashboard", "System displays default view with all brands aggregated", "Executive selects specific brand from Brand__c filter dropdown", "System refreshes dashboard components to show brand-specific metrics", "Executive reviews key metrics: total revenue, units sold, average deal size by selected brand", "Executive compares current period to previous period for selected brand", "Executive exports filtered report data for further analysis"], "preconditions": ["User has access to Sales Performance Dashboard", "Vehicle records contain Brand__c field populated", "Opportunity records are linked to Vehicle records", "Dashboard components are configured with brand filters"], "postconditions": ["Dashboard displays brand-specific performance metrics", "Filter selections are saved for user session", "Export file contains only filtered brand data", "User activity is logged in report analytics"], "alternative_flows": [{"steps": ["Executive selects multiple brands using multi-select filter", "System displays side-by-side comparison charts", "Executive analyzes performance variance across selected brands"], "condition": "Executive wants to compare multiple brands"}, {"steps": ["System displays 'No data available' message", "System suggests expanding date range or selecting different brand", "Executive adjusts filters accordingly"], "condition": "No data exists for selected brand in current period"}], "acceptance_criteria": ["Dashboard loads brand-filtered data within 3 seconds", "All dashboard components (charts, tables, KPIs) update simultaneously when brand filter is applied", "Brand filter dropdown displays all active brands alphabetically", "Exported reports include brand name in filename and header", "Dashboard supports selection of 1 to 10 brands simultaneously", "Comparison view shows percentage variance between selected brands", "Mobile responsive layout maintains brand filter functionality"], "salesforce_components": {"fields": ["Vehicle__c.Brand__c", "Vehicle__c.Model__c", "Opportunity.Amount", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.Vehicle__c", "Product2.Brand__c"], "objects": ["Opportunity", "Vehicle__c", "OpportunityLineItem", "Product2"], "automation": ["Record-Triggered Flow: Update Opportunity Brand field when Vehicle is linked", "Scheduled Flow: Daily dashboard data refresh"], "ui_components": ["Dashboard with brand filter component", "Multi-select picklist filter for Brand__c", "Bar chart component for brand comparison", "KPI components for revenue, units, average deal size", "Trend line chart for period-over-period comparison", "Export to Excel button"]}}, {"id": "UC-014-02", "actor": "Sales Manager", "title": "Sales Manager Generates Custom Brand Performance Report", "main_flow": ["Sales Manager navigates to Reports tab", "Manager clicks 'New Report' and selects 'Opportunities with Vehicles' report type", "Manager adds Brand__c field to report grouping", "Manager adds columns: Opportunity Name, Amount, Stage, Close Date, Owner", "Manager applies filters: Close Date = Current Quarter, Stage = Closed Won", "Manager adds summary formulas: SUM(Amount), COUNT(Opportunity), AVG(Amount)", "Manager groups report by Brand__c with subtotals", "Manager adds chart visualization showing revenue by brand", "Manager saves report as 'Q4 Brand Performance Analysis'", "Manager schedules report to run weekly and email to executive team"], "preconditions": ["User has 'Create and Customize Reports' permission", "Report Type 'Opportunities with Vehicles' exists", "Brand__c field is available in report builder", "Historical data exists for at least one complete quarter"], "postconditions": ["Custom report is saved in Sales Reports folder", "Report is shared with Executive Management team", "Scheduled subscription is active for weekly delivery", "Report appears in manager's Recent Reports list"], "alternative_flows": [{"steps": ["Manager creates matrix report format", "Manager adds Close Date (Year) as column grouping", "Manager adds Brand__c as row grouping", "System displays brand performance across multiple years"], "condition": "Manager needs year-over-year brand comparison"}, {"steps": ["Manager adds secondary grouping by Model__c", "Manager configures collapsible row groups", "System displays hierarchical brand-to-model breakdown"], "condition": "Manager wants to drill down to specific models within brand"}], "acceptance_criteria": ["Report displays all brands with at least one closed opportunity", "Summary calculations are accurate to 2 decimal places", "Report can be filtered by date range without rebuilding", "Chart visualization updates dynamically with filter changes", "Scheduled report emails contain PDF and Excel attachments", "Report runs in under 30 seconds for up to 10,000 records", "Drill-down functionality works from brand to individual opportunities", "Report respects user sharing rules and territory assignments"], "salesforce_components": {"fields": ["Vehicle__c.Brand__c", "Vehicle__c.Model__c", "Opportunity.Amount", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.OwnerId", "Opportunity.Vehicle__c"], "objects": ["Opportunity", "Vehicle__c", "User", "Report", "ReportFolder"], "automation": ["Scheduled Flow: Weekly report generation and distribution", "Process Builder: Update report last run date"], "ui_components": ["Report Builder interface", "Matrix report format option", "Chart builder with brand grouping", "Filter panel with brand multi-select", "Schedule report modal", "Report subscription management"]}}, {"id": "UC-014-03", "actor": "Marketing Analyst", "title": "Marketing Analyst Segments Campaign Performance by Brand", "main_flow": ["Marketing Analyst opens Campaigns with Influenced Opportunities report type", "Analyst adds Brand__c field from related Vehicle object", "Analyst groups report by Campaign Name, then by Brand__c", "Analyst adds metrics: Number of Influenced Opportunities, Total Influenced Revenue, Conversion Rate", "Analyst applies filter: Campaign Start Date = Last 6 Months", "Analyst adds conditional formatting to highlight top-performing brand-campaign combinations", "Analyst creates stacked bar chart showing campaign effectiveness by brand", "Analyst saves report and adds to Marketing Dashboard", "Analyst shares insights with marketing team via Chatter post"], "preconditions": ["Campaign records exist with associated opportunities", "Vehicle Brand__c field is populated on related opportunities", "Campaign Influence is enabled", "User has access to Campaign Reports folder"], "postconditions": ["Report shows campaign ROI segmented by vehicle brand", "Dashboard widget displays top 5 brand-campaign combinations", "Marketing team receives notification of new insights", "Action items are created for underperforming brand-campaign pairs"], "alternative_flows": [{"steps": ["Analyst adds Campaign Type field as additional grouping", "Analyst creates cross-tab view: Campaign Type vs Brand", "System displays which campaign types perform best for each brand"], "condition": "Analyst needs to analyze brand preference by campaign type"}, {"steps": ["System highlights brand with no associated campaigns", "Analyst creates task to develop brand-specific campaign", "Analyst adds brand to campaign planning worksheet"], "condition": "Analyst discovers brand with zero campaign influence"}], "acceptance_criteria": ["Report accurately attributes influenced revenue to correct brand", "Conversion rate calculation excludes campaigns with zero opportunities", "Conditional formatting applies green for >15% conversion, yellow for 10-15%, red for <10%", "Chart displays up to 8 brands with 'Other' category for remaining brands", "Report supports drill-through to individual campaign members", "Dashboard refreshes automatically every 24 hours", "Chatter post includes embedded chart preview", "Report handles null brand values by grouping into 'Unspecified Brand' category"], "salesforce_components": {"fields": ["Campaign.Name", "Campaign.Type", "Campaign.StartDate", "Campaign.Status", "Vehicle__c.Brand__c", "Opportunity.Amount", "Opportunity.IsWon", "CampaignInfluence.Influence"], "objects": ["Campaign", "CampaignMember", "Opportunity", "Vehicle__c", "CampaignInfluence"], "automation": ["Record-Triggered Flow: Calculate brand-specific campaign metrics on opportunity close", "Scheduled Flow: Daily campaign performance rollup by brand"], "ui_components": ["Joined report builder for campaigns and opportunities", "Conditional formatting rules engine", "Stacked bar chart component", "Dashboard filter for brand selection", "Chatter publisher with report embed", "Export to PowerPoint option"]}}, {"id": "UC-014-04", "actor": "Service Manager", "title": "Service Manager Analyzes Warranty Claims by Vehicle Brand", "main_flow": ["Service Manager navigates to Service Analytics app", "Manager selects 'Warranty Claims by Brand' report", "System displays report grouped by Brand__c with case counts", "Manager reviews metrics: Total Claims, Average Resolution Time, Cost per Claim by brand", "Manager identifies brand with highest claim frequency", "Manager drills down to view common issue categories for that brand", "Manager adds filter for Date Range = Last 12 Months", "Manager exports detailed claim data for quality assurance review", "Manager creates follow-up task to investigate high-claim brand with product team"], "preconditions": ["Case object is configured for warranty claims", "Cases are linked to Vehicle__c records", "Brand__c field exists on Vehicle__c object", "Warranty claim cases have RecordType = 'Warranty_Claim'"], "postconditions": ["Service Manager has identified brands requiring quality improvement", "Task is created for product team investigation", "Exported data is available for root cause analysis", "Report insights are documented in service review meeting notes"], "alternative_flows": [{"steps": ["Manager switches to trend report view", "Manager groups by Brand__c and Created Date (Month)", "System displays line chart showing claim volume trends per brand", "Manager identifies seasonal patterns or emerging issues"], "condition": "Manager needs to compare claim trends over time by brand"}, {"steps": ["Manager adds Model__c as secondary grouping", "Manager adds Cost__c field to summary calculations", "System displays hierarchical cost breakdown: Brand > Model > Individual Claims"], "condition": "Manager wants to analyze claim costs by brand and model"}], "acceptance_criteria": ["Report includes only cases with RecordType = 'Warranty_Claim'", "Average Resolution Time is calculated in business hours, not calendar hours", "Cost per Claim excludes cases with Status = 'Cancelled' or 'Duplicate'", "Brand filter supports multi-select for comparison analysis", "Drill-down maintains all parent-level filters", "Export includes case numbers, descriptions, and resolution notes", "Report displays warning icon for brands exceeding industry benchmark claim rates", "Chart visualization uses consistent brand colors across all service reports"], "salesforce_components": {"fields": ["Case.RecordTypeId", "Case.Status", "Case.CreatedDate", "Case.ClosedDate", "Case.Warranty_Cost__c", "Vehicle__c.Brand__c", "Vehicle__c.Model__c", "Asset.Vehicle__c", "Case.AssetId"], "objects": ["Case", "Vehicle__c", "Asset", "Product2", "WorkOrder"], "automation": ["Record-Triggered Flow: Auto-populate brand from vehicle when case is created", "Scheduled Flow: Calculate monthly warranty claim metrics by brand", "Apex Trigger: Update brand claim counter on Vehicle__c object"], "ui_components": ["Service Analytics dashboard", "Trend line chart for claim volume over time", "Heat map showing claim density by brand and region", "Drill-down modal for claim details", "Brand comparison table with benchmark indicators", "Export wizard with field selection"]}}, {"id": "UC-014-05", "actor": "Data Analyst", "title": "Data Analyst Creates Brand Performance Einstein Analytics Dashboard", "main_flow": ["Data Analyst opens Analytics Studio", "Analyst creates new dataset from Opportunities with Vehicles", "Analyst adds Brand__c as dimension field", "Analyst creates calculated fields: Win Rate by Brand, Average Sales Cycle by Brand, Revenue Growth Rate by Brand", "Analyst builds dashboard with multiple lenses: Revenue by Brand (bar chart), Market Share by Brand (pie chart), Brand Trend Analysis (line chart)", "Analyst adds interactive filters: Date Range, Sales Region, Product Category", "Analyst configures drill-down from brand summary to individual opportunities", "Analyst applies predictive analytics to forecast next quarter revenue by brand", "Analyst sets up dashboard subscription for executive team", "Analyst publishes dashboard to Executive Analytics app"], "preconditions": ["Einstein Analytics (Tableau CRM) is enabled", "User has Analytics Studio access", "Data sync is configured for Opportunity, Vehicle__c, and Product2 objects", "Brand__c field is included in dataset"], "postconditions": ["Einstein Analytics dashboard is live and accessible to executives", "Automated daily data refresh is configured", "Dashboard subscription delivers insights every Monday morning", "Predictive forecasts are available for strategic planning"], "alternative_flows": [{"steps": ["Analyst uploads external CSV with industry benchmark data", "Analyst joins external data with Salesforce data on Brand field", "System displays Salesforce performance vs industry benchmarks by brand"], "condition": "Analyst needs to incorporate external market data by brand"}, {"steps": ["System highlights records with null or inconsistent brand values", "Analyst creates data quality report showing brand field completeness", "Analyst notifies data steward to clean brand data"], "condition": "Analyst discovers data quality issues with brand field"}], "acceptance_criteria": ["Dashboard loads within 5 seconds for datasets up to 100,000 records", "All visualizations update in real-time when filters are applied", "Win Rate calculation: (Closed Won Opportunities / Total Opportunities) * 100 by brand", "Market Share calculation shows percentage of total company revenue per brand", "Predictive model achieves minimum 80% accuracy based on historical data", "Dashboard is mobile-responsive and accessible on Salesforce mobile app", "Drill-down maintains context of selected brand and filters", "Dashboard includes data freshness indicator showing last refresh time", "Export functionality supports PNG, PDF, and CSV formats"], "salesforce_components": {"fields": ["Vehicle__c.Brand__c", "Vehicle__c.Model__c", "Opportunity.Amount", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.CreatedDate", "Opportunity.Probability", "Product2.Brand__c", "User.Region__c"], "objects": ["Opportunity", "Vehicle__c", "Product2", "OpportunityLineItem", "User", "Territory"], "automation": ["Dataflow: Daily incremental sync of opportunity and vehicle data", "Recipe: Data transformation to calculate brand-level metrics", "Scheduled Dataflow: Refresh Einstein Analytics dataset at 6 AM daily"], "ui_components": ["Einstein Analytics Dashboard", "Interactive bar chart with brand grouping", "Pie chart for market share visualization", "Line chart for trend analysis", "Compare table showing brand performance metrics", "Predictive analytics widget", "Global filter panel for date, region, and category", "Drill-down modal with opportunity details", "Dashboard subscription manager"]}}, {"id": "UC-015-01", "actor": "Sales Manager", "title": "Sales Manager Generates Individual Vehicle Performance Report", "main_flow": ["Sales Manager navigates to the Reports tab", "Sales Manager searches for 'Vehicle Performance' report or navigates to 'Vehicle Reports' folder", "Sales Manager clicks on the 'Individual Vehicle Detail Report' name", "System automatically runs the report displaying vehicle-level data", "Sales Manager applies filters to select specific vehicle(s) by VIN, Model, or Status", "System refreshes report showing filtered results with key metrics (days in inventory, price changes, test drives, inquiries)", "Sales Manager reviews vehicle-specific performance indicators", "Sales Manager exports report to Excel or PDF for offline analysis", "System generates the export file and provides download link"], "preconditions": ["User has 'Run Reports' permission", "Vehicle records exist in the system with associated sales data", "Custom Report Type for Vehicle analysis is configured", "User is authenticated in Salesforce Lightning Experience"], "postconditions": ["Vehicle-level report is displayed with accurate data", "Report results can be exported in multiple formats", "User actions are logged in Salesforce audit trail", "Report view preferences are saved for future sessions"], "alternative_flows": ["ALT-01: If no vehicles match filter criteria, system displays 'No results found' message and suggests removing filters", "ALT-02: If report takes longer than 30 seconds, system displays progress indicator and option to run asynchronously", "ALT-03: Sales Manager customizes report by adding/removing columns, then saves as new custom view", "ALT-04: Sales Manager schedules report to run weekly and email results to stakeholders"], "acceptance_criteria": ["Report displays all standard vehicle fields: VIN, Make, Model, Year, Stock Number, Status, List Price", "Report includes calculated fields: Days in Inventory, Price Adjustments, Lead Count, Opportunity Count", "Filters work correctly for VIN, Make, Model, Year, Status, Location, and Date Range", "Report loads within 10 seconds for up to 1000 vehicle records", "Export functionality generates files in Excel (.xlsx) and PDF formats", "Report respects user's sharing rules and only shows vehicles they have access to", "Drill-down capability allows clicking vehicle to view full record details"], "salesforce_components": {"fields": ["Vehicle__c.VIN__c", "Vehicle__c.Make__c", "Vehicle__c.Model__c", "Vehicle__c.Year__c", "Vehicle__c.Stock_Number__c", "Vehicle__c.Status__c", "Vehicle__c.List_Price__c", "Vehicle__c.Days_In_Inventory__c", "Vehicle__c.Location__c", "Vehicle__c.Date_Added__c", "Opportunity.Vehicle__c", "Opportunity.StageName", "Lead.Vehicle_Interest__c"], "objects": ["Vehicle__c", "Opportunity", "Lead", "Account", "PricebookEntry"], "automation": ["Record-Triggered Flow to calculate Days_In_Inventory__c daily", "Scheduled Flow to update vehicle metrics nightly", "Formula Field for Price_Change_Count__c"], "ui_components": ["Custom Report Type: Vehicles with Opportunities and Leads", "Report Folder: Vehicle Reports", "Dashboard Component: Top Performing Vehicles", "List View: My Vehicles"]}}, {"id": "UC-015-02", "actor": "System (Scheduled Automation)", "title": "System Auto-Generates Vehicle Aging Report for Inventory Management", "main_flow": ["System triggers scheduled flow at 6:00 AM daily", "Flow queries all Vehicle__c records where Status__c equals 'Available' or 'In Stock'", "Flow calculates Days_In_Inventory__c for each vehicle (TODAY() - Date_Added__c)", "Flow updates Vehicle__c records with current aging data", "Flow runs predefined 'Vehicle Aging Analysis' report", "System groups vehicles by aging buckets: 0-30 days, 31-60 days, 61-90 days, 90+ days", "System generates summary statistics: total count per bucket, average price, total inventory value", "System emails report to Sales Management distribution list", "System logs successful execution in Flow Interview Log"], "preconditions": ["Scheduled Flow is active and configured to run daily at 6 AM", "Vehicle__c records have accurate Date_Added__c values", "Email distribution list for inventory reports is configured", "Report folder permissions are set for Sales Management team"], "postconditions": ["All Vehicle__c records have updated Days_In_Inventory__c values", "Vehicle Aging Report is generated and stored in Reports folder", "Email with report attachment is delivered to stakeholders", "Task records are created for aged inventory requiring attention", "Flow execution is logged for audit purposes"], "alternative_flows": ["ALT-01: If Flow encounters error, system sends alert email to Salesforce Administrator with error details", "ALT-02: If no vehicles exist in 90+ days bucket, system includes note in report highlighting healthy inventory turnover", "ALT-03: If vehicles in 90+ days exceed threshold (10), system creates Task records for Sales Managers to review pricing", "ALT-04: If email delivery fails, system retries up to 3 times with 1-hour intervals"], "acceptance_criteria": ["Scheduled Flow executes successfully at 6:00 AM daily without manual intervention", "Days_In_Inventory__c calculation is accurate within 1 day margin", "Report includes all vehicles with Status__c of 'Available' or 'In Stock'", "Aging buckets correctly categorize vehicles: 0-30, 31-60, 61-90, 90+ days", "Email is delivered within 15 minutes of report generation", "Report includes summary metrics: Total Vehicles, Average Days in Inventory, Total Inventory Value", "Tasks are auto-created for vehicles exceeding 90 days with High priority", "System handles up to 10,000 vehicle records without timeout"], "salesforce_components": {"fields": ["Vehicle__c.Days_In_Inventory__c", "Vehicle__c.Status__c", "Vehicle__c.Date_Added__c", "Vehicle__c.List_Price__c", "Vehicle__c.Aging_Bucket__c", "Task.Subject", "Task.Priority", "Task.WhatId", "Task.OwnerId"], "objects": ["Vehicle__c", "Task", "Report", "User"], "automation": ["Scheduled Flow: Daily_Vehicle_Aging_Update", "Record-Triggered Flow: Create_Task_For_Aged_Vehicles", "Email Alert: Vehicle_Aging_Report_Distribution", "Formula Field: Aging_Bucket__c (categorizes based on Days_In_Inventory__c)"], "ui_components": ["Custom Report Type: Vehicles with Aging Metrics", "Report: Vehicle Aging Analysis", "Email Template: Vehicle Aging Report Template", "Dashboard: Inventory Health Dashboard"]}}, {"id": "UC-015-03", "actor": "Sales Representative", "title": "Sales Representative Analyzes Vehicle Sales History and Trends", "main_flow": ["Sales Representative navigates to Reports tab and clicks 'New Report'", "System displays report type selection screen", "Sales Representative selects 'Vehicles with Opportunities' custom report type", "System opens Report Builder with available fields", "Sales Representative drags fields to report: VIN, Make, Model, Opportunity Count, Total Revenue, Average Days to Close", "Sales Representative adds filters: Date Range (Last 6 Months), Opportunity Stage (Closed Won)", "Sales Representative groups report by Make and Model", "System generates report showing vehicle-level sales performance", "Sales Representative adds chart visualization (bar chart by Make)", "Sales Representative saves report as 'My Vehicle Sales Analysis' in personal folder", "Sales Representative adds report to custom dashboard for ongoing monitoring"], "preconditions": ["User has access to Vehicle__c object and related Opportunity records", "Historical sales data exists for at least 6 months", "Custom Report Type includes Vehicle with related Opportunities is configured", "User has 'Create and Customize Reports' permission"], "postconditions": ["Custom report is saved and accessible for future use", "Report accurately reflects vehicle sales history and trends", "Chart visualization provides quick insights into performance by vehicle type", "Report is available in user's personal or shared folder", "Dashboard component displays real-time data when refreshed"], "alternative_flows": ["ALT-01: Sales Representative uses existing report template and customizes filters instead of creating from scratch", "ALT-02: Sales Representative adds cross-filters to show vehicles with opportunities but no closed deals", "ALT-03: Sales Representative subscribes to report to receive weekly email updates", "ALT-04: Sales Representative shares report with team members by moving to shared folder", "ALT-05: If report exceeds row limit (2000), system prompts to add additional filters or export full data"], "acceptance_criteria": ["Report Builder displays all fields from Vehicle__c and related Opportunity object", "Grouping by Make and Model correctly aggregates opportunity data", "Calculated fields show accurate counts: Total Opportunities, Closed Won Count, Win Rate %", "Date range filter correctly limits results to specified period", "Chart visualization updates dynamically when filters are changed", "Report can be saved with custom name and folder location", "Report respects sharing rules and only shows vehicles/opportunities user can access", "Export functionality works for CSV, Excel, and printable formats", "Report loads within 15 seconds for up to 5000 records"], "salesforce_components": {"fields": ["Vehicle__c.VIN__c", "Vehicle__c.Make__c", "Vehicle__c.Model__c", "Vehicle__c.Year__c", "Vehicle__c.Stock_Number__c", "Opportunity.Vehicle__c", "Opportunity.StageName", "Opportunity.CloseDate", "Opportunity.Amount", "Opportunity.CreatedDate", "Opportunity.OwnerId"], "objects": ["Vehicle__c", "Opportunity", "OpportunityLineItem", "Account", "User"], "automation": ["Formula Field: Days_To_Close__c on Opportunity (CloseDate - CreatedDate)", "Roll-Up Summary: Total_Opportunities__c on Vehicle__c", "Roll-Up Summary: Closed_Won_Count__c on Vehicle__c"], "ui_components": ["Custom Report Type: Vehicles with Opportunities", "Report Builder interface", "Chart Component: Bar Chart by Make", "Dashboard Component: Vehicle Sales Trends", "Report Folder: Sales Team Reports"]}}, {"id": "UC-015-04", "actor": "Sales Manager", "title": "Sales Manager Reviews Vehicle-Specific Lead Conversion Metrics", "main_flow": ["Sales Manager navigates to Reports tab", "Sales Manager opens 'Vehicle Lead Conversion Dashboard'", "System displays dashboard with multiple vehicle-level reports", "Sales Manager clicks on 'Lead Conversion by Vehicle' report component", "System drills into detailed report showing each vehicle with lead metrics", "Report displays: VIN, Make, Model, Total Leads, Converted Leads, Conversion Rate %, Average Lead Response Time", "Sales Manager applies filter to show only vehicles with conversion rate below 20%", "System highlights underperforming vehicles requiring attention", "Sales Manager clicks on specific vehicle VIN to view related lead records", "System navigates to Vehicle record page with related list of Leads", "Sales Manager reviews lead details and identifies improvement opportunities", "Sales Manager creates follow-up tasks for sales team on low-performing vehicles"], "preconditions": ["Lead records are linked to Vehicle__c via lookup field", "Lead conversion process is configured in Salesforce", "Custom Report Type for Vehicles with Leads and Opportunities exists", "Historical lead data spans at least 3 months"], "postconditions": ["Sales Manager has clear visibility into vehicle-level lead performance", "Underperforming vehicles are identified and flagged for action", "Follow-up tasks are created and assigned to appropriate sales representatives", "Report data is available for strategic decision-making", "Dashboard reflects current lead conversion status"], "alternative_flows": ["ALT-01: Sales Manager compares conversion rates across different vehicle makes to identify trends", "ALT-02: Sales Manager filters by date range to analyze seasonal conversion patterns", "ALT-03: Sales Manager exports underperforming vehicles list and shares with sales team in weekly meeting", "ALT-04: If vehicle has no leads, system displays 'N/A' for conversion metrics", "ALT-05: Sales Manager schedules report to run monthly and automatically create tasks for vehicles below threshold"], "acceptance_criteria": ["Report displays accurate lead count per vehicle from Lead.Vehicle_Interest__c lookup", "Conversion rate calculation is correct: (Converted Leads / Total Leads) * 100", "Average Lead Response Time is calculated from Lead.CreatedDate to first Activity", "Filter for conversion rate threshold works correctly (e.g., < 20%)", "Drill-down from report to Vehicle record page functions properly", "Related list on Vehicle record shows all associated Leads", "Report includes only Leads with Status not equal to 'Unqualified' or 'Junk'", "Dashboard refreshes automatically every 24 hours", "Report handles vehicles with zero leads without errors"], "salesforce_components": {"fields": ["Vehicle__c.VIN__c", "Vehicle__c.Make__c", "Vehicle__c.Model__c", "Vehicle__c.Total_Leads__c", "Vehicle__c.Converted_Leads__c", "Vehicle__c.Lead_Conversion_Rate__c", "Lead.Vehicle_Interest__c", "Lead.Status", "Lead.IsConverted", "Lead.ConvertedDate", "Lead.CreatedDate"], "objects": ["Vehicle__c", "Lead", "Opportunity", "Task", "Event"], "automation": ["Roll-Up Summary: Total_Leads__c on Vehicle__c (Count of related Leads)", "Roll-Up Summary: Converted_Leads__c on Vehicle__c (Count where IsConverted = TRUE)", "Formula Field: Lead_Conversion_Rate__c (Converted_Leads__c / Total_Leads__c * 100)", "Record-Triggered Flow: Create_Task_For_Low_Conversion_Vehicles"], "ui_components": ["Custom Report Type: Vehicles with Leads and Conversion Data", "Report: Lead Conversion by Vehicle", "Dashboard: Vehicle Lead Conversion Dashboard", "Dashboard Component: Conversion Rate Gauge", "Dashboard Component: Top/Bottom Performers Table", "Related List: Leads on Vehicle record page"]}}, {"id": "UC-015-05", "actor": "Executive/VP of Sales", "title": "Executive Reviews Vehicle Portfolio Performance via Mobile Dashboard", "main_flow": ["Executive opens Salesforce Mobile App on tablet or smartphone", "Executive navigates to Dashboards from mobile menu", "Executive selects 'Vehicle Portfolio Performance' dashboard", "System loads mobile-optimized dashboard with key vehicle metrics", "Dashboard displays: Total Inventory Value, Average Days in Inventory, Top 10 Vehicles by Revenue, Slowest Moving Vehicles", "Executive taps on 'Top 10 Vehicles by Revenue' chart", "System expands chart to full screen with drill-down capability", "Executive taps on specific vehicle bar to view detailed report", "System displays vehicle-specific report with sales history, current status, and related opportunities", "Executive swipes to view additional dashboard components", "Executive uses voice-to-text to add note on specific vehicle requiring attention", "System saves note as Chatter post on Vehicle record"], "preconditions": ["User has Salesforce Mobile App installed and configured", "User has access to Executive Dashboard with vehicle reports", "Vehicle data is synchronized and up-to-date", "Mobile dashboard is optimized for mobile viewing"], "postconditions": ["Executive has real-time visibility into vehicle portfolio performance", "Dashboard interactions are logged for analytics", "Notes and comments are saved to appropriate vehicle records", "Mobile dashboard preferences are saved for future sessions", "Executive can make informed decisions based on current data"], "alternative_flows": ["ALT-01: Executive uses dashboard filters to view specific location or vehicle type", "ALT-02: Executive shares dashboard snapshot via email directly from mobile app", "ALT-03: If offline, system displays cached dashboard data with timestamp indicating last refresh", "ALT-04: Executive sets up mobile notification for when specific vehicle metrics exceed thresholds", "ALT-05: Executive uses Einstein Analytics mobile features to ask natural language questions about vehicle performance"], "acceptance_criteria": ["Dashboard loads within 5 seconds on mobile device with good connectivity", "All dashboard components are responsive and optimized for mobile screen sizes", "Charts and graphs are interactive with tap-to-drill-down functionality", "Dashboard displays correctly in both portrait and landscape orientations", "Filters work smoothly without page refresh", "Voice-to-text functionality accurately captures notes", "Offline mode displays last cached data with clear timestamp", "Dashboard includes at least 5 key vehicle metrics: Inventory Value, Avg Days in Inventory, Total Units, Revenue MTD, Conversion Rate", "Push notifications work for configured threshold alerts", "Data refreshes automatically when app is opened or manually via pull-to-refresh gesture"], "salesforce_components": {"fields": ["Vehicle__c.VIN__c", "Vehicle__c.Make__c", "Vehicle__c.Model__c", "Vehicle__c.List_Price__c", "Vehicle__c.Days_In_Inventory__c", "Vehicle__c.Status__c", "Vehicle__c.Total_Revenue__c", "Opportunity.Amount", "Opportunity.StageName"], "objects": ["Vehicle__c", "Opportunity", "Lead", "Dashboard", "Report", "FeedItem"], "automation": ["Scheduled Flow: Refresh_Dashboard_Data_Hourly", "Platform Event: Vehicle_Threshold_Alert__e", "Process Builder: Post_To_Chatter_On_Executive_Note"], "ui_components": ["Mobile Dashboard: Vehicle Portfolio Performance", "Dashboard Component: Inventory Value Gauge", "Dashboard Component: Top 10 Revenue Chart", "Dashboard Component: Aging Inventory Table", "Dashboard Component: Conversion Funnel", "Mobile Card: Vehicle Quick Stats", "Chatter Feed on Vehicle__c"]}}, {"id": "UC-016-01", "actor": "Marketing Manager", "title": "Marketing Manager Creates Customer Segment Report with CRM Analytics", "main_flow": ["Marketing Manager navigates to Analytics Studio from App Launcher", "User selects 'Create New Report' and chooses Account as primary data source", "User adds segmentation dimensions: Industry, Customer_Tier__c, Region__c, Account_Type__c", "User adds metrics: Count of Accounts, Sum of Annual_Revenue__c, Average Engagement_Score__c", "User applies grouping by Customer_Tier__c and Industry", "User adds filters for Active Accounts (Status = 'Active') and Created Date (Last 12 Months)", "System generates report showing customer distribution across segments", "User visualizes data using stacked bar chart showing revenue by segment", "User saves report as 'Customer Segment Analysis Q4 2024'", "User adds report to Marketing Dashboard for team visibility"], "preconditions": ["User has Marketing Manager profile with CRM Analytics access", "Customer segmentation fields exist on Account object (Industry, Annual_Revenue__c, Customer_Tier__c, Engagement_Score__c)", "CRM Analytics app is configured with Account data", "Historical customer data is available for at least 6 months"], "postconditions": ["Report is saved and accessible to Marketing Team members", "Dashboard displays real-time customer segment distribution", "Report can be scheduled for weekly email delivery", "Segment insights are available for campaign targeting decisions"], "alternative_flows": ["ALT-01: If no data exists for selected segments, system displays 'No records found' message and suggests removing filters", "ALT-02: If user needs custom segmentation, user creates calculated field combining multiple criteria (e.g., High_Value_Segment__c = Annual_Revenue__c > 1000000 AND Engagement_Score__c > 75)", "ALT-03: If report performance is slow, user applies row limits or date range filters to optimize query"], "acceptance_criteria": ["Report displays at least 5 standard segmentation dimensions (Industry, Tier, Region, Type, Size)", "Report calculates aggregate metrics correctly (Count, Sum, Average) with 100% accuracy", "Report loads within 10 seconds for datasets up to 50,000 accounts", "User can export report to Excel/CSV format with all segment data intact", "Report supports drill-down from segment level to individual account records", "Visualizations update dynamically when filters are applied", "Report respects sharing rules and only shows accounts user has access to"], "salesforce_components": {"fields": ["Account.Industry", "Account.AnnualRevenue", "Account.Customer_Tier__c", "Account.Engagement_Score__c", "Account.Region__c", "Account.Account_Type__c", "Account.Status__c", "Account.CreatedDate"], "objects": ["Account", "Report", "Dashboard", "Analytics__Dataset"], "automation": ["Scheduled Flow: Daily refresh of Analytics dataset from Account object", "Record-Triggered Flow: Update Customer_Tier__c when AnnualRevenue changes", "Apex Batch: Calculate Engagement_Score__c nightly based on activity history"], "ui_components": ["CRM Analytics Dashboard", "Report Builder", "Stacked Bar Chart Widget", "Filter Panel", "KPI Summary Boxes"]}}, {"id": "UC-016-02", "actor": "Marketing Analyst", "title": "Marketing Analyst Performs Predictive Segment Analysis Using Einstein Analytics", "main_flow": ["Marketing Analyst opens Einstein Analytics Studio", "User selects 'Customer Segmentation' analytics app template", "User configures data source to include Account, Opportunity, and Campaign Member objects", "User defines segment variables: Lifetime_Value__c, Purchase_Frequency__c, Product_Category_Preference__c, Churn_Risk_Score__c", "User applies Einstein Discovery predictive model to identify high-value segment characteristics", "System performs inferential analysis on customer sample to predict segment behaviors", "User creates cohort analysis comparing segment performance over time", "System generates insights showing which segments have highest conversion rates and revenue potential", "User creates calculated insights for segment profitability and growth trends", "User saves analysis as 'Predictive Segment Performance Model'", "User shares insights with Marketing leadership via embedded dashboard"], "preconditions": ["Einstein Analytics is enabled in the org", "Customer segmentation data model exists with historical purchase patterns", "Minimum 1000 account records with complete segmentation attributes", "Einstein Discovery model is trained on customer behavior data", "User has Analytics Cloud Integration User permission"], "postconditions": ["Predictive model identifies top 3 high-value customer segments with 80%+ accuracy", "Segment performance metrics are tracked in real-time dashboard", "Marketing team receives actionable recommendations for segment targeting", "Model predictions are stored in Segment_Prediction__c field on Account"], "alternative_flows": ["ALT-01: If Einstein model confidence is below 70%, user adjusts training dataset to include more historical records", "ALT-02: If segment overlap is detected, user applies clustering algorithm to create distinct non-overlapping segments", "ALT-03: If data quality issues exist, user runs data transformation flow to normalize and standardize segment attributes"], "acceptance_criteria": ["Einstein model achieves minimum 75% prediction accuracy for segment classification", "Analysis includes at least 4 statistical measures: mean, median, standard deviation, correlation", "Report identifies segment trends over minimum 6-month historical period", "Predictive insights include confidence scores for each recommendation", "Dashboard displays segment migration patterns (customers moving between segments)", "System supports what-if analysis for segment strategy scenarios", "Analysis completes within 5 minutes for datasets up to 100,000 records"], "salesforce_components": {"fields": ["Account.Lifetime_Value__c", "Account.Purchase_Frequency__c", "Account.Product_Category_Preference__c", "Account.Churn_Risk_Score__c", "Account.Segment_Prediction__c", "Account.Predicted_Revenue_Potential__c", "Segment_Analysis__c.Segment_Name__c", "Segment_Analysis__c.Performance_Score__c", "Segment_Analysis__c.Confidence_Level__c"], "objects": ["Account", "Opportunity", "CampaignMember", "Einstein_Discovery_Model__c", "Segment_Analysis__c"], "automation": ["Einstein Discovery Model: Predict customer segment and value", "Scheduled Flow: Weekly recalculation of segment scores", "Apex Trigger: Update Segment_Prediction__c when key attributes change", "Data Processing Engine: Aggregate financial data for segment rollups"], "ui_components": ["Einstein Analytics Dashboard", "Predictive Insights Widget", "Cohort Analysis Chart", "Segment Migration Flow Diagram", "What-If Scenario Builder"]}}, {"id": "UC-016-03", "actor": "Sales Operations Manager", "title": "Sales Operations Creates Multi-Dimensional Segment Report with Data Cloud Integration", "main_flow": ["Sales Operations Manager navigates to Reports tab", "User clicks 'New Report' and selects 'Semantic Data Models' as record type", "User selects 'Customer Segmentation 360' semantic model (includes up to 20 Data Cloud objects)", "User adds dimensions: Demographic_Segment__c, Behavioral_Segment__c, Firmographic_Segment__c, Geographic_Segment__c", "User adds metrics from multiple sources: CRM Revenue, Marketing Engagement Score, Service Case Volume, External Market Share Data", "User applies advanced filters: Active Customers, Revenue > $50K, Engagement in Last 90 Days", "System preserves calculated fields and logical views from semantic model", "User creates matrix report grouping by primary and secondary segments", "User adds conditional formatting to highlight high-performing segments", "System generates cross-tabulated analysis showing segment intersections", "User saves report and adds to Executive Dashboard", "User schedules automated weekly delivery to Sales Leadership"], "preconditions": ["Data Cloud is provisioned and configured", "Customer 360 data model includes unified customer profiles", "Semantic data model is created linking Account, Contact, Opportunity, and external data sources", "Customer segmentation taxonomy is defined in Data Cloud", "User has Data Cloud Reports Beta feature enabled"], "postconditions": ["Multi-dimensional segment report is available showing customer distribution across 4+ segment types", "Report includes unified data from CRM, Marketing, Service, and external sources", "Dashboard provides 360-degree view of customer segments", "Segment insights inform territory planning and quota allocation", "Report data respects Data Cloud sharing and consent rules"], "alternative_flows": ["ALT-01: If semantic model relationships are missing, user navigates to Data Cloud to configure object joins", "ALT-02: If report exceeds performance limits, user applies row limits or creates aggregated calculated insights", "ALT-03: If external data is stale, user triggers Data Cloud data stream refresh before generating report", "ALT-04: If user needs real-time data, user enables live dataset connection instead of cached data"], "acceptance_criteria": ["Report successfully queries semantic model with minimum 10 Data Cloud objects", "Report displays accurate segment intersections (e.g., High-Value + High-Engagement customers)", "All calculated fields from semantic model appear correctly in report", "Report loads within 15 seconds for datasets up to 500,000 unified profiles", "User can drill down from segment summary to individual customer records", "Report supports export with all dimensional data preserved", "Conditional formatting highlights top 20% performing segments automatically", "Report respects data residency and compliance requirements from Data Cloud"], "salesforce_components": {"fields": ["UnifiedProfile__dlm.Demographic_Segment__c", "UnifiedProfile__dlm.Behavioral_Segment__c", "UnifiedProfile__dlm.Firmographic_Segment__c", "UnifiedProfile__dlm.Geographic_Segment__c", "UnifiedProfile__dlm.Total_Revenue__c", "UnifiedProfile__dlm.Engagement_Score__c", "UnifiedProfile__dlm.Market_Share_Percentage__c", "Account.Customer_Segment_Primary__c", "Account.Customer_Segment_Secondary__c"], "objects": ["Account", "Contact", "Opportunity", "DataCloudObject__dlm", "UnifiedProfile__dlm", "SemanticModel__c", "Report"], "automation": ["Data Cloud Data Stream: Real-time sync of customer segment attributes", "Scheduled Flow: Daily refresh of semantic model calculated insights", "Data Processing Engine Template: Aggregate segment performance metrics", "Apex Callout: Retrieve external market data for segment enrichment"], "ui_components": ["Report Builder with Semantic Model Support", "Matrix Report Layout", "Conditional Formatting Rules", "Dashboard Widget with Drill-Down", "Scheduled Report Delivery Configuration"]}}, {"id": "UC-016-04", "actor": "Marketing Coordinator", "title": "Marketing Coordinator Generates Segment Performance Report for Campaign Planning", "main_flow": ["Marketing Coordinator navigates to Reports tab", "User clicks 'New Report' and selects 'Accounts with Campaigns' report type", "User adds segment grouping fields: Customer_Segment__c, Industry_Segment__c", "User adds campaign performance metrics: Campaign ROI, Response Rate, Conversion Rate, Cost per Lead", "User adds filters: Campaign Type = 'Email' OR 'Webinar', Campaign Status = 'Completed', Campaign End Date = Last Quarter", "User groups report by Customer_Segment__c with sub-grouping by Campaign Name", "User adds summary formulas: Average ROI by Segment, Total Leads by Segment, Conversion Rate by Segment", "User creates chart showing segment response rates as horizontal bar chart", "System calculates descriptive statistics for each segment's campaign performance", "User applies conditional highlighting for segments with ROI > 200%", "User saves report as 'Q4 Segment Campaign Performance'", "User adds report to 'Campaign Planning Dashboard' for team access"], "preconditions": ["Customer segments are defined and populated on Account records", "Campaign history exists with segment attribution", "Standard Reports folder 'Marketing Segment Reports' is created", "User has Create and Edit Reports permission", "Segment performance metrics are calculated and stored"], "postconditions": ["Report shows campaign performance broken down by customer segment", "Marketing team identifies which segments respond best to which campaign types", "Insights inform budget allocation for next quarter's campaigns", "Report is accessible to all Marketing Team members", "Segment performance trends are documented for strategic planning"], "alternative_flows": ["ALT-01: If segment has no campaign data, system displays 'No campaigns found' and user adjusts date range", "ALT-02: If user needs comparison across time periods, user creates joined report comparing current vs previous quarter", "ALT-03: If segment definitions changed mid-period, user adds historical segment field to track changes over time"], "acceptance_criteria": ["Report displays minimum 5 customer segments with complete campaign data", "All ROI calculations are accurate within 0.01% margin of error", "Report includes at least 3 performance metrics per segment", "Chart visualization clearly shows top 3 and bottom 3 performing segments", "User can filter report by date range, campaign type, and segment dynamically", "Summary totals match detail row calculations exactly", "Report can be exported to Excel with formatting preserved", "Report respects campaign member sharing rules"], "salesforce_components": {"fields": ["Account.Customer_Segment__c", "Account.Industry_Segment__c", "Campaign.ROI__c", "Campaign.Response_Rate__c", "Campaign.Conversion_Rate__c", "Campaign.Cost_Per_Lead__c", "Campaign.Type", "Campaign.Status", "Campaign.EndDate", "CampaignMember.Segment_at_Campaign_Time__c"], "objects": ["Account", "Campaign", "CampaignMember", "Opportunity", "Report"], "automation": ["Record-Triggered Flow: Calculate Campaign ROI when campaign closes", "Scheduled Flow: Update segment performance metrics weekly", "Apex Trigger: Stamp current segment on Campaign Member when added", "Formula Field: Calculate Response_Rate__c = (Responded / Total Members) * 100"], "ui_components": ["Standard Report Builder", "Grouped Report with Summaries", "Horizontal Bar Chart", "Conditional Highlighting Rules", "Dashboard Component with Filters"]}}, {"id": "UC-016-05", "actor": "Chief Marketing Officer", "title": "Executive Reviews Customer Segment Health Dashboard with Financial Rollup Data", "main_flow": ["CMO opens Salesforce and navigates to Analytics Studio", "User selects 'Customer Segment Health' dashboard from favorites", "Dashboard loads with KPI boxes showing: Total Customers by Segment, Revenue by Segment, Segment Growth Rate, Segment Churn Rate", "User views segment distribution pie chart showing percentage of customer base in each segment", "User examines trend line chart showing segment revenue over last 12 months", "User clicks on 'High-Value' segment to drill down into detailed metrics", "System displays segment-specific dashboard showing: Average Account Value, Lifetime Value, Retention Rate, Expansion Revenue", "User reviews financial rollup data from AccountFinancialSummary showing aggregated assets, liabilities, and net worth by segment", "User compares segment performance using side-by-side comparison widget", "User identifies underperforming segments and exports data for strategy session", "User adds annotations to dashboard noting key insights and action items", "User schedules dashboard snapshot to be emailed to executive team weekly"], "preconditions": ["Financial Summary Rollup feature is configured using Data Processing Engine templates", "AccountFinancialSummary object contains aggregated financial data by segment", "CRM Analytics dashboard 'Customer Segment Health' is deployed", "Historical segment data is available for trend analysis (minimum 12 months)", "User has Executive Dashboard access and View All Data permission"], "postconditions": ["Executive has comprehensive view of customer segment health and financial performance", "Key insights are documented with dashboard annotations", "Underperforming segments are flagged for strategic review", "Dashboard snapshot is scheduled for weekly executive distribution", "Financial rollup data provides accurate aggregated view of segment assets and revenue"], "alternative_flows": ["ALT-01: If segment shows declining trend, user clicks 'Root Cause Analysis' button to view contributing factors", "ALT-02: If user needs custom date range, user applies date filter to view specific quarter or year", "ALT-03: If financial rollup data is missing, user triggers manual Data Processing Engine job to refresh aggregations", "ALT-04: If user wants to compare against industry benchmarks, user toggles benchmark overlay on charts"], "acceptance_criteria": ["Dashboard displays real-time data with maximum 15-minute refresh latency", "All KPI calculations match source data with 100% accuracy", "Dashboard includes minimum 8 segment performance metrics", "Financial rollup data aggregates correctly from AccountFinancialSummary object", "Drill-down functionality works for all segment visualizations", "Dashboard loads within 5 seconds on desktop and 10 seconds on mobile", "Trend charts display minimum 12 months of historical data", "User can export dashboard data to PDF with all visualizations intact", "Dashboard respects data security and only shows segments user has access to", "Annotations are saved and visible to other executive dashboard users"], "salesforce_components": {"fields": ["Account.Customer_Segment__c", "AccountFinancialSummary.Total_Assets__c", "AccountFinancialSummary.Total_Revenue__c", "AccountFinancialSummary.Net_Worth__c", "Segment_Performance__c.Segment_Name__c", "Segment_Performance__c.Customer_Count__c", "Segment_Performance__c.Total_Revenue__c", "Segment_Performance__c.Growth_Rate__c", "Segment_Performance__c.Churn_Rate__c", "Segment_Performance__c.Average_Lifetime_Value__c"], "objects": ["Account", "AccountFinancialSummary", "Opportunity", "Dashboard", "Analytics__Dataset", "Segment_Performance__c"], "automation": ["Data Processing Engine Template: Aggregate financial data into AccountFinancialSummary", "Scheduled Flow: Calculate segment performance metrics daily", "Apex Batch: Update segment growth and churn rates weekly", "Record-Triggered Flow: Update Segment_Performance__c when accounts change segments"], "ui_components": ["CRM Analytics Dashboard", "KPI Summary Boxes", "Pie Chart for Segment Distribution", "Trend Line Chart for Revenue Over Time", "Side-by-Side Comparison Widget", "Drill-Down Detail Panel", "Dashboard Annotation Tool", "Mobile-Responsive Layout"]}}, {"id": "UC-017-01", "actor": "Marketing Manager", "title": "Marketing Manager Creates Lead Source Performance Report", "main_flow": ["Marketing Manager navigates to Reports tab", "Clicks 'New Report' button", "Selects 'Leads' report type", "Adds Lead Source field to report as grouping dimension", "Adds key metrics: Total Leads, Converted Leads, Conversion Rate", "Applies date filter for reporting period (e.g., Current Quarter)", "Adds Lead Status field to show distribution by source", "Configures chart visualization (bar chart showing leads by source)", "Saves report as 'Lead Source Performance - Q1 2024'", "Sets report folder to 'Marketing Reports'", "Runs report to view lead source attribution data"], "preconditions": ["User has access to Reports and Dashboards", "Lead records exist with populated Lead Source field", "User has Read permission on Lead object", "Standard Lead Source picklist values are configured"], "postconditions": ["Report is saved and accessible in Marketing Reports folder", "Report displays lead count grouped by Lead Source", "Conversion metrics are calculated and visible", "Report can be scheduled for automated delivery"], "alternative_flows": [{"steps": ["Add filter: Lead Source equals 'Website, Trade Show, Referral'", "Apply filter and regenerate report"], "condition": "User wants to filter by specific lead sources"}, {"steps": ["Add Created Date field with grouping by month", "Configure side-by-side comparison columns", "Apply date range filter for year-to-date"], "condition": "User wants to compare multiple time periods"}], "acceptance_criteria": ["Report shows all active Lead Source picklist values", "Total lead count matches sum of all source groups", "Converted leads are accurately attributed to original source", "Report can be filtered by date range without errors", "Chart visualization renders correctly for all lead sources", "Report runs in under 30 seconds for up to 50,000 lead records", "Export to Excel maintains lead source attribution data"], "salesforce_components": {"fields": ["Lead.LeadSource", "Lead.Status", "Lead.IsConverted", "Lead.ConvertedDate", "Lead.CreatedDate", "Lead.ConvertedAccountId", "Lead.ConvertedOpportunityId"], "objects": ["Lead", "Report", "Dashboard"], "automation": [], "ui_components": ["Reports Tab", "Report Builder", "Chart Component", "Filter Panel"]}}, {"id": "UC-017-02", "actor": "Marketing Analyst", "title": "Marketing Analyst Creates Custom Lead Source Attribution Report Type", "main_flow": ["Marketing Analyst navigates to Setup", "Searches for 'Report Types' in Quick Find", "Clicks 'New Custom Report Type'", "Selects 'Leads' as primary object", "Names report type 'Leads with Source Attribution and Campaign Details'", "Sets category as 'Lead Reports'", "Adds Campaign object relationship (Leads with Campaigns)", "Selects fields to include: Lead Source, Campaign Source, Campaign Name, Campaign Type", "Adds custom fields: Lead.First_Touch_Source__c, Lead.Last_Touch_Source__c", "Includes converted opportunity fields for ROI tracking", "Sets report type as 'Deployed' for all users", "Saves custom report type", "Creates sample report using new report type to validate"], "preconditions": ["User has 'Manage Custom Report Types' permission", "Lead object has custom fields for multi-touch attribution", "Campaign object is related to Lead records", "User understands reporting requirements"], "postconditions": ["Custom report type is available in report type selector", "All specified fields are accessible in report builder", "Relationships between objects function correctly", "Marketing team can create reports using new report type"], "alternative_flows": [{"steps": ["Add Campaign Member object as secondary relationship", "Include Campaign Member Status and Response Date fields", "Configure lookup relationships for first and last touch campaigns"], "condition": "Multi-touch attribution requires multiple campaign relationships"}, {"steps": ["Add Opportunity object through converted opportunity relationship", "Include Opportunity Amount, Close Date, and Stage fields", "Add calculated fields for conversion time and deal size by source"], "condition": "Need to include opportunity data for closed deals"}], "acceptance_criteria": ["Custom report type appears in 'Lead Reports' category", "All Lead Source related fields are included and accessible", "Campaign relationship allows filtering by campaign attributes", "Custom attribution fields (First Touch, Last Touch) display correctly", "Converted opportunity data is accessible when lead is converted", "Report type supports grouping by multiple source dimensions", "At least 3 test reports can be created successfully using this report type", "Report performance is acceptable (loads within 45 seconds)"], "salesforce_components": {"fields": ["Lead.LeadSource", "Lead.First_Touch_Source__c", "Lead.Last_Touch_Source__c", "Lead.Source_Medium__c", "Campaign.Name", "Campaign.Type", "Campaign.Source__c", "CampaignMember.Status", "Opportunity.Amount", "Opportunity.StageName"], "objects": ["Lead", "Campaign", "CampaignMember", "Opportunity"], "automation": [], "ui_components": ["Custom Report Type Builder", "Report Type Layout Editor", "Field Selector"]}}, {"id": "UC-017-03", "actor": "System", "title": "System Automatically Populates Lead Source on Web-to-Lead Forms", "main_flow": ["Prospect visits company website via marketing campaign link", "Prospect clicks on 'Download Whitepaper' call-to-action", "Web form loads with hidden Lead Source field", "JavaScript captures UTM source parameter from URL", "Form populates hidden Lead Source field with 'Website - Organic' or 'Website - Paid Search'", "Prospect fills out visible form fields (Name, Email, Company)", "Prospect submits form", "Web-to-Lead POST request sends data to Salesforce", "Salesforce creates new Lead record with Lead Source populated", "Lead assignment rule evaluates and assigns to appropriate owner", "Confirmation email sent to prospect with Lead Source tracked"], "preconditions": ["Web-to-Lead is enabled in Salesforce org", "Lead Source picklist includes web-specific values", "Hidden fields are configured in web form HTML", "UTM parameters or referrer tracking is implemented"], "postconditions": ["New Lead record exists with populated Lead Source field", "Lead Source value matches marketing campaign origin", "Lead is assigned to appropriate sales representative", "Lead appears in 'My Unread Leads' view for owner", "Lead Source data is available for reporting immediately"], "alternative_flows": [{"steps": ["System checks HTTP referrer header", "Maps referrer domain to Lead Source value (e.g., linkedin.com = 'Social Media - LinkedIn')", "If no referrer, defaults to 'Website - Direct'"], "condition": "UTM parameters are not present in URL"}, {"steps": ["System triggers validation error", "Default Lead Creator receives email notification", "Lead is created with default Lead Source value 'Other - Web'", "Error is logged for admin review"], "condition": "Lead Source value from form does not match picklist"}, {"steps": ["Duplicate rule identifies existing lead", "System updates Last_Touch_Source__c field instead of Lead Source", "Campaign Member record created to track multi-touch attribution", "Original Lead Source is preserved"], "condition": "Duplicate lead exists with different source"}], "acceptance_criteria": ["100% of web-generated leads have Lead Source populated", "UTM source parameter correctly maps to Lead Source picklist values", "Lead Source attribution is captured within 5 minutes of form submission", "Invalid Lead Source values trigger error handling without data loss", "Duplicate leads preserve original source and capture new touch point", "Lead Source data persists through lead conversion process", "Web-to-Lead daily limit (500) is monitored and does not cause source data loss", "Lead Source values are consistent across web forms and manual entry"], "salesforce_components": {"fields": ["Lead.LeadSource", "Lead.First_Touch_Source__c", "Lead.Last_Touch_Source__c", "Lead.UTM_Source__c", "Lead.UTM_Medium__c", "Lead.UTM_Campaign__c", "Lead.Referrer_URL__c"], "objects": ["Lead", "CampaignMember"], "automation": ["Web-to-Lead Configuration", "Lead Assignment Rules", "Record-Triggered Flow: Capture Multi-Touch Attribution", "Duplicate Rules for Lead Source Preservation"], "ui_components": ["Web-to-Lead Form HTML", "Hidden Form Fields", "JavaScript for UTM Capture"]}}, {"id": "UC-017-04", "actor": "Sales Manager", "title": "Sales Manager Analyzes Lead Source ROI Dashboard", "main_flow": ["Sales Manager navigates to Dashboards tab", "Opens 'Lead Source ROI Analysis' dashboard", "Reviews 'Leads by Source' chart showing volume distribution", "Analyzes 'Conversion Rate by Source' metric component", "Examines 'Average Deal Size by Lead Source' table", "Reviews 'Time to Conversion by Source' trend chart", "Clicks on 'Trade Show' lead source bar in chart", "Drills down to underlying report showing individual trade show leads", "Filters dashboard by 'Current Quarter' using date filter", "Compares current quarter performance to previous quarter", "Exports dashboard to PDF for executive presentation", "Schedules dashboard refresh for weekly email delivery"], "preconditions": ["Lead Source Performance reports are created and functional", "Dashboard exists with lead source components", "Opportunity data is linked to converted leads", "User has access to dashboard folder"], "postconditions": ["Manager has clear visibility into lead source performance", "ROI metrics by source are understood and documented", "Dashboard is scheduled for regular delivery to stakeholders", "Action items are identified for underperforming sources"], "alternative_flows": [{"steps": ["Applies dashboard filter for Campaign Name", "Selects specific trade show campaign", "Reviews filtered metrics for that campaign only", "Compares to other campaigns from same lead source"], "condition": "Manager wants to analyze specific campaign performance"}, {"steps": ["Clicks on low-performing source in dashboard", "Opens detailed report showing lead quality metrics", "Reviews lead status distribution and conversion bottlenecks", "Creates task for marketing team to review source strategy"], "condition": "Manager identifies underperforming lead source"}, {"steps": ["Clicks 'Refresh' button to reload dashboard data", "Verifies data freshness timestamp", "If issue persists, opens underlying report to validate source data", "Contacts Salesforce admin if data discrepancy confirmed"], "condition": "Dashboard data appears incorrect"}], "acceptance_criteria": ["Dashboard displays at least 5 key metrics for lead source analysis", "All lead sources with activity in selected period are represented", "Conversion rate calculation is accurate (converted leads / total leads)", "Average deal size correctly aggregates opportunity amounts by source", "Time to conversion calculates days between lead creation and conversion", "Dashboard filters apply to all components simultaneously", "Drill-down functionality navigates to correct underlying reports", "Dashboard loads within 15 seconds", "Scheduled dashboard emails deliver successfully on defined schedule", "PDF export maintains chart formatting and data accuracy"], "salesforce_components": {"fields": ["Lead.LeadSource", "Lead.IsConverted", "Lead.ConvertedDate", "Lead.CreatedDate", "Opportunity.Amount", "Opportunity.CloseDate", "Opportunity.StageName", "Campaign.Name", "Campaign.Cost__c"], "objects": ["Lead", "Opportunity", "Campaign", "Dashboard", "Report"], "automation": ["Scheduled Dashboard Refresh", "Dashboard Email Subscription"], "ui_components": ["Dashboard", "Bar Chart Component", "Metric Component", "Table Component", "Line Chart Component", "Dashboard Filters", "Drill-down Links"]}}, {"id": "UC-017-05", "actor": "Marketing Operations Specialist", "title": "Marketing Operations Creates Lead Source Attribution Report for Agentforce SDR", "main_flow": ["Marketing Operations Specialist navigates to Reports tab", "Clicks 'New Report' and selects 'Leads with Cadence Trackers' report type", "Adds filter: Cadence Assignee Full Name equals Agent User name", "Groups report by Lead Source field", "Adds columns: Lead Name, Lead Owner, Cadence State, Target Disposition", "Adds summary fields: Total Leads Worked, Total Meetings Requested, Total Opt Outs", "Adds filter: Created Date equals 'Current Month'", "Creates formula field for Meeting Request Rate: Meetings Requested / Total Leads", "Adds chart showing meeting request rate by lead source", "Saves report as 'Agentforce SDR Performance by Lead Source - Monthly'", "Adds report to 'Sales Development Dashboard'", "Schedules report to run monthly and email to sales leadership"], "preconditions": ["Agentforce for Sales Development is implemented", "Cadence Tracker records exist for agent-worked leads", "Lead Source field is populated on all leads", "Agent User record is configured and active"], "postconditions": ["Report shows Agentforce SDR performance segmented by lead source", "Meeting request rates are calculated and comparable across sources", "Data quality issues are identified by source", "Report is accessible to sales and marketing leadership", "Insights inform lead source investment decisions"], "alternative_flows": [{"steps": ["Changes report type to 'Cadences & Steps with Monthly Metrics'", "Adds filter for Agentforce SDR cadence ID", "Joins to Lead object to include Lead Source", "Adds metrics: Emails Sent, Emails Opened, Emails Clicked, Emails Replied", "Calculates engagement rate by source"], "condition": "Need to track email engagement by lead source"}, {"steps": ["Adds filter: Lead Converted equals True", "Includes Converted Opportunity Amount and Name fields", "Groups by Lead Source and sums opportunity amounts", "Creates ROI calculation comparing source cost to revenue generated"], "condition": "Need to analyze converted opportunities by original lead source"}, {"steps": ["Adds filter: Target Disposition equals 'Bad Data'", "Groups by Lead Source to identify sources with high bounce rates", "Creates separate report section for bounced emails", "Flags sources requiring data quality improvement"], "condition": "Need to identify bad data by lead source"}], "acceptance_criteria": ["Report includes only leads worked by Agentforce SDR agent", "All active lead sources are represented in report groupings", "Meeting request rate calculation is accurate for each source", "Opt-out rates are tracked and displayed by source", "Report distinguishes between agent-scheduled and agent-sent emails", "Converted opportunity data correctly attributes to original lead source", "Bad data/bounced emails are flagged by source for quality review", "Report runs successfully with up to 10,000 cadence tracker records", "Chart visualization clearly shows performance differences by source", "Scheduled report delivery includes all data through end of previous month"], "salesforce_components": {"fields": ["Lead.LeadSource", "Lead.IsConverted", "CadenceTracker.CadenceAssigneeFullName", "CadenceTracker.State", "CadenceTracker.TargetDisposition", "Lead.ConvertedOpportunityId", "Opportunity.Amount", "Opportunity.Name", "Cadence.Name", "CadenceStepTracker.AllEmailsSentCount", "CadenceStepTracker.UniqueEmailsOpenedPerMonth", "CadenceStepTracker.UniqueEmailsRepliedPerMonth"], "objects": ["Lead", "CadenceTracker", "Cadence", "CadenceStepTracker", "Opportunity", "User"], "automation": ["Scheduled Report Run", "Report Email Subscription"], "ui_components": ["Report Builder", "Custom Report Type: Leads with Cadence Trackers", "Formula Field Editor", "Chart Component", "Report Scheduler"]}}, {"id": "UC-018-01", "actor": "Sales Manager", "title": "Sales Manager Creates Territory Hierarchy and Assignment Rules", "main_flow": ["Sales Manager navigates to Territory Model in Setup", "Manager creates new Territory Model named 'FY2025 Sales Territories'", "Manager defines territory hierarchy: North America > West Region > California Territory", "Manager creates assignment rule 'CA Accounts' with criteria: BillingState contains 'CA' OR BillingState contains 'California'", "Manager assigns rule to California Territory and selects 'Active' checkbox", "Manager selects 'Apply to child territories' for cascading rules", "System validates rule criteria and saves assignment rule", "Manager activates Territory Model to enable automatic account assignments"], "preconditions": ["User has 'Manage Territories' permission enabled", "Territory Management 2.0 is enabled in the org", "Account object has required fields for territory assignment (BillingState, BillingPostalCode, Industry, AnnualRevenue)"], "postconditions": ["Territory hierarchy is created and visible in Territory Model", "Assignment rules are active and ready to process accounts", "Territory Model status is 'Active'", "Audit trail records territory creation and rule assignments"], "alternative_flows": ["ALT-01: If rule criteria contains invalid field, system displays error message and prevents save", "ALT-02: If Manager attempts to assign duplicate rule to child territory when parent already has cascading rule, system displays warning", "ALT-03: If state/country picklists are enabled, Manager must use 'contains' operator instead of 'equals' for state criteria"], "acceptance_criteria": ["Territory hierarchy supports minimum 5 levels of nesting", "Assignment rules support multiple criteria with AND/OR logic", "Rules execute on account creation and update when 'Evaluate this account against territory rules on save' is selected", "System prevents duplicate rule assignments to child territories when parent has cascading rules", "Territory Model activation completes within 30 seconds for models with up to 500 territories", "Assignment Rules Assigned to this Territory related list displays all applicable rules including inherited ones"], "salesforce_components": {"fields": ["Territory2.Name", "Territory2.ParentTerritory2Id", "Territory2Model.State", "Territory2Rule.Active", "Territory2Rule.BooleanFilter", "Territory2Rule.RuleCriteria", "Account.BillingState", "Account.BillingPostalCode", "Account.Industry", "Account.AnnualRevenue"], "objects": ["Territory2", "Territory2Model", "Territory2Rule", "Account", "UserTerritory2Association"], "automation": ["Territory Assignment Rules (native)", "Process Builder or Flow to handle post-assignment actions", "Apex Trigger on Account for custom territory logic if needed"], "ui_components": ["Territory Model hierarchy view", "Territory detail page with Assignment Rules related lists", "Rule builder interface with criteria editor", "Territory Model activation wizard"]}}, {"id": "UC-018-02", "actor": "System", "title": "System Automatically Assigns Accounts to Territories Based on Rules", "main_flow": ["Sales Rep creates or updates Account record with BillingState = 'CA' and BillingPostalCode = '94105'", "Sales Rep selects 'Evaluate this account against territory rules on save' checkbox", "System triggers territory assignment rule evaluation on save", "System evaluates account against all active rules in territory hierarchy", "System identifies matching rule 'CA Accounts' assigned to 'California Territory'", "System creates ObjectTerritory2Association record linking Account to Territory", "System checks for cascading rules and evaluates child territories", "System updates Account owner if territory has default opportunity owner configured", "System sends notification to territory assigned users about new account"], "preconditions": ["Territory Model is in Active state", "Assignment rules are configured and active", "Account record is being created or updated", "Account has required field values for rule evaluation"], "postconditions": ["Account is assigned to appropriate territory/territories", "ObjectTerritory2Association records are created", "Territory users can view account in their territory views", "Account assignment history is logged", "Related opportunities inherit territory assignments"], "alternative_flows": ["ALT-01: If account matches multiple territory rules, system assigns to all matching territories", "ALT-02: If API update occurs, system only evaluates rules when AssignmentRuleHeader is specified in API call", "ALT-03: If account no longer meets territory criteria after update, system removes ObjectTerritory2Association", "ALT-04: If territory assignment fails due to validation rules, system rolls back transaction and displays error"], "acceptance_criteria": ["Account assignment completes within 5 seconds for single account", "Bulk account updates (up to 200 records) complete territory assignment within 60 seconds", "System correctly handles ZIP/postal code alphanumeric comparisons (e.g., '9' > '80000')", "Assignment rules with 'Apply to child territories' cascade correctly through hierarchy", "API updates respect AssignmentRuleHeader parameter", "System prevents duplicate territory assignments for same account-territory combination", "Territory assignment works correctly with state/country picklists using 'contains' operator"], "salesforce_components": {"fields": ["Account.BillingState", "Account.BillingPostalCode", "Account.BillingCountry", "Account.Territory2Id__c", "ObjectTerritory2Association.ObjectId", "ObjectTerritory2Association.Territory2Id", "ObjectTerritory2Association.AssociationCause"], "objects": ["Account", "Territory2", "Territory2Rule", "ObjectTerritory2Association", "Opportunity"], "automation": ["Territory Assignment Rules (native evaluation engine)", "Record-Triggered Flow on Account for post-assignment notifications", "Apex Trigger for complex territory assignment logic", "Platform Event for real-time territory assignment notifications"], "ui_components": ["Account detail page with Territory related list", "Territory assignment checkbox on Account edit page", "Territory assignment history component", "Notification toast for successful assignment"]}}, {"id": "UC-018-03", "actor": "Sales Representative", "title": "Sales Rep Views Territory-Filtered Dashboard and Reports", "main_flow": ["Sales Rep navigates to Sales Performance Dashboard in CRM Analytics", "System retrieves user's assigned territories from UserTerritory2Association", "System applies security predicate filtering based on territory assignments", "System queries dataset with territory hierarchy dimension filter", "Dashboard displays only accounts and opportunities within user's assigned territories", "Sales Rep drills down into specific territory performance metrics", "System maintains territory filtering across all dashboard widgets", "Sales Rep exports filtered report maintaining territory security"], "preconditions": ["User is assigned to one or more territories via UserTerritory2Association", "CRM Analytics is enabled with Territory Hierarchy in Security Predicates (Beta)", "Dashboard includes territory-based security predicates", "Dataset includes flattened territory hierarchy as multivalued dimension"], "postconditions": ["Dashboard displays only territory-appropriate data", "User cannot access data outside assigned territories", "Territory filtering is enforced across all dashboard interactions", "Audit log records dashboard access with territory context"], "alternative_flows": ["ALT-01: If user has no territory assignments, dashboard displays message 'No territories assigned'", "ALT-02: If user is assigned to parent territory with 'View All' access, system shows data for all child territories", "ALT-03: If territory hierarchy changes, system refreshes security predicates on next dashboard load", "ALT-04: Sales Manager with 'View All Data' permission can override territory filters to view org-wide data"], "acceptance_criteria": ["Dashboard loads within 10 seconds with territory filtering applied", "Security predicates correctly reference Territory2 hierarchy", "Dataset recipe includes flattened territory hierarchy as multivalued dimension", "Territory filtering works for both direct and inherited territory assignments", "System prevents data leakage across territories in drill-down views", "Exported reports maintain territory-based security", "Territory filter updates automatically when user's territory assignments change"], "salesforce_components": {"fields": ["UserTerritory2Association.UserId", "UserTerritory2Association.Territory2Id", "Territory2.ParentTerritory2Id", "Territory2.Name", "Dataset.TerritoryHierarchy__c"], "objects": ["Territory2", "UserTerritory2Association", "Account", "Opportunity", "CRM Analytics Dataset"], "automation": ["CRM Analytics Recipe with territory hierarchy dimension", "Security Predicate referencing territory assignments", "Scheduled Flow to refresh territory-based datasets daily"], "ui_components": ["CRM Analytics Dashboard with territory filters", "Territory selector component", "Territory performance widgets", "Territory hierarchy visualization"]}}, {"id": "UC-018-04", "actor": "Sales Operations Manager", "title": "Sales Operations Plans Territories Using Territory Planning with Live Data", "main_flow": ["Sales Ops Manager navigates to Territory Planning in Sales Planning", "Manager creates new dataset and selects 'Plan territories with live data' option", "Manager builds object query for Account object to include all active accounts", "Manager adds data source fields: BillingState, BillingCity, AnnualRevenue, Industry, Owner", "System connects to live Salesforce data without copying records", "Manager creates alignment named 'Q1 2025 Territory Realignment'", "Manager adds territory hierarchy structure in table format", "Manager defines optimization preferences: balance by revenue, maximize continuity", "System optimizes territory assignments based on preferences and live data", "Manager reviews proposed territory assignments and makes manual adjustments", "Manager saves alignment and prepares for publishing to Enterprise Territory Management"], "preconditions": ["Territory Planning add-on is enabled", "Sales Planning license is assigned to user", "Account object has required fields for territory planning", "User has access to create datasets and alignments"], "postconditions": ["Territory alignment is created with optimized assignments", "Dataset reflects latest Salesforce account data", "Territory structure is ready for publishing to ETM", "Alignment history is saved for comparison and rollback"], "alternative_flows": ["ALT-01: If Manager needs geographic boundaries, adds latitude/longitude coordinates and switches to map view", "ALT-02: If dataset includes copied data sources, system requires address fields for geographic planning", "ALT-03: If optimization results are unsatisfactory, Manager adjusts balance parameters and re-runs optimization", "ALT-04: Manager carves territories from segments by applying rules and criteria to filter accounts"], "acceptance_criteria": ["Live data dataset refreshes automatically to show latest Salesforce records", "Territory optimization completes within 5 minutes for up to 10,000 accounts", "System supports both geographic and non-geographic territory structures", "Manager can toggle between table view and map view for territory planning", "Optimization algorithm balances territories within 10% variance of target metrics", "Alignment can be published directly to active Territory2Model", "System prevents data loss when switching between live and copied data sources"], "salesforce_components": {"fields": ["Account.BillingState", "Account.BillingCity", "Account.BillingStreet", "Account.BillingPostalCode", "Account.AnnualRevenue", "Account.Industry", "Account.NumberOfEmployees", "Account.Latitude__c", "Account.Longitude__c"], "objects": ["Account", "Territory2", "Territory2Model", "Territory Planning Dataset", "Territory Planning Alignment"], "automation": ["Territory Planning optimization engine", "Live data query connector", "Alignment publishing workflow to Territory2Model", "Scheduled job to sync Territory Planning with ETM"], "ui_components": ["Territory Planning workspace", "Dataset builder with live data option", "Territory hierarchy table editor", "Map view for geographic territory carving", "Optimization preferences panel", "Alignment comparison view"]}}, {"id": "UC-018-05", "actor": "Sales Manager", "title": "Sales Manager Publishes Territory Alignment and Activates Model", "main_flow": ["Sales Manager opens completed alignment in Territory Planning", "Manager clicks 'Preview Territory Assignments for Accounts'", "System displays preview of account assignments across territories", "Manager reviews assignment changes and validates territory coverage", "Manager clicks 'Publish to Enterprise Territory Management'", "System prompts to select target Territory2Model or create new model", "Manager selects existing 'FY2025 Sales Territories' model", "System publishes territory structure and creates Territory2 records", "System creates ObjectTerritory2Association records for account assignments", "Manager navigates to Territory Model in Setup", "Manager reviews published territories and assignment rules", "Manager clicks 'Activate' on Territory Model", "System validates model and activates territory assignments", "System sends notifications to all affected territory users"], "preconditions": ["Territory alignment is completed in Territory Planning", "Territory hierarchy and assignments are reviewed and approved", "Target Territory2Model exists or will be created", "User has 'Manage Territories' permission"], "postconditions": ["Territory structure is published to Enterprise Territory Management", "Territory2Model is activated", "Accounts are assigned to territories per alignment", "Territory users can access assigned accounts and opportunities", "Assignment rules are active and processing new accounts", "Historical territory assignments are preserved in audit logs"], "alternative_flows": ["ALT-01: If validation errors exist, system displays error details and prevents activation", "ALT-02: If accounts are currently assigned to different territories, system prompts for conflict resolution", "ALT-03: If Manager creates new Territory2Model during publish, system creates model in Planning state", "ALT-04: If activation affects active opportunities, system prompts to confirm territory reassignment impact"], "acceptance_criteria": ["Publishing completes within 15 minutes for alignments with up to 500 territories", "Preview accurately reflects post-publish account assignments", "System validates territory hierarchy integrity before activation", "Activation process handles up to 50,000 account reassignments", "Users receive email notifications within 5 minutes of territory assignment", "System maintains opportunity ownership during territory transitions", "Rollback capability exists to revert to previous territory model if needed", "Published territories match Territory Planning alignment structure exactly"], "salesforce_components": {"fields": ["Territory2Model.State", "Territory2Model.ActivatedDate", "Territory2.DeveloperName", "Territory2.Territory2ModelId", "ObjectTerritory2Association.AssociationCause", "UserTerritory2Association.RoleInTerritory2"], "objects": ["Territory2", "Territory2Model", "ObjectTerritory2Association", "UserTerritory2Association", "Account", "Opportunity"], "automation": ["Territory Planning publish workflow", "Territory Model activation process", "Record-Triggered Flow on Territory2Model for activation notifications", "Batch Apex for bulk account territory reassignment", "Platform Event for territory change notifications"], "ui_components": ["Territory Planning publish wizard", "Territory assignment preview component", "Territory Model activation confirmation dialog", "Territory change impact analysis dashboard", "User notification center for territory assignments"]}}, {"id": "UC-019-01", "actor": "Sales Manager", "title": "Sales Manager Manually Assigns Account to Territory Override", "main_flow": ["Sales Manager navigates to the Territory Model hierarchy", "Sales Manager opens the target territory detail page", "Sales Manager clicks 'Add Accounts' in the Manually Assigned Accounts related list", "System displays list of available accounts with adjustable list view", "Sales Manager searches for and selects the account(s) requiring exception assignment", "Selected accounts appear in the Selected related list", "Sales Manager clicks 'Save' to confirm manual assignment", "System assigns account to territory bypassing standard assignment rules", "System displays confirmation message and updates Manually Assigned Accounts related list"], "preconditions": ["User has 'Manage Territories' permission and 'View Setup and Configuration' permission", "Active Territory Model exists", "Account exists in Salesforce", "Account does not match standard territory assignment rules or requires exception"], "postconditions": ["Account is assigned to specified territory regardless of rule criteria", "Manual assignment is recorded in Manually Assigned Accounts related list", "Account assignment is excluded from automated rule-based reassignment", "Territory users gain appropriate access to the account based on territory sharing rules"], "alternative_flows": [{"steps": ["System displays warning about existing territory assignment", "Sales Manager confirms override action", "System removes account from previous territory and assigns to new territory", "System logs the manual override in audit trail"], "condition": "Account already assigned to another territory"}, {"steps": ["System displays error message indicating limit exceeded", "Sales Manager reduces selection to within limits", "Process continues from step 7 of main flow"], "condition": "Multiple accounts selected exceed manual assignment limit"}], "acceptance_criteria": ["Sales Manager can successfully assign accounts that do not match territory rules", "Manually assigned accounts appear in Manually Assigned Accounts related list on territory record", "Manually assigned accounts are not reassigned when territory assignment rules are run", "System prevents duplicate manual assignments to the same territory", "Audit trail captures user, timestamp, and reason for manual assignment", "Territory team members can access manually assigned accounts according to their territory role"], "salesforce_components": {"fields": ["Territory2.Name", "Territory2.Territory2ModelId", "Account.Name", "Account.Territory_Exception_Reason__c", "ObjectTerritory2Association.AssociationCause", "ObjectTerritory2Association.ObjectId", "ObjectTerritory2Association.Territory2Id"], "objects": ["Territory2", "Account", "ObjectTerritory2Association", "UserTerritory2Association"], "automation": ["Record-Triggered Flow: Log Territory Manual Assignment", "Validation Rule: Prevent duplicate manual territory assignments"], "ui_components": ["Manually Assigned Accounts related list on Territory2 detail page", "Add Accounts button and selection interface", "Territory Exception Reason field on Account layout"]}}, {"id": "UC-019-02", "actor": "System", "title": "System Excludes Manually Assigned Accounts from Automated Rule Processing", "main_flow": ["Territory assignment rules are initiated (manually or automatically)", "System retrieves all accounts in scope for rule evaluation", "System queries ObjectTerritory2Association for accounts with AssociationCause = 'Territory2Manual'", "System excludes manually assigned accounts from rule evaluation set", "System processes remaining accounts through territory assignment rules", "System evaluates accounts against inherited rules from parent territories", "System evaluates accounts against locally defined territory rules", "System assigns accounts to territories based on rule matches", "System preserves all manual territory assignments unchanged", "System generates assignment summary report excluding manual assignments from changes"], "preconditions": ["Active Territory Model exists with defined assignment rules", "One or more accounts are manually assigned to territories", "Territory assignment rules are triggered (manual run or automatic on insert/update)"], "postconditions": ["Manually assigned accounts remain in their assigned territories", "Rule-based accounts are assigned or reassigned according to current rules", "No manual assignments are overwritten by automated processes", "Assignment audit log reflects preservation of manual assignments"], "alternative_flows": [{"steps": ["System detects account field updates", "System checks for manual territory assignment flag", "System skips automated reassignment logic", "Manual territory assignment remains unchanged", "System logs potential rule mismatch in Territory_Assignment_Audit__c"], "condition": "Manually assigned account data changes to match different territory rules"}, {"steps": ["Admin removes account from Manually Assigned Accounts related list", "System updates AssociationCause from 'Territory2Manual' to null", "Account becomes eligible for rule-based assignment", "Next rule execution assigns account based on current rule criteria"], "condition": "Admin explicitly removes manual assignment"}], "acceptance_criteria": ["System correctly identifies accounts with manual territory assignments via AssociationCause field", "Manual territory assignments persist through automated rule execution", "Accounts manually assigned are excluded from rule evaluation count in assignment reports", "System does not create duplicate territory assignments for manually assigned accounts", "Manual assignment flag prevents reassignment even when account data changes", "Assignment summary report clearly distinguishes between manual and rule-based assignments"], "salesforce_components": {"fields": ["ObjectTerritory2Association.AssociationCause", "ObjectTerritory2Association.ObjectId", "ObjectTerritory2Association.Territory2Id", "Territory_Assignment_Audit__c.Account__c", "Territory_Assignment_Audit__c.Assignment_Type__c", "Territory_Assignment_Audit__c.Rule_Match_Status__c", "Territory_Assignment_Audit__c.Manual_Override__c"], "objects": ["Territory2", "Account", "ObjectTerritory2Association", "Territory2Model", "Territory_Assignment_Audit__c"], "automation": ["Apex Trigger: Territory Assignment Rule Processor Override", "Record-Triggered Flow: Audit Territory Assignment Changes", "Scheduled Flow: Territory Assignment Compliance Check"], "ui_components": ["Territory Assignment Summary Report", "Manual vs Automated Assignment Dashboard Component"]}}, {"id": "UC-019-03", "actor": "Sales Operations Manager", "title": "Sales Operations Creates Territory-Specific Exception Rule", "main_flow": ["Sales Operations Manager navigates to Territory detail page", "Manager clicks 'New Rule' in Assignment Rules Assigned to This Territory related list", "System displays rule creation interface", "Manager enters rule name indicating exception nature (e.g., 'Strategic Account Override - Tech Industry')", "Manager defines filter criteria using account fields (Industry equals 'Technology' AND Annual Revenue greater than 10000000)", "Manager sets rule priority higher than standard rules to ensure precedence", "Manager selects 'Active' status for immediate application", "Manager decides whether to apply rule to child territories", "Manager saves the exception rule", "System validates rule criteria syntax and field references", "System adds rule to territory's assignment rule set", "System displays confirmation and rule details"], "preconditions": ["User has 'Manage Territories' and 'View Setup and Configuration' permissions", "Territory Model exists in Planning or Active state", "Territory record exists where exception rule will be created", "Business case for exception rule is documented"], "postconditions": ["Exception rule is created and associated with territory", "Rule appears in Assignment Rules Assigned to This Territory related list", "If active, rule is included in next territory assignment execution", "Rule priority ensures exception handling takes precedence over standard rules", "Child territories inherit rule if 'Apply to child territories' was selected"], "alternative_flows": [{"steps": ["System detects potential rule conflict during validation", "System displays warning message with conflicting rule details", "Manager reviews rule priority and criteria", "Manager adjusts priority or criteria to resolve conflict", "Manager saves updated rule configuration"], "condition": "Exception rule conflicts with existing rules"}, {"steps": ["Manager sets rule status to 'Inactive'", "Manager saves rule in inactive state", "Manager uses 'Preview Rule Results' function to test against sample accounts", "System displays accounts that would match the rule", "Manager reviews results and activates rule if satisfactory"], "condition": "Manager wants to test rule before activation"}, {"steps": ["Manager creates rule with Inactive status", "Manager documents activation date in rule description", "Manager creates task or calendar reminder for activation date", "On activation date, manager updates rule status to Active", "Manager runs territory assignment rules to apply exception"], "condition": "Exception rule needs time-based activation"}], "acceptance_criteria": ["Sales Operations Manager can create rules with up to 15 criteria conditions", "Rule criteria supports all standard and custom account fields", "Rule priority can be set to override standard territory assignment rules", "System validates rule criteria syntax before saving", "Exception rules can be marked to apply to child territories in hierarchy", "Rule details include created by, created date, and last modified information", "Inactive rules can be created and tested without affecting current assignments", "Rule name and description clearly indicate exception purpose for audit trail"], "salesforce_components": {"fields": ["Territory2Rule.Name", "Territory2Rule.Active", "Territory2Rule.Priority__c", "Territory2Rule.BooleanFilter", "Territory2Rule.Territory2ModelId", "Territory2Rule.Exception_Type__c", "Territory2Rule.Business_Justification__c", "Territory2RuleAssociation.InheritedFromTerritory2Id", "Territory2RuleAssociation.IsInherited"], "objects": ["Territory2", "Territory2Rule", "Territory2RuleAssociation", "Territory2Model", "Account"], "automation": ["Validation Rule: Ensure exception rule priority is within valid range", "Record-Triggered Flow: Notify stakeholders of new exception rules", "Apex Class: Territory Rule Conflict Detector"], "ui_components": ["Assignment Rules Assigned to This Territory related list", "New Rule button and rule creation form", "Rule Preview/Test Results component", "Exception Rule Priority field on Territory2Rule layout"]}}, {"id": "UC-019-04", "actor": "Territory Manager", "title": "Territory Manager Reviews and Approves Account Territory Exception Request", "main_flow": ["System sends email notification to Territory Manager about pending exception request", "Territory Manager navigates to Territory Exception Request record", "Manager reviews request details including account name, current territory, requested territory, and business justification", "Manager reviews account details including industry, revenue, strategic importance, and relationship history", "Manager evaluates impact on territory quotas and team capacity", "Manager checks for similar approved exceptions to ensure consistency", "Manager adds approval comments documenting decision rationale", "Manager clicks 'Approve' button", "System updates Territory Exception Request status to 'Approved'", "System triggers automated process to manually assign account to requested territory", "System sends notification to requester confirming approval", "System updates account record with exception flag and approval details"], "preconditions": ["Territory Exception Request record exists in 'Pending Approval' status", "Territory Manager is assigned as approver for the territory", "Account requiring exception exists and is currently assigned to a territory", "Business justification for exception is documented"], "postconditions": ["Territory Exception Request status is updated to final state (Approved/Rejected)", "If approved, account is manually assigned to requested territory", "Exception assignment is flagged to prevent automated reassignment", "All stakeholders are notified of decision", "Approval history is recorded for audit purposes", "Territory metrics are updated to reflect exception assignment"], "alternative_flows": [{"steps": ["Manager reviews request and determines it does not meet exception criteria", "Manager enters detailed rejection reason in comments field", "Manager clicks 'Reject' button", "System updates Territory Exception Request status to 'Rejected'", "System sends notification to requester with rejection reason", "Account remains in current territory assignment", "Requester can revise and resubmit request with additional justification"], "condition": "Territory Manager rejects exception request"}, {"steps": ["Manager clicks 'Request More Information' button", "Manager specifies information needed in comments", "System updates status to 'Information Required'", "System notifies requester of information request", "Requester provides additional details", "System notifies manager when information is added", "Manager reviews updated request and proceeds with approval/rejection"], "condition": "Manager needs additional information before decision"}, {"steps": ["Manager reviews request and identifies it exceeds standard approval authority", "Manager adds recommendation in comments", "Manager escalates to Sales VP via 'Escalate for Executive Approval' button", "System updates status to 'Executive Review'", "System routes request to Sales VP approval queue", "Sales VP reviews and makes final decision", "System processes approval/rejection based on executive decision"], "condition": "Exception requires executive approval due to revenue threshold"}], "acceptance_criteria": ["Territory Manager receives email notification within 5 minutes of exception request submission", "Manager can view complete request history including all comments and status changes", "Approval/rejection requires mandatory comments documenting decision rationale", "System prevents approval if required fields are incomplete", "Approved exceptions automatically trigger account territory reassignment within 1 hour", "Exception approval creates audit record with approver, timestamp, and justification", "Rejected requests can be resubmitted after 24 hours with revised justification", "Dashboard shows all pending exception requests for manager's territories", "Exception expiration date can be set for temporary assignments"], "salesforce_components": {"fields": ["Territory_Exception_Request__c.Account__c", "Territory_Exception_Request__c.Current_Territory__c", "Territory_Exception_Request__c.Requested_Territory__c", "Territory_Exception_Request__c.Status__c", "Territory_Exception_Request__c.Business_Justification__c", "Territory_Exception_Request__c.Approval_Comments__c", "Territory_Exception_Request__c.Approved_By__c", "Territory_Exception_Request__c.Approved_Date__c", "Territory_Exception_Request__c.Exception_Expiration_Date__c", "Account.Territory_Exception_Active__c", "Account.Exception_Approval_Reference__c"], "objects": ["Territory_Exception_Request__c", "Account", "Territory2", "ObjectTerritory2Association", "ProcessInstance", "ProcessInstanceStep"], "automation": ["Approval Process: Territory Exception Request Approval", "Record-Triggered Flow: Process Approved Territory Exception", "Record-Triggered Flow: Send Exception Request Notifications", "Email Alert: Territory Exception Approved", "Email Alert: Territory Exception Rejected", "Scheduled Flow: Check and Expire Temporary Territory Exceptions"], "ui_components": ["Territory Exception Request detail page layout", "Approval buttons (Approve, Reject, Request More Info, Escalate)", "Territory Exception Dashboard for managers", "Exception Request History related list on Account", "Pending Exceptions list view with filters"]}}, {"id": "UC-019-05", "actor": "System Administrator", "title": "System Audits and Reports on Territory Exception Compliance", "main_flow": ["System Administrator schedules or manually initiates Territory Exception Audit process", "System queries all ObjectTerritory2Association records with AssociationCause = 'Territory2Manual'", "System retrieves all active Territory2Rule records marked as exception rules", "System evaluates each manually assigned account against current territory assignment rules", "System identifies accounts that would be assigned differently under standard rules", "System checks for exception approval documentation in Territory_Exception_Request__c", "System flags accounts with manual assignments lacking proper approval documentation", "System calculates exception metrics: total exceptions, exceptions by territory, exceptions by reason", "System generates Territory Exception Compliance Report with findings", "System highlights exceptions exceeding defined thresholds or age limits", "System sends report to Sales Operations and Territory Managers", "Administrator reviews flagged exceptions and initiates corrective actions as needed"], "preconditions": ["Territory Management 2.0 is implemented with active territory model", "Manual territory assignments and exception rules exist", "Territory exception audit logging is enabled", "Reporting period is defined (monthly, quarterly, annually)"], "postconditions": ["Territory Exception Compliance Report is generated and distributed", "All manual territory assignments are validated against approval documentation", "Expired exceptions are flagged for manager review", "Exception metrics are updated in Territory Management Dashboard", "Non-compliant exceptions are documented with corrective action plans", "Audit trail is complete for compliance and governance review"], "alternative_flows": [{"steps": ["System identifies manual assignments with past Exception_Expiration_Date__c", "System generates list of expired exceptions requiring review", "System sends notification to territory managers for expired exceptions", "Manager reviews each expired exception for renewal or removal", "If removal approved, system removes manual assignment and runs standard rules", "If renewal approved, manager updates expiration date and documents justification"], "condition": "Expired temporary exceptions are identified"}, {"steps": ["System identifies manual territory assignments without linked exception request", "System creates draft Territory_Exception_Request__c records for undocumented assignments", "System notifies territory managers to provide retroactive justification", "Manager reviews account and provides business justification", "Manager submits for retroactive approval or removes invalid exception", "System updates audit status based on manager action"], "condition": "Undocumented manual assignments are found"}, {"steps": ["System detects territory with >20% of accounts as manual exceptions", "System flags territory for rule review in compliance report", "Sales Operations reviews territory assignment rules for gaps", "Operations creates or modifies rules to reduce manual exception dependency", "System re-evaluates territory assignments after rule updates", "Exception count decreases as accounts match updated rules"], "condition": "Exception concentration exceeds territory threshold"}], "acceptance_criteria": ["System identifies 100% of manual territory assignments in active territory model", "Report includes account name, current territory, assignment reason, approver, and approval date for each exception", "System correctly flags exceptions without proper approval documentation", "Expired temporary exceptions are identified based on Exception_Expiration_Date__c field", "Report calculates exception rate by territory (exceptions / total accounts)", "System highlights territories exceeding 15% exception threshold", "Compliance report is generated automatically on defined schedule (monthly/quarterly)", "Report includes trend analysis comparing current period to previous periods", "Dashboard visualizes exception distribution across territory hierarchy", "System sends automated alerts when exception thresholds are exceeded"], "salesforce_components": {"fields": ["Territory_Exception_Audit__c.Audit_Date__c", "Territory_Exception_Audit__c.Territory__c", "Territory_Exception_Audit__c.Total_Accounts__c", "Territory_Exception_Audit__c.Manual_Exceptions__c", "Territory_Exception_Audit__c.Exception_Rate__c", "Territory_Exception_Audit__c.Undocumented_Exceptions__c", "Territory_Exception_Audit__c.Expired_Exceptions__c", "Territory_Exception_Audit__c.Compliance_Status__c", "ObjectTerritory2Association.AssociationCause", "Territory_Exception_Request__c.Exception_Expiration_Date__c"], "objects": ["Territory2", "Account", "ObjectTerritory2Association", "Territory_Exception_Request__c", "Territory_Exception_Audit__c", "Report", "Dashboard"], "automation": ["Scheduled Flow: Monthly Territory Exception Audit", "Apex Batch Class: Territory Exception Compliance Processor", "Record-Triggered Flow: Flag Expired Territory Exceptions", "Email Alert: Territory Exception Compliance Report Distribution", "Email Alert: Exception Threshold Exceeded Notification"], "ui_components": ["Territory Exception Compliance Report", "Territory Exception Dashboard with KPIs", "Exception Aging Report by Territory", "Undocumented Exceptions List View", "Territory Exception Trend Chart"]}}, {"id": "UC-024-01", "actor": "Sales Agent", "title": "Sales Agent Requests Discount Approval for 11-15% Discount", "main_flow": ["Sales Agent navigates to Order record requiring discount", "Sales Agent enters discount percentage between 11% and 15% in Discount_Percentage__c field", "Sales Agent clicks 'Submit for Approval' button", "System validates that discount is greater than 10% threshold", "System locks the Order record for editing", "System updates Discount_Approval_Status__c to 'Pending Manager Approval'", "System sends email notification to Sales Manager with approval request", "Sales Manager receives approval request in their Approvals queue", "Sales Manager reviews discount justification and order details", "Sales Manager clicks 'Approve' button", "System updates Discount_Approval_Status__c to 'Approved'", "System unlocks Order record", "System sends confirmation email to Sales Agent", "Sales Agent proceeds to finalize the order"], "preconditions": ["Sales Agent has an active Order record in Salesforce", "Order status is 'Draft' or 'In Negotiation'", "Discount percentage field exists on Order object", "Sales Manager is assigned in user hierarchy", "Approval process is activated in the org"], "postconditions": ["Order Discount_Approval_Status__c is updated to final state", "Order record is unlocked if approved or rejected", "Approval history is recorded on Order record", "All stakeholders receive email notifications", "Discount_Percentage__c is either approved or cleared"], "alternative_flows": [{"name": "Manager Rejects Discount", "steps": ["Sales Manager reviews request and determines discount is not justified", "Sales Manager enters rejection reason in comments field", "Sales Manager clicks 'Reject' button", "System updates Discount_Approval_Status__c to 'Rejected'", "System clears Discount_Percentage__c field to null", "System unlocks Order record for editing", "System sends rejection email to Sales Agent with manager comments", "Sales Agent renegotiates terms or marks Order as lost"]}, {"name": "Manager Recalls Approval", "steps": ["Sales Agent realizes error in submitted discount request", "Sales Agent contacts Sales Manager to recall approval", "Sales Manager navigates to pending approval", "Sales Manager clicks 'Recall' button", "System returns Order to Draft status", "System unlocks Order record", "Sales Agent corrects discount information and resubmits"]}], "acceptance_criteria": ["Discount requests between 11-15% route only to Sales Manager", "Order record is locked during approval process", "Sales Agent cannot edit Order while approval is pending", "Email notifications are sent within 5 minutes of submission", "Approval history shows timestamp, approver, and decision", "Rejected orders have Discount_Percentage__c set to null", "Approved orders retain the requested discount percentage", "System prevents submission if discount is 10% or less"], "salesforce_components": {"fields": ["Order.Discount_Percentage__c", "Order.Discount_Approval_Status__c", "Order.Discount_Justification__c", "Order.Status"], "objects": ["Order", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem"], "automation": ["Approval Process: Order_Discount_Approval", "Email Alert: Notify_Manager_Discount_Request", "Email Alert: Notify_Agent_Approval_Decision", "Field Update: Set_Status_Pending_Approval", "Field Update: Clear_Discount_On_Rejection", "Validation Rule: Prevent_Manual_Approval_Status_Change"], "ui_components": ["Submit for Approval button on Order page layout", "Discount_Percentage__c field on Order form", "Discount_Approval_Status__c field (read-only)", "Approval History related list on Order"]}}, {"id": "UC-024-02", "actor": "Sales Agent", "title": "Multi-Level Approval for Discounts Greater Than 15%", "main_flow": ["Sales Agent enters discount percentage greater than 15% in Discount_Percentage__c", "Sales Agent enters detailed justification in Discount_Justification__c field", "Sales Agent clicks 'Submit for Approval' button", "System validates discount exceeds 15% threshold", "System routes to Sales Manager as first approver", "System updates Discount_Approval_Status__c to 'Pending Manager Review'", "Sales Manager reviews and approves request", "System automatically escalates to VP of Sales", "System updates Discount_Approval_Status__c to 'Pending VP Sales Approval'", "VP of Sales reviews order details and approves", "System automatically routes to VP of Finance in parallel", "System updates Discount_Approval_Status__c to 'Pending VP Finance Approval'", "VP of Finance reviews financial impact and approves", "System validates unanimous approval from both VPs", "System updates Discount_Approval_Status__c to 'Fully Approved'", "System unlocks Order record", "System sends final approval notification to Sales Agent"], "preconditions": ["Sales Agent has an active Order record", "Discount requested is greater than 15%", "VP of Sales and VP of Finance are configured in approval hierarchy", "Multi-level approval process is activated", "Order meets all validation rules for submission"], "postconditions": ["Order has complete approval history with all decision makers", "Discount_Approval_Status__c reflects final unanimous decision", "All approvers and submitter receive final notification", "Order record is unlocked for processing if approved", "Discount is cleared if rejected at any level", "Approval timestamps are recorded for audit trail"], "alternative_flows": [{"name": "VP of Sales Rejects Request", "steps": ["VP of Sales reviews request and determines discount is excessive", "VP of Sales enters rejection comments", "VP of Sales clicks 'Reject' button", "System executes final rejection actions immediately", "System updates Discount_Approval_Status__c to 'Rejected by VP Sales'", "System clears Discount_Percentage__c to null", "System sends rejection notification to all previous approvers and Sales Agent", "Order returns to Sales Agent for renegotiation"]}, {"name": "VP of Finance Rejects After VP Sales Approval", "steps": ["VP of Sales approves the discount request", "VP of Finance reviews financial projections", "VP of Finance determines financial risk is too high", "VP of Finance enters detailed rejection reason", "VP of Finance clicks 'Reject' button", "System executes final rejection actions", "System updates Discount_Approval_Status__c to 'Rejected by VP Finance'", "System clears discount and notifies all stakeholders"]}, {"name": "Manager Rejects Before VP Escalation", "steps": ["Sales Manager reviews discount request greater than 15%", "Sales Manager determines request lacks proper justification", "Sales Manager clicks 'Reject' button with comments", "System updates status to 'Rejected at Manager Level'", "System does not escalate to VPs", "System clears discount and notifies Sales Agent", "Sales Agent must resubmit with better justification"]}], "acceptance_criteria": ["Discounts >15% require unanimous approval from VP Sales AND VP Finance", "Rejection at any level triggers final rejection actions", "Sales Manager approval is required before VP escalation", "Both VPs must approve for final approval status", "Email notifications sent at each approval stage", "Approval process completes within configured SLA timeframes", "System prevents order processing without full approval", "Approval history shows all three levels of review", "Rejection comments are mandatory for all rejectors"], "salesforce_components": {"fields": ["Order.Discount_Percentage__c", "Order.Discount_Approval_Status__c", "Order.Discount_Justification__c", "Order.Submitted_Date__c", "Order.Final_Approval_Date__c", "Order.Status"], "objects": ["Order", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem", "User"], "automation": ["Approval Process: Order_Discount_Multi_Level", "Approval Step 1: Sales_Manager_Review", "Approval Step 2: VP_Sales_Approval", "Approval Step 3: VP_Finance_Approval", "Email Alert: Manager_Approval_Request", "Email Alert: VP_Sales_Approval_Request", "Email Alert: VP_Finance_Approval_Request", "Email Alert: Final_Approval_Notification", "Field Update: Set_Submitted_Date", "Field Update: Set_Final_Approval_Date", "Field Update: Clear_Discount_Final_Rejection", "Validation Rule: Require_Justification_Over_15_Percent"], "ui_components": ["Approval Process Visualizer on Order record page", "Multi-step approval progress indicator", "Discount_Justification__c rich text area", "Approval History related list with filtering", "Custom Lightning component showing approval chain"]}}, {"id": "UC-024-03", "actor": "System", "title": "System Auto-Approves Discounts Under 10% Threshold", "main_flow": ["Sales Agent enters discount percentage of 10% or less", "Sales Agent saves the Order record", "System validates discount is within auto-approval threshold", "System automatically updates Discount_Approval_Status__c to 'Auto-Approved'", "System applies discount to order line items", "System recalculates Order total amount", "System updates Order.Discount_Applied_Date__c with current timestamp", "System allows Sales Agent to proceed with order finalization", "No approval workflow is initiated", "Order remains unlocked and editable by Sales Agent"], "preconditions": ["Order record exists with valid data", "Discount_Percentage__c is populated", "Discount is 10% or less", "Order Status allows discount application", "No approval process submission is triggered"], "postconditions": ["Discount is applied to Order without approval workflow", "Discount_Approval_Status__c is set to 'Auto-Approved'", "Order total reflects discounted amount", "No approval history records are created", "Sales Agent can continue order processing immediately"], "alternative_flows": [{"name": "Discount Exactly at 10% Boundary", "steps": ["Sales Agent enters exactly 10% discount", "System validates against threshold configuration", "System confirms 10% is within auto-approval limit", "System auto-approves without routing to manager", "Discount is applied immediately"]}, {"name": "Sales Agent Attempts to Bypass Approval", "steps": ["Sales Agent enters 12% discount", "Sales Agent attempts to manually set Discount_Approval_Status__c to 'Approved'", "Validation rule fires preventing manual status change", "System displays error message requiring approval submission", "Sales Agent must submit for approval through proper workflow"]}], "acceptance_criteria": ["Discounts of 10% or less do not trigger approval process", "Discount_Approval_Status__c automatically set to 'Auto-Approved'", "No email notifications sent for auto-approved discounts", "Order remains editable after discount application", "System prevents manual override of approval status", "Discount applied within 1 second of save", "Order total recalculates correctly with discount", "Audit trail shows auto-approval in field history"], "salesforce_components": {"fields": ["Order.Discount_Percentage__c", "Order.Discount_Approval_Status__c", "Order.Discount_Applied_Date__c", "Order.TotalAmount", "Order.Discounted_Total__c"], "objects": ["Order", "OrderItem"], "automation": ["Record-Triggered Flow: Auto_Approve_Small_Discounts", "Formula Field: Requires_Approval__c", "Validation Rule: Prevent_Manual_Approval_Override", "Validation Rule: Discount_Percentage_Range", "Field Update: Set_Auto_Approved_Status", "Field Update: Set_Discount_Applied_Date"], "ui_components": ["Discount_Percentage__c field with inline help text", "Visual indicator showing auto-approval threshold", "Discount_Approval_Status__c badge component"]}}, {"id": "UC-024-04", "actor": "Approval Administrator", "title": "Approval Administrator Reassigns Stalled Discount Approval", "main_flow": ["Approval Administrator navigates to Approvals app or Order record", "Administrator identifies stalled approval in pending queue", "Administrator reviews approval history and current assignee", "Administrator clicks 'Reassign' action on approval workitem", "System displays reassignment dialog with user lookup", "Administrator searches for and selects alternate approver", "Administrator enters reassignment justification in comments", "Administrator clicks 'Reassign Approval' button", "System validates new approver has appropriate permissions", "System updates ProcessInstanceWorkitem with new ActorId", "System sends email notification to new approver", "System logs reassignment action in approval history", "New approver receives approval request in their queue", "New approver reviews and processes the approval request"], "preconditions": ["Discount approval is pending with specific approver", "Approver is unavailable (out of office, left company, etc.)", "Order is time-sensitive and requires immediate attention", "Administrator has 'Modify All Data' or approval admin permissions", "Advanced Approvals or approval reassignment is enabled"], "postconditions": ["Approval is reassigned to new approver", "Approval history shows reassignment with timestamp and reason", "New approver has approval in their pending queue", "Original approver no longer sees approval request", "Order approval process continues without delay", "All reassignment actions are audited"], "alternative_flows": [{"name": "Administrator Cancels Approval Process", "steps": ["Administrator determines approval is no longer needed", "Administrator navigates to pending approval", "Administrator clicks 'Cancel Approval' action", "System prompts for cancellation reason", "Administrator enters reason and confirms cancellation", "System updates Discount_Approval_Status__c to 'Cancelled'", "System unlocks Order record", "System notifies submitter of cancellation"]}, {"name": "Administrator Escalates to Higher Authority", "steps": ["Administrator reviews approval stuck at manager level", "Administrator determines VP intervention is needed", "Administrator reassigns directly to VP of Sales", "System skips intermediate approval steps", "VP receives urgent approval notification", "Approval history shows administrative escalation"]}, {"name": "Bulk Reassignment for Departed Employee", "steps": ["Employee leaves company with pending approvals", "Administrator runs report of all pending approvals for user", "Administrator uses bulk reassignment tool", "Administrator selects replacement approver", "System reassigns all pending approvals in batch", "System sends consolidated notification to new approver"]}], "acceptance_criteria": ["Only users with approval admin permissions can reassign approvals", "Reassignment reason is mandatory and recorded", "New approver receives email notification within 5 minutes", "Approval history clearly shows reassignment chain", "System validates new approver meets approval criteria", "Reassignment does not reset approval step sequence", "Original SLA timers continue from submission date", "Administrator can reassign to user or queue", "Bulk reassignment handles up to 200 records"], "salesforce_components": {"fields": ["ProcessInstanceWorkitem.ActorId", "ProcessInstanceWorkitem.OriginalActorId", "Order.Discount_Approval_Status__c", "ProcessInstance.Status"], "objects": ["ProcessInstance", "ProcessInstanceWorkitem", "ProcessInstanceStep", "ProcessInstanceHistory", "Order"], "automation": ["Approval Process: Order_Discount_Approval", "Email Alert: Notify_New_Approver_Reassignment", "Email Alert: Notify_Admin_Reassignment_Complete", "Flow: Bulk_Approval_Reassignment", "Apex Class: ApprovalReassignmentHandler"], "ui_components": ["Approvals app with reassignment actions", "Custom Lightning component: Approval_Admin_Console", "Reassignment modal with user lookup", "Pending Approvals list view with filters", "Approval history timeline component"]}}, {"id": "UC-024-05", "actor": "Sales Manager", "title": "Sales Manager Reviews and Comments on Pending Discount Approval", "main_flow": ["Sales Manager receives email notification of pending approval", "Sales Manager clicks approval link in email or navigates to Approvals app", "Sales Manager opens pending approval record", "System displays Order details including discount percentage and justification", "Sales Manager reviews customer history and order profitability", "Sales Manager navigates to related Account to check customer status", "Sales Manager reviews previous discount approvals for this customer", "Sales Manager adds comments in approval comments field", "Sales Manager requests additional information from Sales Agent via comments", "System sends notification to Sales Agent with manager's questions", "Sales Agent responds to questions in approval comments thread", "Sales Manager receives notification of agent response", "Sales Manager reviews additional information provided", "Sales Manager makes final decision and clicks 'Approve' or 'Reject'"], "preconditions": ["Discount approval request is in Sales Manager's queue", "Sales Manager has received email notification", "Order record contains complete discount justification", "Sales Manager has appropriate approval permissions", "Manager can access Order record and approval details"], "postconditions": ["Approval decision is recorded in approval history", "Manager comments are visible to all stakeholders", "Order status is updated based on approval decision", "Sales Agent receives notification of manager decision", "Approval moves to next step if approved and escalation needed", "Complete comment thread is preserved for audit"], "alternative_flows": [{"name": "Manager Approves with Conditions", "steps": ["Sales Manager reviews discount request", "Manager determines approval should have conditions", "Manager adds detailed conditions in comments field", "Manager clicks 'Approve' button", "System approves request and includes conditional comments", "Sales Agent receives approval with conditions to follow", "Sales Agent acknowledges conditions before finalizing order"]}, {"name": "Manager Delegates Review to Senior Manager", "steps": ["Sales Manager reviews complex discount scenario", "Manager determines senior input is needed", "Manager adds comments explaining delegation need", "Manager reassigns approval to Senior Sales Manager", "Senior Manager receives reassigned approval", "Senior Manager reviews and makes final decision"]}, {"name": "Manager Uses Mobile App for Urgent Approval", "steps": ["Sales Manager receives urgent approval notification", "Manager is away from desk and opens Salesforce mobile app", "Manager navigates to Approvals in mobile app", "Manager reviews Order details on mobile interface", "Manager adds brief comment via mobile", "Manager approves or rejects using mobile action buttons", "System processes approval from mobile submission"]}], "acceptance_criteria": ["Manager can view complete Order and Account context", "Comment thread maintains chronological order", "Manager can attach files or screenshots to comments", "System timestamps all comments automatically", "Manager can see approval history of similar past requests", "Mobile app provides full approval functionality", "Manager can filter pending approvals by priority or age", "System shows estimated financial impact of discount", "Manager can approve/reject directly from email on mobile", "Comments support @mentions to notify specific users"], "salesforce_components": {"fields": ["ProcessInstanceWorkitem.Comments", "Order.Discount_Percentage__c", "Order.Discount_Justification__c", "Order.Customer_Lifetime_Value__c", "Order.Previous_Discount_History__c", "Account.Customer_Status__c"], "objects": ["ProcessInstanceWorkitem", "ProcessInstanceStep", "ProcessInstanceHistory", "Order", "Account", "User"], "automation": ["Email Alert: Notify_Agent_Manager_Comments", "Email Alert: Notify_Manager_Agent_Response", "Screen Flow: Approval_Review_Assistant", "Lightning Web Component: Approval_Context_Panel"], "ui_components": ["Approvals app with comment threading", "Order detail panel in approval interface", "Related Account information component", "Historical discount approval related list", "Mobile-optimized approval interface", "Rich text editor for approval comments", "File attachment component for supporting documents"]}}, {"id": "UC-025-01", "actor": "Inventory Manager", "title": "Inventory Manager Submits Destocking Offer for Approval", "main_flow": ["Inventory Manager navigates to Destocking_Offer__c record", "Manager reviews offer details including discount percentage and total value", "Manager clicks 'Submit for Approval' button", "System validates all required fields are completed", "System evaluates entry criteria based on Discount_Percentage__c and Offer_Value__c", "System locks the record to prevent editing", "System updates Status__c to 'Pending Approval'", "System assigns approver based on discount threshold rules", "System sends email notification to assigned approver", "System displays confirmation message with approval request ID"], "preconditions": ["User has Inventory Manager profile or permission set", "Destocking_Offer__c record exists with Status__c = 'Draft'", "Discount_Percentage__c field is populated", "Product__c and Quantity__c fields are populated", "Approval process is active for Destocking_Offer__c object"], "postconditions": ["Destocking_Offer__c record is locked for editing", "Status__c is updated to 'Pending Approval'", "Approval request is created and assigned to appropriate approver", "Email notification is sent to approver", "Submitted_Date__c field is populated with current timestamp", "Submitter__c field references the current user"], "alternative_flows": [{"steps": ["System displays error message listing missing required fields", "Record remains in Draft status", "User completes missing fields and resubmits"], "condition": "Required fields are missing"}, {"steps": ["System displays warning message about high discount", "System requires additional justification in Approval_Justification__c field", "User provides justification and resubmits"], "condition": "Discount percentage exceeds maximum threshold"}], "acceptance_criteria": ["GIVEN a Destocking_Offer__c in Draft status with all required fields completed WHEN user clicks Submit for Approval THEN record status changes to Pending Approval", "GIVEN a submitted destocking offer WHEN approval is pending THEN record is locked and cannot be edited by submitter", "GIVEN discount is 0-15% WHEN offer is submitted THEN approval is assigned to Inventory_Manager__c", "GIVEN discount is 16-25% WHEN offer is submitted THEN approval is assigned to Regional_Director__c", "GIVEN discount is greater than 25% WHEN offer is submitted THEN approval requires both VP_Operations__c and CFO__c unanimous approval", "GIVEN successful submission WHEN approval request is created THEN email notification is sent within 5 minutes"], "salesforce_components": {"fields": ["Destocking_Offer__c.Status__c", "Destocking_Offer__c.Discount_Percentage__c", "Destocking_Offer__c.Offer_Value__c", "Destocking_Offer__c.Product__c", "Destocking_Offer__c.Quantity__c", "Destocking_Offer__c.Approval_Justification__c", "Destocking_Offer__c.Submitted_Date__c", "Destocking_Offer__c.Submitter__c", "Destocking_Offer__c.Approval_Status__c"], "objects": ["Destocking_Offer__c", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem"], "automation": ["Approval Process: Destocking_Offer_Approval", "Email Alert: Notify_Approver_Destocking_Offer", "Field Update: Lock_Destocking_Offer_Status", "Field Update: Set_Submitted_Date"], "ui_components": ["Submit for Approval button on record page", "Approval History related list", "Custom validation rules for required fields", "Record lock indicator"]}}, {"id": "UC-025-02", "actor": "Regional Director", "title": "Regional Director Approves Single-Level Destocking Offer", "main_flow": ["Regional Director receives email notification of pending approval", "Director navigates to Approvals app or clicks email link", "Director reviews destocking offer details including discount, quantity, and justification", "Director verifies inventory levels and market conditions", "Director adds comments in approval comments section", "Director clicks 'Approve' button", "System validates approver authority level", "System unlocks the record", "System updates Status__c to 'Approved'", "System updates Approved_Date__c and Approved_By__c fields", "System sends approval confirmation email to submitter", "System triggers post-approval actions"], "preconditions": ["User has Regional Director role or approval delegate assignment", "Destocking_Offer__c record has Status__c = 'Pending Approval'", "Approval request is assigned to current user", "Discount_Percentage__c is between 16% and 25%", "No previous rejection exists on this approval chain"], "postconditions": ["Destocking_Offer__c Status__c is updated to 'Approved' or 'Rejected'", "Record is unlocked if rejected, remains locked if approved until finalization", "Approved_Date__c and Approved_By__c fields are populated", "Approval comments are recorded in approval history", "Email notification is sent to submitter", "If approved, record is ready for execution workflow"], "alternative_flows": [{"steps": ["Director enters rejection reason in comments (required)", "Director clicks 'Reject' button", "System updates Status__c to 'Rejected'", "System unlocks record for editing", "System sends rejection notification to submitter with comments", "Submitter can revise and resubmit"], "condition": "Director rejects the offer"}, {"steps": ["Director clicks 'Reassign' button", "Director selects original submitter or another user", "Director adds comments requesting additional information", "System sends notification to reassigned user", "Status remains 'Pending Approval'"], "condition": "Director needs more information"}, {"steps": ["System checks if approver has active delegate", "System automatically reassigns to delegate", "Delegate receives notification", "Delegate can approve or reject with same authority"], "condition": "Approval is delegated"}], "acceptance_criteria": ["GIVEN a pending approval assigned to Regional Director WHEN director approves THEN Status__c changes to Approved", "GIVEN a pending approval WHEN director rejects without comments THEN system displays error requiring rejection reason", "GIVEN an approved offer WHEN approval is complete THEN submitter receives email notification within 5 minutes", "GIVEN a rejected offer WHEN rejection is processed THEN record is unlocked and editable by submitter", "GIVEN approval or rejection WHEN decision is made THEN approval history shows timestamp, approver name, action, and comments", "GIVEN director has active delegate WHEN approval is assigned THEN delegate can act with full approval authority"], "salesforce_components": {"fields": ["Destocking_Offer__c.Status__c", "Destocking_Offer__c.Approved_Date__c", "Destocking_Offer__c.Approved_By__c", "Destocking_Offer__c.Rejection_Reason__c", "Destocking_Offer__c.Final_Approval_Date__c"], "objects": ["Destocking_Offer__c", "ProcessInstanceWorkitem", "ProcessInstanceStep", "ProcessInstanceHistory"], "automation": ["Approval Process Step: Regional_Director_Approval", "Email Alert: Notify_Submitter_Approval_Decision", "Field Update: Set_Approved_Status", "Field Update: Set_Rejected_Status", "Field Update: Unlock_Record_On_Rejection", "Record-Triggered Flow: Post_Approval_Actions"], "ui_components": ["Approvals app", "Approve/Reject buttons", "Comments text area (required for rejection)", "Reassign approver lookup", "Approval history related list"]}}, {"id": "UC-025-03", "actor": "System", "title": "System Routes High-Value Destocking Offer to Multi-Level Approval", "main_flow": ["System evaluates approval entry criteria upon submission", "System identifies offer requires multi-level approval based on thresholds", "System creates approval chain with two parallel approval steps", "System assigns first approval step to VP_Operations__c", "System assigns parallel approval step to CFO__c", "System sets approval requirement to 'Unanimous' for both approvers", "System locks record and updates Status__c to 'Pending Multi-Level Approval'", "System sends email notifications to both approvers simultaneously", "System monitors approval responses from both approvers", "System waits for both approvals before proceeding"], "preconditions": ["Destocking_Offer__c record is submitted for approval", "Discount_Percentage__c is greater than 25% OR Offer_Value__c exceeds $100,000", "Multi-step approval process is configured and active", "VP Operations and CFO users are defined in approval hierarchy"], "postconditions": ["Both VP Operations and CFO have approved the destocking offer", "Status__c is updated to 'Approved'", "All_Approvals_Complete__c checkbox is set to true", "Final_Approval_Date__c is populated with timestamp of last approval", "Record remains locked until execution begins", "Approval history shows both approval steps with timestamps"], "alternative_flows": [{"steps": ["System immediately processes rejection", "System cancels pending approval for other approver", "System updates Status__c to 'Rejected'", "System records rejection reason and rejector", "System sends notification to both approvers and submitter", "System unlocks record for revision"], "condition": "One approver rejects before other approves"}, {"steps": ["System records first approval in approval history", "System updates Partial_Approval_Status__c field", "System sends reminder to pending approver after 24 hours", "Status remains 'Pending Multi-Level Approval'", "System continues waiting for second approval"], "condition": "One approver approves, waiting for second"}, {"steps": ["System sends escalation notification to approval administrator", "Administrator can reassign or cancel approval", "System logs timeout event in approval history"], "condition": "Approval request times out after 5 business days"}], "acceptance_criteria": ["GIVEN discount > 25% WHEN offer is submitted THEN system creates parallel approval steps for VP Operations and CFO", "GIVEN parallel approvals pending WHEN one approver rejects THEN system immediately cancels other pending approval and updates status to Rejected", "GIVEN parallel approvals pending WHEN both approvers approve THEN status changes to Approved only after both approvals received", "GIVEN one approval received WHEN waiting for second THEN system sends reminder email after 24 hours to pending approver", "GIVEN multi-level approval WHEN unanimous approval is received THEN Final_Approval_Date__c is set to timestamp of last approval", "GIVEN approval timeout of 5 days WHEN no response received THEN system sends escalation notification to approval administrator"], "salesforce_components": {"fields": ["Destocking_Offer__c.Status__c", "Destocking_Offer__c.Partial_Approval_Status__c", "Destocking_Offer__c.All_Approvals_Complete__c", "Destocking_Offer__c.Final_Approval_Date__c", "Destocking_Offer__c.VP_Operations_Approval_Date__c", "Destocking_Offer__c.CFO_Approval_Date__c"], "objects": ["Destocking_Offer__c", "ProcessInstance", "ProcessInstanceStep", "ProcessInstanceWorkitem"], "automation": ["Approval Process: High_Value_Destocking_Approval", "Approval Step 1: VP_Operations_Approval (Parallel)", "Approval Step 2: CFO_Approval (Parallel)", "Email Alert: Notify_Multi_Level_Approvers", "Email Alert: Reminder_Pending_Approval", "Email Alert: Escalation_Approval_Timeout", "Field Update: Set_Multi_Level_Pending_Status", "Scheduled Action: Send_Reminder_After_24_Hours"], "ui_components": ["Multi-step approval indicator on record page", "Approval progress component showing both approvers", "Approval matrix visualization", "Timeout countdown indicator"]}}, {"id": "UC-025-04", "actor": "Approval Administrator", "title": "Approval Administrator Manages Stuck Destocking Approval", "main_flow": ["Administrator navigates to Approvals app from App Launcher", "Administrator filters for pending approvals older than threshold (e.g., 3 days)", "Administrator identifies stuck destocking offer approval", "Administrator reviews approval history and current status", "Administrator clicks 'Manage Approval' action button", "Administrator selects appropriate action: Reassign, Cancel, or Terminate", "Administrator enters justification for administrative action", "System validates administrator permissions", "System executes selected action", "System logs administrative action in approval history", "System sends notifications to relevant stakeholders"], "preconditions": ["User has System Administrator profile or Approval Administrator permission set", "Destocking_Offer__c record has Status__c = 'Pending Approval' or 'Pending Multi-Level Approval'", "Approval is stuck due to approver unavailability, org changes, or escalation", "Advanced Approvals feature is enabled"], "postconditions": ["Approval is no longer stuck and has clear resolution path", "Administrative action is logged in approval history with timestamp and justification", "All relevant stakeholders are notified of administrative intervention", "Record status is updated appropriately based on action taken", "Audit trail is complete for compliance purposes"], "alternative_flows": [{"steps": ["Administrator selects 'Reassign' option", "Administrator searches for and selects new approver", "Administrator adds reassignment reason in comments", "System reassigns approval workitem to new approver", "System sends notification to new approver", "System notifies original approver of reassignment", "Status remains 'Pending Approval'"], "condition": "Administrator reassigns approval"}, {"steps": ["Administrator selects 'Cancel' option", "Administrator enters cancellation reason", "System recalls approval request", "System updates Status__c to 'Draft'", "System unlocks record for editing", "System notifies submitter that approval was cancelled", "Submitter can make changes and resubmit"], "condition": "Administrator cancels approval to allow edits"}, {"steps": ["Administrator selects 'Terminate and Approve' option", "System displays warning about override action", "Administrator confirms action and enters business justification", "System terminates approval process", "System updates Status__c to 'Approved'", "System records administrator as final approver", "System sends notification to all stakeholders with override reason"], "condition": "Administrator terminates and force-approves"}], "acceptance_criteria": ["GIVEN user with Approval Administrator permission WHEN accessing Approvals app THEN user can view all pending approvals across all objects", "GIVEN stuck approval WHEN administrator reassigns THEN new approver receives notification and can act on approval within 5 minutes", "GIVEN administrator cancels approval WHEN cancellation is processed THEN record returns to Draft status and is unlocked", "GIVEN administrator force-approves WHEN override is executed THEN approval history shows administrative override with justification", "GIVEN any administrative action WHEN action is taken THEN audit log captures administrator ID, timestamp, action type, and reason", "GIVEN administrative intervention WHEN action completes THEN all stakeholders (submitter, original approver, new approver if applicable) receive email notification"], "salesforce_components": {"fields": ["Destocking_Offer__c.Status__c", "Destocking_Offer__c.Admin_Override__c", "Destocking_Offer__c.Admin_Override_Reason__c", "Destocking_Offer__c.Admin_Override_Date__c", "Destocking_Offer__c.Admin_Override_By__c", "Approval_Admin_Log__c.Action_Type__c", "Approval_Admin_Log__c.Justification__c", "Approval_Admin_Log__c.Related_Record__c"], "objects": ["Destocking_Offer__c", "ProcessInstance", "ProcessInstanceWorkitem", "ProcessInstanceHistory", "Approval_Admin_Log__c"], "automation": ["Permission Set: Approval_Administrator", "Record-Triggered Flow: Log_Admin_Approval_Action", "Email Alert: Notify_Admin_Intervention", "Field Update: Set_Admin_Override_Fields", "Apex Class: ApprovalAdministrationController"], "ui_components": ["Approvals app with admin actions", "Manage Approval action button", "Reassign approver lookup modal", "Administrative action justification text area", "Approval admin log related list", "Override warning confirmation dialog"]}}, {"id": "UC-025-05", "actor": "System", "title": "System Executes Post-Approval Actions for Finalized Destocking Offer", "main_flow": ["System detects approval process completion via record-triggered flow", "System validates all approval steps are complete", "System updates Status__c to 'Approved - Processing'", "System creates related Inventory_Adjustment__c record", "System populates adjustment details from approved offer", "System updates Product inventory fields to reflect destocking", "System creates Price_Book_Entry__c with special destocking price", "System sets effective dates for special pricing", "System generates Task records for warehouse team", "System sends confirmation email to Inventory Manager with summary", "System updates Status__c to 'Active'", "System sets Activation_Date__c to current timestamp"], "preconditions": ["Destocking_Offer__c record Status__c = 'Approved'", "All required approvals are complete", "Final_Approval_Date__c is populated", "Post-approval automation is configured and active"], "postconditions": ["Destocking_Offer__c Status__c is 'Active'", "Inventory_Adjustment__c record is created and linked", "Product inventory levels are updated", "Special pricing is active in price book", "Warehouse tasks are created and assigned", "All stakeholders are notified of active destocking offer", "Activation_Date__c and Expiration_Date__c are set"], "alternative_flows": [{"steps": ["System catches error and logs to Error_Log__c", "System updates Status__c to 'Approved - Error'", "System sends alert to System Administrator", "System creates Case for IT team to investigate", "Administrator resolves issue and manually triggers post-approval flow"], "condition": "Inventory adjustment creation fails"}, {"steps": ["System validates product status before creating adjustment", "System detects inactive product", "System updates Status__c to 'Approved - Product Inactive'", "System sends notification to Inventory Manager", "Manager reviews and either reactivates product or cancels offer"], "condition": "Product is no longer active"}, {"steps": ["System checks current inventory levels", "System detects insufficient quantity", "System updates Status__c to 'Approved - Insufficient Inventory'", "System sends alert to Inventory Manager with current levels", "Manager adjusts quantity and resubmits for approval"], "condition": "Insufficient inventory for destocking quantity"}], "acceptance_criteria": ["GIVEN approved destocking offer WHEN final approval completes THEN system automatically creates Inventory_Adjustment__c record within 1 minute", "GIVEN post-approval processing WHEN inventory adjustment is created THEN Product__c.Available_Quantity__c is updated to reflect destocking", "GIVEN active destocking offer WHEN processing completes THEN Price_Book_Entry__c is created with discounted price and effective dates", "GIVEN post-approval actions WHEN all actions complete successfully THEN Status__c changes to Active", "GIVEN processing error WHEN error occurs THEN system logs error, updates status to Approved - Error, and alerts administrator", "GIVEN successful activation WHEN offer becomes active THEN Inventory Manager receives confirmation email with offer summary and activation details"], "salesforce_components": {"fields": ["Destocking_Offer__c.Status__c", "Destocking_Offer__c.Activation_Date__c", "Destocking_Offer__c.Expiration_Date__c", "Inventory_Adjustment__c.Destocking_Offer__c", "Inventory_Adjustment__c.Adjustment_Quantity__c", "Inventory_Adjustment__c.Adjustment_Type__c", "Product2.Available_Quantity__c", "PricebookEntry.Special_Destocking_Price__c", "PricebookEntry.Effective_Start_Date__c", "PricebookEntry.Effective_End_Date__c"], "objects": ["Destocking_Offer__c", "Inventory_Adjustment__c", "Product2", "PricebookEntry", "Task", "Error_Log__c"], "automation": ["Record-Triggered Flow: Destocking_Post_Approval_Actions", "Apex Class: DestockingInventoryService", "Apex Class: DestockingPricingService", "Email Alert: Notify_Destocking_Activation", "Field Update: Set_Active_Status", "Field Update: Set_Activation_Date", "Process Builder: Create_Warehouse_Tasks"], "ui_components": ["Status indicator showing processing progress", "Related Inventory_Adjustment__c related list", "Related Tasks for warehouse team", "Activation summary section on record page", "Error message banner if processing fails"]}}, {"id": "UC-026-01", "actor": "Sales Agent", "title": "Sales Agent Requests Custom Offer Approval", "main_flow": ["1. Sales Agent navigates to the Order record.", "2. Sales Agent clicks on 'Request Approval' button.", "3. System locks the Order record to prevent further edits.", "4. System sends an approval request to the Sales Manager.", "5. System generates an email notification to the Sales Manager with approval details."], "preconditions": ["Sales Agent has access to the Order object", "Custom Offer details are filled out in the Order record", "Discount percentage is greater than 10%"], "postconditions": ["Approval request is sent to the Sales Manager.", "Order record is locked until approval is granted or rejected."], "alternative_flows": ["A1. If the discount percentage is 10% or less, the approval request is not needed and the order is processed immediately."], "acceptance_criteria": ["Approval request is sent to the correct Sales Manager based on the hierarchy.", "Order record is locked during the approval process.", "Email notification is received by the Sales Manager."], "salesforce_components": {"fields": ["Discount__c", "Approval_Status__c"], "objects": ["Order"], "automation": ["Record-Triggered Flow for locking record", "Email Alert for approval notification"], "ui_components": ["Request Approval button", "Order record page"]}}, {"id": "UC-026-02", "actor": "Sales Manager", "title": "Sales Manager Approves Custom Offer", "main_flow": ["1. Sales Manager opens the approval request email.", "2. Sales Manager clicks on the approval link in the email.", "3. System displays the Order record with details.", "4. Sales Manager selects 'Approve' and adds comments if necessary.", "5. System updates the Approval_Status__c field to 'Approved'.", "6. System unlocks the Order record."], "preconditions": ["Sales Manager receives an approval request email", "Order record is locked for editing"], "postconditions": ["Order record is updated with approval status.", "Sales Agent is notified of the approval or rejection."], "alternative_flows": ["A1. If Sales Manager selects 'Reject', system updates Approval_Status__c to 'Rejected' and sends a notification to the Sales Agent."], "acceptance_criteria": ["Approval status is correctly updated in the Order record.", "Sales Agent receives notification of the approval decision.", "Comments added by the Sales Manager are saved and visible."], "salesforce_components": {"fields": ["Approval_Status__c", "Comments__c"], "objects": ["Order"], "automation": ["Record-Triggered Flow for unlocking record", "Email Alert for notifying Sales Agent"], "ui_components": ["Approval link in email", "Order record approval interface"]}}, {"id": "UC-026-03", "actor": "VP of Sales", "title": "VP of Sales Reviews and Approves High Discount Offers", "main_flow": ["1. VP of Sales receives an email notification for the pending approval.", "2. VP of Sales clicks on the approval link in the email.", "3. System displays the Order record with details.", "4. VP of Sales reviews the discount and comments from the Sales Manager.", "5. VP of Sales selects 'Approve' or 'Reject'.", "6. If approved, system updates Approval_Status__c to 'Approved' and unlocks the Order record."], "preconditions": ["Sales Manager has approved the Order with a discount greater than 15%", "VP of Sales is designated as an approver in the process"], "postconditions": ["Order record is updated with final approval status.", "Sales Manager and Sales Agent are notified of the final decision."], "alternative_flows": ["A1. If VP of Sales selects 'Reject', system updates Approval_Status__c to 'Rejected' and sends a notification to both Sales Manager and Sales Agent."], "acceptance_criteria": ["Final approval status is correctly updated in the Order record.", "Notifications are sent to both Sales Manager and Sales Agent.", "Comments from the VP of Sales are saved and visible."], "salesforce_components": {"fields": ["Approval_Status__c", "VP_Comments__c"], "objects": ["Order"], "automation": ["Record-Triggered Flow for unlocking record", "Email Alert for notifying Sales Manager and Sales Agent"], "ui_components": ["Approval link in email", "Order record approval interface"]}}, {"id": "UC-027-01", "actor": "Sales Representative", "title": "Sales Rep Submits Weekly Sales Forecast", "main_flow": ["1. Sales Rep navigates to the Forecasts tab.", "2. Sales Rep reviews the current pipeline data and forecast estimates.", "3. Sales Rep clicks on the 'Submit Forecast' button.", "4. Sales Rep enters their forecast estimates for revenue and quantities.", "5. Sales Rep submits the forecast for the current period."], "preconditions": ["Sales Rep is logged into Salesforce", "Sales Rep has access to the Forecasts tab", "Current forecast period is open for submission"], "postconditions": ["The submitted forecast is recorded in the system.", "Management can view the submitted forecast for comparison against actual results."], "alternative_flows": ["A1. If the Sales Rep tries to submit without entering estimates, an error message is displayed.", "A2. If the forecast period is closed, a notification is shown indicating that submission is not allowed."], "acceptance_criteria": ["Sales Rep can successfully submit a forecast when all required fields are filled.", "System displays an error message if submission is attempted with missing data.", "Submitted forecasts are visible in the Forecasts tab for management review."], "salesforce_components": {"fields": ["ForecastedRevenue__c", "ForecastedQuantity__c", "ForecastPeriod__c"], "objects": ["ForecastingSubmission", "Opportunity"], "automation": ["Record-Triggered Flow for submission confirmation"], "ui_components": ["Forecasts Tab", "Submit Forecast Button", "Forecast Submission Form"]}}, {"id": "UC-027-02", "actor": "Sales Manager", "title": "Sales Manager Reviews Team's Forecast Submissions", "main_flow": ["1. Sales Manager navigates to the Forecasts tab.", "2. Sales Manager selects the team member's forecast to review.", "3. Sales Manager compares the submitted forecast against the actual pipeline data.", "4. Sales Manager provides feedback or adjustments if necessary.", "5. Sales Manager saves any comments or adjustments made."], "preconditions": ["Sales Manager is logged into Salesforce", "Sales Manager has access to the Forecasts tab", "Team members have submitted their forecasts"], "postconditions": ["Sales Manager's feedback is recorded and associated with the respective forecast submission.", "Team members are notified of any feedback or adjustments."], "alternative_flows": ["A1. If no forecasts have been submitted by team members, a message indicates that there are no submissions to review."], "acceptance_criteria": ["Sales Manager can view all submitted forecasts from team members.", "System allows Sales Manager to provide feedback on each forecast.", "Feedback is saved and linked to the corresponding forecast submission."], "salesforce_components": {"fields": ["Feedback__c", "SubmittedBy__c", "ForecastPeriod__c"], "objects": ["ForecastingSubmission"], "automation": ["Record-Triggered Flow for feedback notifications"], "ui_components": ["Forecasts Tab", "Team Member Forecast List", "Feedback Section"]}}, {"id": "UC-027-03", "actor": "Executive Management", "title": "System Generates Forecast Reports for Executive Management", "main_flow": ["1. Executive Management navigates to the Reports tab.", "2. Executive Management selects the 'Sales Forecast Report' template.", "3. System compiles data from submitted forecasts and actual sales.", "4. Executive Management reviews the generated report.", "5. Executive Management exports the report as needed."], "preconditions": ["Executive Management is logged into Salesforce", "Forecast data is available and has been submitted by sales reps"], "postconditions": ["The forecast report is generated and available for review.", "Executive Management can export the report for external use."], "alternative_flows": ["A1. If no forecast data is available, the system displays a message indicating that no data is present for reporting."], "acceptance_criteria": ["System successfully generates a report with accurate data from submitted forecasts.", "Executive Management can export the report in multiple formats (PDF, Excel).", "System alerts if no data is available for the report."], "salesforce_components": {"fields": ["ForecastedRevenue__c", "ActualRevenue__c", "ForecastPeriod__c"], "objects": ["ForecastingSubmission"], "automation": ["Scheduled Flow for report generation"], "ui_components": ["Reports Tab", "Sales Forecast Report Template", "Export Options"]}}, {"id": "UC-028-01", "actor": "Sales Manager", "title": "Automatic Adjustment of Pipeline Forecasts", "main_flow": ["1. Sales Manager navigates to the Forecasting tab.", "2. System retrieves historical performance data and current conversion rates.", "3. System calculates the forecast adjustment based on the latest conversion rates.", "4. System updates the forecast values automatically.", "5. Sales Manager receives a notification of the updated forecast."], "preconditions": ["Sales Manager has access to the Forecasting tab", "Historical conversion rates are available in the system", "The Pipeline Inspection Flow Chart is enabled"], "postconditions": ["Forecast values are updated based on actual conversion rates.", "Sales Manager is notified of the changes made to the forecasts."], "alternative_flows": ["A1. If historical data is missing, the system alerts the Sales Manager and does not make any adjustments.", "A2. If the adjustment percentage exceeds a predefined threshold, the system prompts the Sales Manager for confirmation before applying the changes."], "acceptance_criteria": ["Forecast adjustments are applied correctly based on the latest conversion rates.", "Sales Manager receives a notification for each adjustment made.", "No adjustments are made if historical data is not available."], "salesforce_components": {"fields": ["Forecast_Value__c", "Conversion_Rate__c", "Adjustment_Percentage__c"], "objects": ["Opportunity", "Forecast"], "automation": ["Record-Triggered Flow"], "ui_components": ["Forecasting Tab", "Notification Banner"]}}, {"id": "UC-028-02", "actor": "Sales Manager", "title": "Review Historical Performance for Forecast Adjustment", "main_flow": ["1. Sales Manager navigates to the Revenue Insights dashboard.", "2. System displays historical performance trends.", "3. Sales Manager reviews the trends and identifies periods of low conversion rates.", "4. Sales Manager decides to adjust the forecast based on the review.", "5. System captures the Sales Manager's input for adjustments."], "preconditions": ["Sales Manager is logged into Salesforce", "Historical performance data is available"], "postconditions": ["Sales Manager has reviewed historical performance data.", "Adjustment recommendations are documented for future reference."], "alternative_flows": ["A1. If the Sales Manager finds no significant trends, they can choose not to adjust the forecast.", "A2. If the Sales Manager identifies an anomaly, they can flag it for further investigation."], "acceptance_criteria": ["Historical performance data is accurately displayed.", "Sales Manager can successfully document their adjustment recommendations.", "System allows for flagging anomalies for review."], "salesforce_components": {"fields": ["Historical_Performance__c", "Adjustment_Notes__c"], "objects": ["Opportunity", "Forecast"], "automation": [], "ui_components": ["Revenue Insights Dashboard", "Historical Trends Chart"]}}, {"id": "UC-028-03", "actor": "Sales Manager", "title": "Notify Sales Team of Forecast Changes", "main_flow": ["1. System detects changes in forecast values.", "2. System compiles a list of affected Sales Team members.", "3. System sends notifications to each Sales Team member about the forecast changes.", "4. Sales Team members acknowledge receipt of notifications."], "preconditions": ["Forecast adjustments have been made", "Sales Team members are assigned to relevant opportunities"], "postconditions": ["Sales Team members are informed of the forecast changes.", "Acknowledgments of notifications are recorded."], "alternative_flows": ["A1. If a Sales Team member does not receive the notification, they can request a resend.", "A2. If a Sales Team member is out of office, the system logs the notification for later review."], "acceptance_criteria": ["All affected Sales Team members receive notifications promptly.", "Acknowledgments are logged correctly in the system.", "Resend requests are handled efficiently."], "salesforce_components": {"fields": ["Forecast_Change_Notification__c", "Acknowledgment_Status__c"], "objects": ["User", "Opportunity"], "automation": ["Email Alert"], "ui_components": ["Notification Center", "Email Template"]}}, {"id": "UC-029-01", "actor": "Sales Representative", "title": "Sales Team Requests Vehicle Valuation", "main_flow": ["1. Sales Representative navigates to the Vehicle Valuation section in Salesforce.", "2. Sales Representative inputs vehicle details such as make, model, year, and VIN.", "3. Sales Representative clicks on 'Request Valuation'.", "4. The system sends an API request to the external trade-in valuation service.", "5. The external service processes the request and returns the valuation.", "6. The system displays the valuation result to the Sales Representative."], "preconditions": ["Sales Representative is logged into Salesforce.", "The vehicle details are available in Salesforce."], "postconditions": ["The vehicle valuation is displayed to the Sales Representative.", "The valuation is logged in the system for future reference."], "alternative_flows": [{"steps": ["1. The system displays an error message indicating the service is unavailable.", "2. Sales Representative can retry the request or save the vehicle details for later."], "condition": "The external service is unavailable."}], "acceptance_criteria": ["The valuation request is successfully sent to the external service.", "The correct valuation is displayed based on the provided vehicle details.", "The system handles service unavailability gracefully."], "salesforce_components": {"fields": ["Make__c", "Model__c", "Year__c", "VIN__c", "Valuation_Amount__c"], "objects": ["Vehicle__c", "Valuation__c"], "automation": ["Record-Triggered Flow to log valuation results"], "ui_components": ["Vehicle Valuation Form", "Valuation Result Display"]}}, {"id": "UC-029-02", "actor": "System", "title": "System Automatically Logs Valuation Results", "main_flow": ["1. The system receives the valuation data from the external service.", "2. The system validates the received data.", "3. The system creates a new Valuation__c record with the received data.", "4. The system associates the Valuation__c record with the corresponding Vehicle__c record."], "preconditions": ["An API response with valuation data is received from the external service."], "postconditions": ["A new Valuation__c record is created and linked to the Vehicle__c record.", "The valuation data is available for reporting and analytics."], "alternative_flows": [{"steps": ["1. The system logs an error message.", "2. The system does not create a Valuation__c record."], "condition": "The received data is incomplete."}], "acceptance_criteria": ["Valuation__c record is created with correct data when the API response is valid.", "No record is created if the API response is incomplete.", "Error logging occurs for incomplete data."], "salesforce_components": {"fields": ["Valuation_Amount__c", "Vehicle__c"], "objects": ["Valuation__c", "Vehicle__c"], "automation": ["Apex Trigger to handle API response"], "ui_components": []}}, {"id": "UC-029-03", "actor": "Sales Representative", "title": "Sales Representative Views Valuation History", "main_flow": ["1. Sales Representative navigates to the Vehicle Valuation History page.", "2. Sales Representative selects a vehicle from the list.", "3. The system displays all associated Valuation__c records for the selected vehicle.", "4. Sales Representative reviews the valuation history."], "preconditions": ["Sales Representative is logged into Salesforce.", "Valuation records exist for the vehicle."], "postconditions": ["Sales Representative has reviewed the valuation history for the vehicle."], "alternative_flows": [{"steps": ["1. The system displays a message indicating no valuation history is available."], "condition": "No valuation records exist for the selected vehicle."}], "acceptance_criteria": ["Valuation history displays correctly for vehicles with records.", "Appropriate message is shown when no records exist."], "salesforce_components": {"fields": ["Valuation_Date__c", "Valuation_Amount__c"], "objects": ["Valuation__c", "Vehicle__c"], "automation": [], "ui_components": ["Valuation History Page", "Valuation List"]}}, {"id": "UC-030-01", "actor": "System Administrator", "title": "Synchronize Trade-In Status from External Valuation Service to Salesforce", "main_flow": ["1. The external valuation service sends a status update for a trade-in.", "2. Salesforce receives the status update via the Connect REST API.", "3. The system validates the incoming data against predefined criteria.", "4. If valid, the trade-in status is updated in the corresponding Salesforce record.", "5. A confirmation message is logged in the system."], "preconditions": ["External valuation service is operational", "Salesforce integration settings are configured", "User has permission to access integration settings"], "postconditions": ["Trade-in status in Salesforce is updated to reflect the external valuation service.", "Error logs are created for any failed synchronization attempts."], "alternative_flows": ["A1. If the data is invalid, log an error message and notify the system administrator.", "A2. If the external service is down, retry the synchronization after a defined interval."], "acceptance_criteria": ["Trade-in status is updated correctly in Salesforce for valid incoming data.", "Error messages are logged for invalid data.", "System retries synchronization if the external service is temporarily unavailable."], "salesforce_components": {"fields": ["Status__c", "External_Reference__c"], "objects": ["Trade_In__c"], "automation": ["Record-Triggered Flow"], "ui_components": ["Integration Settings Page"]}}, {"id": "UC-030-02", "actor": "System Administrator", "title": "Update External Valuation Service with Trade-In Status Changes from Salesforce", "main_flow": ["1. A user updates the trade-in status in Salesforce.", "2. Salesforce triggers an outbound call to the external valuation service.", "3. The system sends the updated trade-in status and relevant details.", "4. The external service acknowledges the update.", "5. A confirmation message is logged in Salesforce."], "preconditions": ["Trade-in record exists in Salesforce", "External valuation service is operational", "User has permission to access the trade-in record"], "postconditions": ["The external valuation service is updated with the new trade-in status.", "Error logs are created for any failed update attempts."], "alternative_flows": ["A1. If the external service is unreachable, log an error message and notify the system administrator.", "A2. If the service returns an error, log the error and revert the status to the previous value."], "acceptance_criteria": ["External valuation service reflects the updated trade-in status correctly.", "Error messages are logged for failed updates.", "System retries the update if the external service is temporarily unavailable."], "salesforce_components": {"fields": ["Status__c", "External_Reference__c"], "objects": ["Trade_In__c"], "automation": ["Record-Triggered Flow"], "ui_components": ["Trade-In Record Page"]}}, {"id": "UC-030-03", "actor": "IT Team", "title": "Monitor Synchronization Status Between Salesforce and External Service", "main_flow": ["1. The IT team accesses the synchronization monitoring dashboard.", "2. The system displays the status of recent synchronization attempts.", "3. The IT team reviews logs for any errors or warnings.", "4. If issues are found, the team investigates and resolves them.", "5. The team documents any changes made to the integration."], "preconditions": ["Integration between Salesforce and external valuation service is established", "User has permission to access monitoring tools"], "postconditions": ["Synchronization status is monitored effectively.", "Any issues are logged and addressed promptly."], "alternative_flows": ["A1. If no recent synchronization attempts are found, log a warning and notify the IT team.", "A2. If the dashboard fails to load, check server connectivity and restart services as needed."], "acceptance_criteria": ["Dashboard displays accurate synchronization status.", "Error logs are generated for any synchronization failures.", "IT team can access and resolve issues in a timely manner."], "salesforce_components": {"fields": ["Last_Sync_Status__c"], "objects": ["Trade_In__c"], "automation": ["Scheduled Flow for Monitoring"], "ui_components": ["Synchronization Monitoring Dashboard"]}}, {"id": "UC-031-01", "actor": "Sales Representative", "title": "User Edits Offer in Shopping Cart", "main_flow": ["1. User navigates to the Shopping Cart Offer Editor.", "2. User selects an existing offer to edit.", "3. User modifies the offer details, including pricing and discounts.", "4. User clicks 'Save' to apply changes.", "5. System updates the offer in real-time and reflects changes in the cart."], "preconditions": ["User is logged into Salesforce", "User has access to the Shopping Cart Offer Editor", "There are existing offers in the shopping cart"], "postconditions": ["The offer is successfully updated in the shopping cart.", "Real-time calculations reflect the updated offer."], "alternative_flows": [{"flow": "Invalid Offer Data", "steps": ["1. User attempts to save an offer with invalid data.", "2. System displays an error message indicating the specific issue.", "3. User corrects the data and retries saving."]}], "acceptance_criteria": ["User can successfully edit and save an offer.", "System displays an error message for invalid data.", "Changes are reflected in the cart within 2 seconds."], "salesforce_components": {"fields": ["Discount__c", "Price__c", "OfferName__c"], "objects": ["Quote", "QuoteLineItem"], "automation": ["Record-Triggered Flow for updating QuoteLineItem"], "ui_components": ["Lightning Web Component for Shopping Cart", "Modal for Offer Editing"]}}, {"id": "UC-031-02", "actor": "Sales Representative", "title": "User Applies Discount to Entire Cart", "main_flow": ["1. User navigates to the Shopping Cart Offer Editor.", "2. User selects the 'Apply Discount' option.", "3. User enters the discount percentage.", "4. User clicks 'Apply Discount'.", "5. System applies the discount to all items in the cart and updates the total price."], "preconditions": ["User is logged into Salesforce", "User has access to the Shopping Cart Offer Editor", "There are items in the shopping cart"], "postconditions": ["All items in the cart reflect the applied discount.", "The total price is updated accordingly."], "alternative_flows": [{"flow": "Discount Exceeds Limit", "steps": ["1. User enters a discount that exceeds the allowable limit.", "2. System displays an error message indicating the limit.", "3. User adjusts the discount and retries."]}], "acceptance_criteria": ["User can apply a valid discount to the entire cart.", "System displays an error message for discounts exceeding limits.", "Total price updates within 2 seconds."], "salesforce_components": {"fields": ["TotalPrice__c", "Discount__c"], "objects": ["Quote", "QuoteLineItem"], "automation": ["Apex Trigger for applying discounts"], "ui_components": ["Discount Input Field", "Apply Discount Button"]}}, {"id": "UC-031-03", "actor": "Sales Representative", "title": "User Deletes an Offer from Shopping Cart", "main_flow": ["1. User navigates to the Shopping Cart Offer Editor.", "2. User selects an offer to delete.", "3. User clicks the 'Delete' button.", "4. System prompts for confirmation.", "5. User confirms the deletion.", "6. System removes the offer from the cart."], "preconditions": ["User is logged into Salesforce", "User has access to the Shopping Cart Offer Editor", "There are offers in the shopping cart"], "postconditions": ["The selected offer is removed from the shopping cart.", "Total price is recalculated."], "alternative_flows": [{"flow": "User Cancels Deletion", "steps": ["1. User is prompted for confirmation.", "2. User clicks 'Cancel'.", "3. System retains the offer in the cart."]}], "acceptance_criteria": ["User can successfully delete an offer.", "System confirms deletion before proceeding.", "Total price updates within 2 seconds after deletion."], "salesforce_components": {"fields": ["OfferId__c"], "objects": ["Quote", "QuoteLineItem"], "automation": ["Record-Triggered Flow for removing QuoteLineItem"], "ui_components": ["Delete Button", "Confirmation Modal"]}}, {"id": "UC-032-01", "actor": "Finance Team Member", "title": "Finance Team Calculates Dynamic Margin for Offer", "main_flow": ["1. The Finance Team Member opens the offer record in Salesforce.", "2. The system retrieves the list of products and services included in the offer.", "3. The system calculates the total cost and total revenue based on the offer composition.", "4. The system computes the margin using the formula: Margin = (Total Revenue - Total Cost) / Total Revenue.", "5. The calculated margin is displayed on the offer record."], "preconditions": ["The offer contains multiple products and services.", "The user has access to the margin calculation tool."], "postconditions": ["The margin is accurately calculated and displayed on the offer record.", "The Finance Team Member can view the margin details."], "alternative_flows": ["A1. If any product or service is missing cost data, the system prompts the user to enter the missing information before proceeding with the calculation.", "A2. If the offer is not saved, the system displays an error message indicating that the margin cannot be calculated."], "acceptance_criteria": ["The margin is calculated correctly for offers with various combinations of products and services.", "The system prompts for missing cost data before calculation.", "The margin displays correctly on the offer record."], "salesforce_components": {"fields": ["Total_Cost__c", "Total_Revenue__c", "Calculated_Margin__c"], "objects": ["Offer__c", "Product__c", "Service__c"], "automation": ["Record-Triggered Flow for margin calculation"], "ui_components": ["Offer Detail Page", "Margin Calculation Button"]}}, {"id": "UC-032-02", "actor": "Finance Team Member", "title": "System Automatically Updates Margin on Offer Change", "main_flow": ["1. The Finance Team Member saves changes to the offer record.", "2. The system detects changes in the offer composition.", "3. The system triggers the margin calculation process.", "4. The system recalculates the margin based on the updated offer composition.", "5. The updated margin is displayed on the offer record."], "preconditions": ["The offer record is already created.", "The user has modified the offer by adding or removing products/services."], "postconditions": ["The margin is updated automatically based on the latest offer composition.", "The Finance Team Member can view the updated margin."], "alternative_flows": ["A1. If the user removes all products/services, the system displays a warning message and does not calculate the margin."], "acceptance_criteria": ["The margin is recalculated correctly upon changes to the offer.", "The system does not calculate the margin if no products/services remain.", "The updated margin displays immediately after saving changes."], "salesforce_components": {"fields": ["Total_Cost__c", "Total_Revenue__c", "Calculated_Margin__c"], "objects": ["Offer__c", "Product__c", "Service__c"], "automation": ["Record-Triggered Flow for automatic margin update"], "ui_components": ["Offer Detail Page"]}}, {"id": "UC-032-03", "actor": "Finance Team Member", "title": "Finance Team Reviews Margin Calculation History", "main_flow": ["1. The Finance Team Member navigates to the margin history section of the offer record.", "2. The system displays a list of previous margin calculations.", "3. The Finance Team Member selects a specific calculation to view details.", "4. The system displays the details of the selected margin calculation, including date, total cost, total revenue, and calculated margin."], "preconditions": ["Margin calculations have been performed on offers."], "postconditions": ["The Finance Team Member can review past margin calculations."], "alternative_flows": ["A1. If no margin calculations exist, the system displays a message indicating that no history is available."], "acceptance_criteria": ["All previous margin calculations are displayed accurately.", "Details of each calculation are accessible and correct.", "The system handles cases with no calculation history gracefully."], "salesforce_components": {"fields": ["Calculation_Date__c", "Total_Cost__c", "Total_Revenue__c", "Calculated_Margin__c"], "objects": ["Offer__c", "Margin_History__c"], "automation": [], "ui_components": ["Margin History Section", "Margin Calculation Detail Modal"]}}, {"id": "UC-033-01", "actor": "Sales Representative", "title": "Sales Team Receives Notification on Lead Status Change", "main_flow": ["1. Sales Representative updates the Lead status to 'Qualified'.", "2. System detects the status change and triggers a notification.", "3. Notification is sent to the Sales Team via email."], "preconditions": ["A Lead record exists in the system", "The Lead status is updated to 'Qualified'"], "postconditions": ["Sales Team receives an email notification about the Lead status change."], "alternative_flows": [{"id": "AF-033-01", "description": "If the email fails to send, log an error in the system."}], "acceptance_criteria": ["Email notification is sent within 5 minutes of status change.", "Email contains the correct Lead details.", "Error log is created if the email fails to send."], "salesforce_components": {"fields": ["Status", "OwnerId", "Email"], "objects": ["Lead"], "automation": ["Record-Triggered Flow"], "ui_components": []}}, {"id": "UC-033-02", "actor": "Sales Manager", "title": "Automated Alert for Opportunity Stage Change", "main_flow": ["1. Sales Manager updates the Opportunity stage to 'Closed Won'.", "2. System detects the stage change and triggers an alert.", "3. Alert is sent to the Sales Manager and Finance Team."], "preconditions": ["An Opportunity record exists in the system", "The Opportunity stage is updated to 'Closed Won'"], "postconditions": ["Sales Manager and Finance Team receive an alert about the Opportunity stage change."], "alternative_flows": [{"id": "AF-033-02", "description": "If the alert fails to send, notify the Sales Manager via a dashboard alert."}], "acceptance_criteria": ["Alert is sent within 10 minutes of stage change.", "Alert contains the correct Opportunity details.", "Dashboard alert is displayed if the notification fails."], "salesforce_components": {"fields": ["StageName", "OwnerId"], "objects": ["Opportunity"], "automation": ["Record-Triggered Flow"], "ui_components": []}}, {"id": "UC-033-03", "actor": "Sales Representative", "title": "Custom Notification for High-Value Deals", "main_flow": ["1. Sales Representative updates the Opportunity stage.", "2. System checks the Opportunity value.", "3. If value is greater than $100,000, trigger a custom notification.", "4. Notification is sent to the Sales Director."], "preconditions": ["An Opportunity record exists with a value greater than $100,000", "The Opportunity stage is updated"], "postconditions": ["Sales Director receives a custom notification for the high-value Opportunity."], "alternative_flows": [{"id": "AF-033-03", "description": "If the notification fails to send, log the incident for review."}], "acceptance_criteria": ["Notification is sent immediately after stage update.", "Notification contains details of the Opportunity value.", "Incident log is created if the notification fails."], "salesforce_components": {"fields": ["Amount", "StageName", "OwnerId"], "objects": ["Opportunity"], "automation": ["Record-Triggered Flow"], "ui_components": []}}, {"id": "UC-034-01", "actor": "Sales Representative", "title": "Sales Rep Generates PDF Quote from Standard Template", "main_flow": ["1. The Sales Representative navigates to the Quote record.", "2. The Sales Representative clicks on the 'Create PDF' button.", "3. The system displays a preview of the PDF document.", "4. The Sales Representative clicks 'Save to Quote' to save the PDF.", "5. The system generates the PDF and saves it to the Quote PDFs related list."], "preconditions": ["Sales Representative is logged into Salesforce.", "A Quote record exists with valid data.", "The Sales Representative has permission to create PDF documents."], "postconditions": ["A PDF document is generated and saved under the Quote PDFs related list.", "The PDF is named according to the format 'QuoteName_V1'."], "alternative_flows": ["1. If the Quote record does not have valid data, the system displays an error message.", "2. If the Sales Representative does not have permission, the system displays a permission error."], "acceptance_criteria": ["The PDF document is generated successfully without errors.", "The PDF document is saved in the correct related list.", "The PDF name follows the specified naming convention."], "salesforce_components": {"fields": ["Name", "TotalAmount", "Status"], "objects": ["Quote", "Quote PDF__c"], "automation": ["Record-Triggered Flow"], "ui_components": ["Create PDF button", "PDF Preview window"]}}, {"id": "UC-034-02", "actor": "Sales Representative", "title": "Sales Rep Generates PDF Quote from Custom Template", "main_flow": ["1. The Sales Representative navigates to the Quote record.", "2. The Sales Representative clicks on the 'Create PDF' dropdown.", "3. The Sales Representative selects a custom template from the list.", "4. The system displays a preview of the PDF document.", "5. The Sales Representative clicks 'Save to Quote' to save the PDF.", "6. The system generates the PDF and saves it to the Quote PDFs related list."], "preconditions": ["Sales Representative is logged into Salesforce.", "A Quote record exists with valid data.", "Custom PDF templates are available.", "The Sales Representative has permission to create PDF documents."], "postconditions": ["A PDF document is generated and saved under the Quote PDFs related list.", "The PDF is named according to the format 'QuoteName_V1'."], "alternative_flows": ["1. If no custom templates are available, the system prompts the user to create one.", "2. If the Sales Representative does not have permission, the system displays a permission error."], "acceptance_criteria": ["The PDF document is generated successfully without errors.", "The PDF document is saved in the correct related list.", "The PDF name follows the specified naming convention."], "salesforce_components": {"fields": ["Name", "TotalAmount", "Status"], "objects": ["Quote", "Quote PDF__c"], "automation": ["Record-Triggered Flow"], "ui_components": ["Create PDF dropdown", "PDF Preview window"]}}, {"id": "UC-034-03", "actor": "Sales Representative", "title": "Sales Rep Emails Generated PDF Quote to Customer", "main_flow": ["1. The Sales Representative navigates to the Quote record.", "2. The Sales Representative locates the Quote PDF in the related list.", "3. The Sales Representative clicks on the 'Email PDF' action.", "4. The system prompts the Sales Representative to enter the customer's email address.", "5. The Sales Representative enters the email address and clicks 'Send'.", "6. The system sends the PDF document to the specified email address."], "preconditions": ["Sales Representative is logged into Salesforce.", "A PDF Quote document exists in the Quote PDFs related list.", "The Sales Representative has permission to email documents."], "postconditions": ["The PDF document is sent to the customer's email address successfully."], "alternative_flows": ["1. If the email address is invalid, the system displays an error message.", "2. If the Sales Representative does not have permission, the system displays a permission error."], "acceptance_criteria": ["The email is sent without errors.", "The PDF document is attached to the email.", "The email is sent to the correct email address."], "salesforce_components": {"fields": ["EmailAddress__c"], "objects": ["Quote", "Quote PDF__c"], "automation": ["Email Action"], "ui_components": ["Email PDF button", "Email prompt window"]}}, {"id": "UC-035-01", "actor": "Marketing Team User", "title": "Generate Document with Dealership Branding", "main_flow": ["1. User navigates to the Document Generation tool.", "2. User selects the dealership from a dropdown list.", "3. User chooses the document type to generate.", "4. User clicks on 'Generate Document'.", "5. System retrieves the selected dealership's branding template.", "6. System generates the document with the dealership's branding."], "preconditions": ["User is logged into Salesforce", "User has access to the Document Generation tool", "Dealership branding templates are configured in the system"], "postconditions": ["A document is generated with the correct dealership branding.", "User receives a confirmation message with a link to the generated document."], "alternative_flows": ["A1. If the selected dealership has no branding template, display an error message: 'No branding template available for the selected dealership.'", "A2. If the user does not have permission to access the Document Generation tool, display an error message: 'You do not have permission to access this tool.'"], "acceptance_criteria": ["Document is generated successfully with the correct branding for the selected dealership.", "Error messages are displayed correctly for alternative flows.", "User can download the generated document."], "salesforce_components": {"fields": ["Branding_Template__c", "Document_Type__c"], "objects": ["Document__c", "Dealership__c"], "automation": ["Record-Triggered Flow for document generation"], "ui_components": ["Dropdown for selecting dealership", "Button for generating document"]}}, {"id": "UC-035-02", "actor": "Marketing Team User", "title": "Update Dealership Branding Template", "main_flow": ["1. User navigates to the Branding Template management section.", "2. User selects a dealership from the list.", "3. User uploads a new branding template file.", "4. User fills in the required fields such as Template Name and Description.", "5. User clicks 'Save'.", "6. System updates the branding template for the selected dealership."], "preconditions": ["User is logged into Salesforce", "User has access to the Branding Template management section"], "postconditions": ["The branding template is updated successfully.", "User receives a confirmation message indicating the update was successful."], "alternative_flows": ["A1. If the uploaded file is not in the correct format, display an error message: 'Invalid file format. Please upload a PDF or image file.'", "A2. If the user does not have permission to update branding templates, display an error message: 'You do not have permission to update this template.'"], "acceptance_criteria": ["Branding template is updated with the new file and details.", "Error messages are displayed correctly for alternative flows.", "User can view the updated branding template in the management section."], "salesforce_components": {"fields": ["Template_File__c", "Template_Name__c", "Description__c"], "objects": ["Branding_Template__c", "Dealership__c"], "automation": ["Record-Triggered Flow for template update"], "ui_components": ["File upload component", "Text fields for template details"]}}, {"id": "UC-035-03", "actor": "Marketing Team User", "title": "View Dealership Branding Templates", "main_flow": ["1. User navigates to the Branding Template management section.", "2. User selects a dealership from the list.", "3. User clicks on 'View Templates'.", "4. System displays a list of all branding templates associated with the selected dealership."], "preconditions": ["User is logged into Salesforce", "User has access to the Branding Template management section"], "postconditions": ["User can see the list of branding templates for the selected dealership."], "alternative_flows": ["A1. If no templates are available for the selected dealership, display a message: 'No branding templates found for this dealership.'", "A2. If the user does not have permission to view branding templates, display an error message: 'You do not have permission to view these templates.'"], "acceptance_criteria": ["List of branding templates is displayed correctly.", "Error messages are displayed correctly for alternative flows."], "salesforce_components": {"fields": ["Template_Name__c", "Template_File__c"], "objects": ["Branding_Template__c", "Dealership__c"], "automation": [], "ui_components": ["List view of branding templates", "Button to view templates"]}}, {"id": "UC-036-01", "actor": "Customer", "title": "Customer Signs Document Electronically", "main_flow": ["1. Customer opens the document in the electronic signature platform.", "2. Customer reviews the document content.", "3. Customer clicks on the 'Sign' button.", "4. Customer enters their signature using a mouse or touchscreen.", "5. Customer confirms the signature.", "6. System saves the signed document and sends a confirmation email to the customer."], "preconditions": ["Customer has received a document requiring signature.", "Customer has access to the electronic signature platform."], "postconditions": ["Document is saved with the customer's electronic signature.", "Confirmation email is sent to the customer."], "alternative_flows": ["A1. If the customer does not have access to the electronic signature platform, display an error message and provide instructions to gain access.", "A2. If the customer cancels the signing process, the document remains unsigned and the system logs the cancellation."], "acceptance_criteria": ["Document is successfully signed and saved within 5 minutes.", "Customer receives confirmation email immediately after signing.", "System logs any cancellations or errors during the signing process."], "salesforce_components": {"fields": ["Signature__c", "Status__c", "Customer_Email__c"], "objects": ["Document__c", "User"], "automation": ["Record-Triggered Flow to send confirmation email after document is signed."], "ui_components": ["Signature Pad", "Document Viewer", "Confirmation Modal"]}}, {"id": "UC-036-02", "actor": "Sales Representative", "title": "Sales Rep Initiates Document for Electronic Signature", "main_flow": ["1. Sales Rep navigates to the relevant Opportunity record.", "2. Sales Rep clicks on 'Send for Signature'.", "3. System generates a document and prepares it for signature.", "4. Sales Rep selects the customer to receive the document.", "5. Sales Rep sends the document via the electronic signature platform."], "preconditions": ["Sales Rep has a document ready for customer signature.", "Sales Rep is logged into Salesforce."], "postconditions": ["Document is sent to the customer for electronic signature.", "Opportunity record is updated with the document status."], "alternative_flows": ["A1. If the document fails to generate, display an error message and log the issue.", "A2. If the customer email is invalid, prompt the Sales Rep to correct the email."], "acceptance_criteria": ["Document is successfully sent within 3 minutes.", "Sales Rep receives a notification once the document is sent.", "Opportunity record reflects the new document status."], "salesforce_components": {"fields": ["Document_Status__c", "Customer_Email__c"], "objects": ["Opportunity", "Document__c"], "automation": ["Record-Triggered Flow to update Opportunity status after document is sent."], "ui_components": ["Opportunity Detail Page", "Send for Signature Button", "Document Generation Modal"]}}, {"id": "UC-036-03", "actor": "Legal Team Member", "title": "Legal Team Reviews Signed Document", "main_flow": ["1. Legal Team Member logs into Salesforce.", "2. Legal Team Member navigates to the signed documents section.", "3. Legal Team Member selects the signed document for review.", "4. Legal Team Member verifies the signature and document content.", "5. Legal Team Member marks the document as 'Reviewed' in the system."], "preconditions": ["Document has been signed by the customer.", "Legal Team Member has access to the document repository."], "postconditions": ["Document is marked as reviewed in the system.", "Legal Team Member's review is logged."], "alternative_flows": ["A1. If the document is missing or not found, display an error message.", "A2. If the signature is invalid, log the issue and notify the Sales Rep."], "acceptance_criteria": ["Document review is completed within 10 minutes.", "System accurately reflects the review status of the document.", "Notifications are sent for any issues found during the review."], "salesforce_components": {"fields": ["Review_Status__c", "Reviewed_By__c"], "objects": ["Document__c", "User"], "automation": ["Record-Triggered Flow to notify stakeholders of review completion."], "ui_components": ["Document Review Page", "Review Status Dropdown", "Notification Panel"]}}, {"id": "UC-037-01", "actor": "System Administrator", "title": "User Access Control Based on Agency Type", "main_flow": ["1. The System Administrator logs into Salesforce.", "2. The administrator navigates to the User Management section.", "3. The administrator selects a user to modify.", "4. The administrator assigns the appropriate profile based on the user's agency type.", "5. The administrator saves the changes."], "preconditions": ["User profiles are defined for each agency type.", "Role hierarchy is established within the organization."], "postconditions": ["User has the correct profile and access rights based on their agency type."], "alternative_flows": ["A1. If the agency type is not defined, display an error message prompting the administrator to define it first."], "acceptance_criteria": ["The user can only access records relevant to their agency type.", "Attempting to access records of other agency types results in an access denied message."], "salesforce_components": {"fields": ["Agency_Type__c", "ProfileId"], "objects": ["User", "Profile"], "automation": ["Record-Triggered Flow"], "ui_components": ["User Management Page"]}}, {"id": "UC-037-02", "actor": "Sales User", "title": "Record-Level Access Based on Role Hierarchy", "main_flow": ["1. The Sales User logs into Salesforce.", "2. The user navigates to the Opportunities tab.", "3. The user attempts to view an opportunity owned by a user in a lower role.", "4. The system checks the role hierarchy.", "5. The system grants access to the opportunity record."], "preconditions": ["User roles are defined and organized in a hierarchy.", "Records are owned by users in different roles."], "postconditions": ["The Sales User can view opportunities according to their role in the hierarchy."], "alternative_flows": ["A1. If the user is not in the role hierarchy, display an error message indicating insufficient permissions."], "acceptance_criteria": ["The user can view records owned by users in roles below them in the hierarchy.", "Access to records owned by users in roles above them is denied."], "salesforce_components": {"fields": ["OwnerId", "RoleId"], "objects": ["Opportunity", "User"], "automation": ["Sharing Rules"], "ui_components": ["Opportunities Tab"]}}, {"id": "UC-037-03", "actor": "System Administrator", "title": "Dynamic Permission Set Assignment", "main_flow": ["1. The System Administrator logs into Salesforce.", "2. The administrator navigates to the Permission Sets section.", "3. The administrator selects a permission set to modify.", "4. The administrator assigns the permission set to users based on their role.", "5. The administrator saves the changes."], "preconditions": ["Permission sets are created for different access levels.", "Users are assigned to roles that require specific permissions."], "postconditions": ["Users have the appropriate permissions based on their roles."], "alternative_flows": ["A1. If the user already has the permission set, display a message indicating no changes are made."], "acceptance_criteria": ["Users can perform actions defined in their assigned permission sets.", "Users without the permission set cannot perform restricted actions."], "salesforce_components": {"fields": ["PermissionSetId", "UserId"], "objects": ["PermissionSet", "User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Permission Sets Page"]}}, {"id": "UC-038-01", "actor": "Salesforce Administrator", "title": "Define User Roles and Permissions", "main_flow": ["1. Administrator navigates to Setup.", "2. Administrator selects 'Roles' to create new user roles.", "3. Administrator assigns permissions to each role based on job functions.", "4. Administrator saves the role settings."], "preconditions": ["Administrator is logged into Salesforce", "User roles have been identified and documented"], "postconditions": ["User roles are defined with appropriate permissions in the system."], "alternative_flows": ["A1. If the role already exists, the administrator updates the existing role permissions instead of creating a new one."], "acceptance_criteria": ["Roles are successfully created or updated in the system.", "Permissions assigned to roles match the documented requirements."], "salesforce_components": {"fields": ["Name", "Permissions"], "objects": ["User", "Role"], "automation": [], "ui_components": ["Setup Menu", "Role Management Interface"]}}, {"id": "UC-038-02", "actor": "Salesforce Administrator", "title": "Assign Permission Sets to Users", "main_flow": ["1. Administrator navigates to a User record.", "2. Administrator selects 'Permission Sets' related list.", "3. Administrator assigns the appropriate permission sets to the user.", "4. Administrator saves the changes."], "preconditions": ["Administrator is logged into Salesforce", "Users have been created in the system"], "postconditions": ["Users have the correct permission sets assigned based on their roles."], "alternative_flows": ["A1. If the user does not have the required permission set, the administrator creates a new permission set before assignment."], "acceptance_criteria": ["Permission sets are successfully assigned to users.", "Users can access features as per their assigned permission sets."], "salesforce_components": {"fields": ["UserId", "PermissionSetId"], "objects": ["User", "PermissionSet"], "automation": [], "ui_components": ["User Record Page", "Permission Set Assignment Interface"]}}, {"id": "UC-038-03", "actor": "Salesforce Administrator", "title": "Implement Role Hierarchy for Data Access", "main_flow": ["1. Administrator navigates to Setup.", "2. Administrator selects 'Role Hierarchy'.", "3. Administrator creates a hierarchy based on organizational structure.", "4. Administrator assigns users to their respective roles in the hierarchy.", "5. Administrator saves the role hierarchy."], "preconditions": ["Administrator is logged into Salesforce", "User roles and profiles have been defined"], "postconditions": ["Role hierarchy is established, allowing for cascading access permissions."], "alternative_flows": ["A1. If a user needs to be reassigned to a different role, the administrator updates the user's role in the hierarchy."], "acceptance_criteria": ["Role hierarchy is visible in the system.", "Users can access records according to their role in the hierarchy."], "salesforce_components": {"fields": ["RoleId", "UserId"], "objects": ["User", "Role"], "automation": [], "ui_components": ["Role Hierarchy Interface"]}}, {"id": "UC-038-04", "actor": "IT Security Officer", "title": "Conduct Regular Audits of User Permissions", "main_flow": ["1. IT Security Officer logs into Salesforce.", "2. Officer navigates to the 'Users' report.", "3. Officer reviews user permissions against documented roles.", "4. Officer identifies discrepancies and documents findings.", "5. Officer updates permissions as necessary."], "preconditions": ["Audit schedule is established", "User roles and permissions are documented"], "postconditions": ["User permissions are aligned with organizational policies."], "alternative_flows": ["A1. If discrepancies are found, the officer escalates the issue to the administrator for resolution."], "acceptance_criteria": ["Audit report is generated and discrepancies are documented.", "Permissions are updated based on audit findings."], "salesforce_components": {"fields": ["UserId", "PermissionSetId"], "objects": ["User", "PermissionSet"], "automation": [], "ui_components": ["User Reports", "Permission Audit Interface"]}}, {"id": "UC-039-01", "actor": "Sales Representative", "title": "User Views Opportunities Based on Role Permissions", "main_flow": ["1. User navigates to the Opportunities tab.", "2. System retrieves opportunities based on user's role permissions.", "3. User views the list of opportunities they have access to."], "preconditions": ["User is logged into Salesforce", "User has a defined role with specific permissions"], "postconditions": ["User can only see opportunities they have permission to view.", "System logs the access attempt for auditing purposes."], "alternative_flows": ["1. If no opportunities are available, display a message indicating no access.", "2. If user attempts to access an opportunity outside their permissions, display an error message."], "acceptance_criteria": ["User can view opportunities that are assigned to their role.", "User cannot view opportunities that are restricted based on their permissions.", "System displays appropriate error messages for unauthorized access."], "salesforce_components": {"fields": ["Opportunity.Name", "Opportunity.Stage", "Opportunity.OwnerId"], "objects": ["Opportunity", "User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Opportunities List View"]}}, {"id": "UC-039-02", "actor": "Salesforce Administrator", "title": "Admin Configures Opportunity Visibility Settings", "main_flow": ["1. Admin navigates to Setup.", "2. Admin selects Roles and Permission Sets.", "3. Admin modifies visibility settings for opportunities based on roles.", "4. Admin saves the changes."], "preconditions": ["Admin is logged into Salesforce", "Admin has permissions to modify role and permission settings"], "postconditions": ["Opportunity visibility settings are updated based on admin configurations.", "All affected users are notified of changes in visibility."], "alternative_flows": ["1. If the admin tries to set visibility that exceeds the parent role, display an error message.", "2. If changes are saved successfully, display a confirmation message."], "acceptance_criteria": ["Admin can successfully update visibility settings for opportunities.", "System reflects the updated visibility settings for all applicable users.", "Error messages are displayed for invalid configurations."], "salesforce_components": {"fields": ["PermissionSet.Name", "Role.Name"], "objects": ["Opportunity", "User", "PermissionSet"], "automation": ["Record-Triggered Flow"], "ui_components": ["Setup Menu", "Permission Set Configuration"]}}, {"id": "UC-039-03", "actor": "Sales Representative", "title": "User Attempts to Access Restricted Opportunity", "main_flow": ["1. User navigates to a specific opportunity.", "2. System checks user permissions against opportunity visibility.", "3. If access is denied, system displays an error message."], "preconditions": ["User is logged into Salesforce", "User has a defined role with limited permissions"], "postconditions": ["User is informed of access restrictions.", "System logs the access attempt for auditing purposes."], "alternative_flows": ["1. If user has access, display the opportunity details.", "2. If user tries to access multiple restricted opportunities, log each access attempt."], "acceptance_criteria": ["User receives an error message when attempting to access restricted opportunities.", "Access attempts are logged correctly in the system.", "System does not display any opportunity details to unauthorized users."], "salesforce_components": {"fields": ["Opportunity.Name", "Opportunity.OwnerId"], "objects": ["Opportunity", "User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Opportunity Detail Page"]}}, {"id": "UC-040-01", "actor": "Inventory Manager", "title": "Synchronize Inventory Data from DMS", "main_flow": ["1. The Inventory Manager logs into Salesforce.", "2. The Inventory Manager navigates to the Inventory Synchronization dashboard.", "3. The Inventory Manager clicks on the 'Synchronize Now' button.", "4. The system triggers the synchronization process with the DMS.", "5. The system retrieves the latest inventory data from the DMS.", "6. The system updates the Inventory records in Salesforce with the retrieved data.", "7. The system displays a success message indicating the synchronization is complete."], "preconditions": ["The Inventory Management system is connected to the Dealer Management System (DMS).", "The user has the necessary permissions to initiate synchronization."], "postconditions": ["The inventory data in Salesforce is updated with the latest information from the DMS.", "A synchronization log is created for auditing purposes."], "alternative_flows": [{"steps": ["1. The system displays an error message indicating the connection issue.", "2. The Inventory Manager is prompted to check the connection settings."], "condition": "The synchronization fails due to a connection issue."}, {"steps": ["1. The system logs the issue and notifies the Inventory Manager.", "2. The Inventory Manager is prompted to review the data and contact DMS support."], "condition": "The DMS returns outdated inventory data."}], "acceptance_criteria": ["Inventory data is updated within 5 minutes of initiating synchronization.", "Error messages are displayed for any failures during synchronization.", "A log entry is created for each synchronization attempt."], "salesforce_components": {"fields": ["Inventory_Quantity__c", "Last_Synchronized__c", "DMS_Status__c"], "objects": ["Inventory__c", "DMS_Connection__c"], "automation": ["Record-Triggered Flow for synchronization process"], "ui_components": ["Inventory Synchronization dashboard", "Synchronize Now button", "Success/Error message alerts"]}}, {"id": "UC-040-02", "actor": "Inventory Manager", "title": "View Synchronization History", "main_flow": ["1. The Inventory Manager navigates to the Inventory Synchronization dashboard.", "2. The Inventory Manager clicks on the 'View History' button.", "3. The system displays a list of previous synchronization attempts.", "4. The Inventory Manager selects a specific synchronization entry to view details.", "5. The system displays detailed information about the selected synchronization attempt."], "preconditions": ["The Inventory Manager is logged into Salesforce.", "There is existing synchronization history data."], "postconditions": ["The Inventory Manager can view detailed synchronization history."], "alternative_flows": [{"steps": ["1. The system displays a message indicating that no history is available."], "condition": "No synchronization history is available."}], "acceptance_criteria": ["Synchronization history is displayed within 3 seconds.", "Details for each synchronization attempt include date, status, and any errors."], "salesforce_components": {"fields": ["Synchronization_Date__c", "Status__c", "Error_Message__c"], "objects": ["Synchronization_History__c"], "automation": [], "ui_components": ["Synchronization History list", "Details modal for synchronization entry"]}}, {"id": "UC-040-03", "actor": "System", "title": "Notify Inventory Manager of Synchronization Errors", "main_flow": ["1. The system identifies an error during the synchronization process.", "2. The system logs the error details.", "3. The system sends an email notification to the Inventory Manager.", "4. The Inventory Manager receives the notification with error details."], "preconditions": ["The system has detected an error during synchronization."], "postconditions": ["The Inventory Manager is informed of any synchronization errors."], "alternative_flows": [{"steps": ["1. The system logs the failure to send the notification.", "2. The system displays an alert in the Inventory Manager's dashboard."], "condition": "The email notification fails to send."}], "acceptance_criteria": ["Email notifications are sent within 1 minute of error detection.", "Error details in the notification are accurate and complete."], "salesforce_components": {"fields": [], "objects": [], "automation": ["Apex Trigger for error detection and notification"], "ui_components": ["Dashboard alert for synchronization errors"]}}, {"id": "UC-041-01", "actor": "Finance Team Member", "title": "Finance Team Initiates Invoice Data Exchange", "main_flow": ["1. User navigates to the Invoice Management tab.", "2. User selects 'Exchange Invoicing Data' option.", "3. System retrieves the latest invoicing data from DMS.", "4. User reviews the retrieved data for accuracy.", "5. User confirms the data exchange.", "6. System updates the invoice records in Salesforce."], "preconditions": ["User is logged into Salesforce.", "User has permissions to access Invoice Management.", "DMS integration is configured and active."], "postconditions": ["Invoicing data is successfully exchanged and updated in Salesforce.", "System logs the data exchange activity for auditing."], "alternative_flows": ["A1. If the data retrieval fails, the system displays an error message and prompts the user to retry.", "A2. If the user finds discrepancies in the data, they can cancel the exchange and report the issue."], "acceptance_criteria": ["Invoice data is updated in Salesforce within 5 minutes of exchange initiation.", "Error messages are displayed in case of data retrieval failures.", "Audit logs reflect the successful exchange of data."], "salesforce_components": {"fields": ["Invoice_Number__c", "Status__c", "Amount__c"], "objects": ["Invoice__c", "DMS_Integration__c"], "automation": ["Record-Triggered Flow for data exchange"], "ui_components": ["Invoice Management Tab", "Data Exchange Button"]}}, {"id": "UC-041-02", "actor": "System", "title": "Automated Invoice Generation from DMS Data", "main_flow": ["1. System triggers the scheduled job for invoice generation.", "2. System retrieves billing schedules from Salesforce.", "3. System generates invoices based on the retrieved schedules.", "4. System updates the status of generated invoices to 'Posted'.", "5. System sends notifications to the Finance Team about the generated invoices."], "preconditions": ["DMS integration is active.", "Billing schedules are configured in Salesforce."], "postconditions": ["Invoices are generated and posted in Salesforce.", "Notifications are sent to the Finance Team."], "alternative_flows": ["A1. If invoice generation fails, the system logs the error and sends a notification to the admin."], "acceptance_criteria": ["Invoices are generated for all active billing schedules.", "Invoices are posted within the scheduled time frame.", "Error logs are created for any failed invoice generation attempts."], "salesforce_components": {"fields": ["Invoice_Number__c", "Status__c", "Generated_Date__c"], "objects": ["Invoice__c", "Billing_Schedule__c"], "automation": ["Scheduled Flow for invoice generation"], "ui_components": ["Invoice Generation Log"]}}, {"id": "UC-041-03", "actor": "Finance Team Member", "title": "Finance Team Reviews and Approves Invoices", "main_flow": ["1. User navigates to the Invoices tab.", "2. User selects 'Pending Approval' invoices.", "3. User reviews invoice details including amounts and billing information.", "4. User approves or rejects the invoice.", "5. System updates the invoice status accordingly."], "preconditions": ["User is logged into Salesforce.", "User has permissions to review invoices."], "postconditions": ["Invoice status is updated to 'Approved' or 'Rejected'.", "Comments for rejections are logged."], "alternative_flows": ["A1. If the user rejects the invoice, they must provide a reason for rejection.", "A2. If the invoice details are incorrect, the user can send it back for corrections."], "acceptance_criteria": ["All invoices are reviewed within 24 hours of submission.", "Rejection reasons are logged for all rejected invoices.", "Status updates are reflected in the Invoice Management dashboard."], "salesforce_components": {"fields": ["Status__c", "Approval_Comments__c"], "objects": ["Invoice__c"], "automation": ["Record-Triggered Flow for status updates"], "ui_components": ["Invoices Tab", "Approval Button"]}}, {"id": "UC-042-01", "actor": "Operations Team Member", "title": "Synchronize Delivery Status from DMS to Salesforce", "main_flow": ["1. User initiates the synchronization process from the Salesforce interface.", "2. System connects to the DMS API.", "3. System retrieves the latest delivery status updates.", "4. System updates the corresponding Delivery Status field in Salesforce.", "5. System logs the synchronization activity in the system audit trail."], "preconditions": ["User is logged into Salesforce.", "DMS system is operational and accessible.", "Delivery records exist in the DMS system."], "postconditions": ["Delivery status in Salesforce is updated with the latest information from the DMS.", "Synchronization activity is logged for audit purposes."], "alternative_flows": ["A1: If the DMS API is down, the system displays an error message and logs the failure.", "A2: If no delivery records are found, the system notifies the user with a message indicating no updates."], "acceptance_criteria": ["Delivery status updates are reflected in the Salesforce Delivery Status field within 5 minutes of the DMS update.", "Error messages are displayed for any failed synchronization attempts.", "Audit logs correctly reflect all synchronization activities."], "salesforce_components": {"fields": ["Delivery_Status__c", "Last_Synced__c"], "objects": ["Delivery__c"], "automation": ["Record-Triggered Flow for updating Delivery Status"], "ui_components": ["Custom button to initiate synchronization", "Notification component for error messages"]}}, {"id": "UC-042-02", "actor": "Operations Team Member", "title": "View Delivery Tracking Information in Salesforce", "main_flow": ["1. User navigates to the Delivery Records page in Salesforce.", "2. User selects a specific delivery record to view details.", "3. System displays the delivery tracking information including status and timestamps.", "4. User can refresh the tracking information to get the latest updates."], "preconditions": ["User is logged into Salesforce.", "Delivery records exist in Salesforce."], "postconditions": ["User successfully views the latest tracking information for the selected delivery."], "alternative_flows": ["A1: If no delivery record is found, the system displays a message indicating no records available."], "acceptance_criteria": ["Delivery tracking information is displayed accurately for each selected record.", "Refresh functionality updates the tracking information without errors."], "salesforce_components": {"fields": ["Tracking_Number__c", "Delivery_Status__c", "Estimated_Arrival__c"], "objects": ["Delivery__c"], "automation": [], "ui_components": ["Data Table for displaying delivery records", "Refresh button for updating tracking information"]}}, {"id": "UC-042-03", "actor": "Salesforce System", "title": "Notify Operations Team of Delivery Status Changes", "main_flow": ["1. System detects a change in delivery status via the Record-Triggered Flow.", "2. System prepares a notification message detailing the changes.", "3. System sends email notifications to all subscribed Operations Team members.", "4. System logs the notification activity for auditing."], "preconditions": ["Delivery records are updated in Salesforce.", "User has subscribed to delivery status notifications."], "postconditions": ["All subscribed team members receive notifications of delivery status changes."], "alternative_flows": ["A1: If the email fails to send, the system logs the error and retries sending after a specified interval."], "acceptance_criteria": ["Notifications are sent within 2 minutes of status changes.", "All subscribed users receive the notification without errors.", "Audit logs reflect all notification activities accurately."], "salesforce_components": {"fields": [], "objects": [], "automation": ["Record-Triggered Flow for detecting status changes", "Email Alert for sending notifications"], "ui_components": []}}, {"id": "UC-043-01", "actor": "Sales Manager", "title": "Sales Manager Views Real-Time Lead Conversion Metrics", "main_flow": ["1. Sales Manager navigates to the Dashboards tab.", "2. Sales Manager selects the Real-Time Lead Conversion Dashboard.", "3. System displays the dashboard with current lead conversion metrics.", "4. Sales Manager reviews the metrics displayed, including conversion rates and time to convert."], "preconditions": ["Sales Manager is logged into Salesforce", "Real-time Lead Conversion Dashboard is available"], "postconditions": ["Sales Manager successfully views the real-time lead conversion metrics."], "alternative_flows": ["A1. If the dashboard fails to load, display an error message indicating a loading issue.", "A2. If the Sales Manager does not have access to the dashboard, display a permission error message."], "acceptance_criteria": ["Dashboard loads within 5 seconds.", "All metrics are accurately displayed based on the latest data.", "Sales Manager can view metrics for the current day, week, and month."], "salesforce_components": {"fields": ["Lead.Status", "Opportunity.Stage", "Lead.ConvertedDate"], "objects": ["Lead", "Opportunity"], "automation": ["Record-Triggered Flow to update dashboard metrics in real-time"], "ui_components": ["Dashboard", "Charts", "Metric Widgets"]}}, {"id": "UC-043-02", "actor": "Sales Manager", "title": "Sales Manager Sets Alerts for Low Conversion Rates", "main_flow": ["1. Sales Manager navigates to the Real-Time Lead Conversion Dashboard.", "2. Sales Manager identifies a metric indicating a low conversion rate.", "3. Sales Manager clicks on the 'Set Alert' button next to the metric.", "4. System prompts Sales Manager to define alert criteria.", "5. Sales Manager sets the threshold for the alert and saves the configuration."], "preconditions": ["Sales Manager is logged into Salesforce", "Real-time Lead Conversion Dashboard is available"], "postconditions": ["Alert is successfully set for low conversion rates."], "alternative_flows": ["A1. If the Sales Manager cancels the alert setup, the system returns to the dashboard without saving changes.", "A2. If the threshold value is invalid, display a validation error message."], "acceptance_criteria": ["Sales Manager receives a confirmation message upon setting the alert.", "Alert triggers when the conversion rate falls below the defined threshold.", "Sales Manager can view and edit existing alerts."], "salesforce_components": {"fields": ["Alert__c.Threshold_Value__c", "Alert__c.Metric_Name__c", "Alert__c.Is_Active__c"], "objects": ["Lead", "Alert__c"], "automation": ["Record-Triggered Flow to send notifications when alert criteria are met"], "ui_components": ["Alert Configuration Modal", "Dashboard"]}}, {"id": "UC-043-03", "actor": "Sales Manager", "title": "Sales Manager Analyzes Historical Lead Conversion Data", "main_flow": ["1. Sales Manager navigates to the Dashboards tab.", "2. Sales Manager selects the Historical Lead Conversion Dashboard.", "3. System displays historical conversion metrics over time.", "4. Sales Manager uses filters to analyze specific time periods and lead sources.", "5. Sales Manager exports the data for further analysis."], "preconditions": ["Sales Manager is logged into Salesforce", "Historical Lead Conversion Data is available"], "postconditions": ["Sales Manager successfully analyzes and exports historical lead conversion data."], "alternative_flows": ["A1. If the dashboard fails to load, display an error message indicating a loading issue.", "A2. If no historical data is available for selected filters, display a message indicating no results."], "acceptance_criteria": ["Historical data loads within 5 seconds.", "Filters accurately reflect the selected time periods and lead sources.", "Exported data is in CSV format and includes all selected metrics."], "salesforce_components": {"fields": ["Lead.CreatedDate", "Opportunity.CloseDate", "Opportunity.Stage"], "objects": ["Lead", "Opportunity"], "automation": ["Scheduled Flow to aggregate historical data for the dashboard"], "ui_components": ["Dashboard", "Export Button", "Filter Options"]}}, {"id": "UC-044-01", "actor": "Sales Manager", "title": "Generate Alert for Sales Threshold Breach", "main_flow": ["1. Sales Manager logs into Salesforce.", "2. Sales Manager navigates to the Alert Configuration page.", "3. Sales Manager sets threshold values for key metrics (e.g., sales volume, lead conversion rate).", "4. The system monitors the defined metrics in real-time.", "5. When a metric breaches the defined threshold, the system generates an alert.", "6. The Sales Manager receives a notification via Salesforce Chatter and email."], "preconditions": ["Threshold values for key metrics are defined in the system.", "Sales Manager has access to the alert settings."], "postconditions": ["An alert is generated and sent to the Sales Manager.", "Alert details are logged in the system for future reference."], "alternative_flows": ["A1: If the threshold values are not set correctly, the system displays an error message.", "A2: If the Sales Manager does not receive the alert, they can check the alert logs for any issues."], "acceptance_criteria": ["Alerts are generated correctly when metrics breach thresholds.", "Sales Manager receives notifications within 5 minutes of threshold breach.", "Alert logs are accessible and show correct timestamp and metric details."], "salesforce_components": {"fields": ["Threshold_Value__c", "Current_Value__c", "Alert_Status__c"], "objects": ["Alert__c", "Sales_Metric__c"], "automation": ["Record-Triggered Flow to generate alert", "Scheduled Flow to monitor metrics"], "ui_components": ["Alert Configuration Page", "Chatter Notification Component"]}}, {"id": "UC-044-02", "actor": "Sales Manager", "title": "View Historical Alert Data", "main_flow": ["1. Sales Manager logs into Salesforce.", "2. Sales Manager navigates to the Alert History page.", "3. Sales Manager filters alerts by date range and metric type.", "4. The system displays a list of alerts matching the criteria.", "5. Sales Manager selects an alert to view detailed information."], "preconditions": ["Alerts have been generated in the system.", "Sales Manager has access to the alert history."], "postconditions": ["Sales Manager views historical alert data.", "Sales Manager can analyze trends based on past alerts."], "alternative_flows": ["A1: If no alerts match the criteria, the system displays a message indicating no results found."], "acceptance_criteria": ["Alert history is displayed accurately based on selected filters.", "Details of each alert are accessible and correctly show metric values and timestamps."], "salesforce_components": {"fields": ["Alert_Date__c", "Metric_Type__c", "Threshold_Value__c", "Current_Value__c"], "objects": ["Alert__c"], "automation": [], "ui_components": ["Alert History Page", "Filter Component"]}}, {"id": "UC-044-03", "actor": "Sales Manager", "title": "Configure Alert Notification Preferences", "main_flow": ["1. Sales Manager navigates to Notification Settings.", "2. Sales Manager selects preferred notification methods (e.g., email, Chatter).", "3. Sales Manager saves the changes.", "4. The system confirms the changes and updates the notification preferences."], "preconditions": ["Sales Manager is logged into Salesforce.", "Sales Manager has access to notification settings."], "postconditions": ["Notification preferences are updated successfully.", "Sales Manager receives alerts based on new preferences."], "alternative_flows": ["A1: If the Sales Manager tries to save without selecting a method, an error message is displayed."], "acceptance_criteria": ["Notification preferences are saved correctly.", "Sales Manager receives alerts via chosen methods after configuration."], "salesforce_components": {"fields": ["Notification_Method__c"], "objects": ["User"], "automation": [], "ui_components": ["Notification Settings Page", "Save Button"]}}, {"id": "UC-045-01", "actor": "Sales Manager", "title": "Generate Pipeline Projection Report", "main_flow": ["1. User navigates to the Reports tab.", "2. User selects 'New Report'.", "3. User chooses 'Forecasting Submission' as the report type.", "4. User adds relevant fields such as 'Projected Revenue', 'Close Date', and 'Forecast Category'.", "5. User applies filters to narrow down the report to the desired forecast period.", "6. User clicks 'Run Report' to generate the pipeline projection report."], "preconditions": ["User is logged into Salesforce", "User has access to the Forecasting Submission object", "Historical trending is enabled for forecasting"], "postconditions": ["A pipeline projection report is generated and displayed to the user.", "User can view trends and projections for the selected forecast period."], "alternative_flows": ["A1. If the user does not have access to the Forecasting Submission object, an error message is displayed.", "A2. If no data is available for the selected filters, a message indicating 'No records found' is shown."], "acceptance_criteria": ["The report displays correctly with all selected fields.", "The report filters accurately reflect the user's selections.", "The report can be exported in CSV format."], "salesforce_components": {"fields": ["ProjectedRevenue", "CloseDate", "ForecastCategory"], "objects": ["ForecastingSubmission"], "automation": [], "ui_components": ["Reports Tab", "Filters Panel", "Run Report Button"]}}, {"id": "UC-045-02", "actor": "Sales Executive", "title": "View Historical Trends in Forecasts", "main_flow": ["1. User navigates to the Forecasts tab.", "2. User selects a specific forecast category.", "3. User clicks on 'View Historical Trends'.", "4. User reviews the trends chart showing changes over the last 7 days.", "5. User can hover over chart segments to view detailed insights."], "preconditions": ["User is logged into Salesforce", "User has access to the Forecasts page", "Historical trending is enabled for forecasting"], "postconditions": ["User can visualize historical trends in the selected forecast category.", "User gains insights into recent changes in forecast values."], "alternative_flows": ["A1. If historical trending is not enabled, a message prompts the user to contact the admin.", "A2. If no historical data is available, a message indicating 'No historical data found' is shown."], "acceptance_criteria": ["The trends chart displays data accurately for the selected forecast category.", "Hovering over chart segments provides detailed insights.", "User can switch between different forecast categories without errors."], "salesforce_components": {"fields": ["ForecastCategory", "ForecastValue", "ChangeDate"], "objects": ["ForecastingItem"], "automation": [], "ui_components": ["Forecasts Tab", "Trends Chart", "Hover Tooltips"]}}, {"id": "UC-045-03", "actor": "Sales Director", "title": "Analyze Manager Judgment Values in Forecasts", "main_flow": ["1. User navigates to the Forecasts tab.", "2. User selects 'View Manager Judgment Values'.", "3. User reviews the rolled-up judgment values for all forecast managers.", "4. User identifies opportunities at risk based on judgment amounts.", "5. User can export the data for further analysis."], "preconditions": ["User is logged into Salesforce", "User has access to the Forecasts page", "Manager judgment values are available in the forecast hierarchy"], "postconditions": ["User can analyze manager judgment values effectively.", "User identifies opportunities that may require attention."], "alternative_flows": ["A1. If no judgment values are available, a message indicating 'No judgment values found' is shown.", "A2. If the user does not have access to the manager judgment values, an error message is displayed."], "acceptance_criteria": ["The judgment values are displayed correctly and rolled up as expected.", "User can filter opportunities based on judgment amounts.", "Export functionality works without errors."], "salesforce_components": {"fields": ["ManagerJudgmentValue", "OpportunityId", "ForecastCategory"], "objects": ["ForecastingSubmission", "Opportunity"], "automation": [], "ui_components": ["Forecasts Tab", "Judgment Values Section", "Export Button"]}}, {"id": "UC-046-01", "actor": "End User", "title": "User Changes Language Preference to French", "main_flow": ["1. User navigates to the 'Settings' page.", "2. User selects 'Language Preferences'.", "3. User chooses 'French' from the language dropdown.", "4. User clicks 'Save'.", "5. The system updates the user interface to French."], "preconditions": ["User is logged into the Salesforce application", "User has access to language settings"], "postconditions": ["User interface is displayed in French.", "User's language preference is saved in their profile."], "alternative_flows": ["A1. If the user selects a language not supported, the system displays an error message.", "A2. If the user does not have permission to change language settings, the system displays a warning message."], "acceptance_criteria": ["User can successfully change the language to French.", "All standard UI elements are displayed in French.", "Error messages are displayed correctly for unsupported languages."], "salesforce_components": {"fields": ["Language__c"], "objects": ["User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Settings Page", "Language Dropdown", "Save Button"]}}, {"id": "UC-046-02", "actor": "End User", "title": "User Changes Language Preference to Spanish", "main_flow": ["1. User navigates to the 'Settings' page.", "2. User selects 'Language Preferences'.", "3. User chooses 'Spanish' from the language dropdown.", "4. User clicks 'Save'.", "5. The system updates the user interface to Spanish."], "preconditions": ["User is logged into the Salesforce application", "User has access to language settings"], "postconditions": ["User interface is displayed in Spanish.", "User's language preference is saved in their profile."], "alternative_flows": ["A1. If the user selects a language not supported, the system displays an error message.", "A2. If the user does not have permission to change language settings, the system displays a warning message."], "acceptance_criteria": ["User can successfully change the language to Spanish.", "All standard UI elements are displayed in Spanish.", "Error messages are displayed correctly for unsupported languages."], "salesforce_components": {"fields": ["Language__c"], "objects": ["User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Settings Page", "Language Dropdown", "Save Button"]}}, {"id": "UC-046-03", "actor": "End User", "title": "User Changes Language Preference to English", "main_flow": ["1. User navigates to the 'Settings' page.", "2. User selects 'Language Preferences'.", "3. User chooses 'English' from the language dropdown.", "4. User clicks 'Save'.", "5. The system updates the user interface to English."], "preconditions": ["User is logged into the Salesforce application", "User has access to language settings"], "postconditions": ["User interface is displayed in English.", "User's language preference is saved in their profile."], "alternative_flows": ["A1. If the user selects a language not supported, the system displays an error message.", "A2. If the user does not have permission to change language settings, the system displays a warning message."], "acceptance_criteria": ["User can successfully change the language to English.", "All standard UI elements are displayed in English.", "Error messages are displayed correctly for unsupported languages."], "salesforce_components": {"fields": ["Language__c"], "objects": ["User"], "automation": ["Record-Triggered Flow"], "ui_components": ["Settings Page", "Language Dropdown", "Save Button"]}}, {"id": "UC-047-01", "actor": "Sales Representative", "title": "Sales Team Generates Document in User's Language", "main_flow": ["1. Sales Representative navigates to the Opportunity record.", "2. Sales Representative clicks on the 'Generate Document' button.", "3. System retrieves the user's language preference.", "4. System generates the document using the appropriate language template.", "5. Sales Representative reviews the generated document."], "preconditions": ["Sales Representative is logged into Salesforce.", "User's language preference is set in their profile."], "postconditions": ["Document is generated in the user's preferred language.", "Sales Representative can download or send the document."], "alternative_flows": ["A1. If the user's language preference is not supported, the system defaults to English.", "A2. If document generation fails, the system displays an error message."], "acceptance_criteria": ["Document is generated in the correct language based on user preference.", "System defaults to English if the preferred language is unsupported.", "Error message is displayed if document generation fails."], "salesforce_components": {"fields": ["Language_Preference__c"], "objects": ["Opportunity"], "automation": ["Record-Triggered Flow for document generation"], "ui_components": ["Generate Document button", "Document preview modal"]}}, {"id": "UC-047-02", "actor": "Salesforce System", "title": "System Automatically Adapts Document Language", "main_flow": ["1. System detects an event that triggers document generation.", "2. System retrieves the user's language preference.", "3. System generates the document using the appropriate language template.", "4. System sends the document to the Sales Representative."], "preconditions": ["Document generation is triggered by a specific event.", "User's language preference is set."], "postconditions": ["Document is generated and sent to the Sales Representative in the correct language."], "alternative_flows": ["A1. If the user's language preference is not supported, the system defaults to English.", "A2. If document generation fails, the system logs the error and notifies the admin."], "acceptance_criteria": ["Document is generated in the correct language based on user preference.", "System defaults to English if the preferred language is unsupported.", "Error is logged if document generation fails."], "salesforce_components": {"fields": ["Language_Preference__c"], "objects": ["Opportunity"], "automation": ["Record-Triggered Flow for automatic document generation"], "ui_components": []}}, {"id": "UC-047-03", "actor": "Salesforce Administrator", "title": "Admin Configures Language Templates for Documents", "main_flow": ["1. Admin navigates to the Document Templates setup page.", "2. Admin selects a template to edit.", "3. Admin updates the template content for the desired language.", "4. Admin saves the changes."], "preconditions": ["Admin is logged into Salesforce.", "Admin has permissions to manage document templates."], "postconditions": ["Document template is updated and saved in the specified language."], "alternative_flows": ["A1. If the template update fails, the system displays an error message."], "acceptance_criteria": ["Template updates are reflected in the document generation process.", "Error message is displayed if the update fails."], "salesforce_components": {"fields": ["Language__c", "Template_Content__c"], "objects": ["Document_Template__c"], "automation": [], "ui_components": ["Document Templates setup page", "Edit Template modal"]}}, {"id": "UC-048-01", "actor": "Compliance Team Member", "title": "Track Modifications to Offer Records", "main_flow": ["User modifies an Offer record in Salesforce", "System logs the modification details including user ID, timestamp, and fields changed", "Audit log is updated in the Audit Trail"], "preconditions": ["Audit Logging is enabled in Salesforce Setup", "User has Security Administrator role or appropriate permissions"], "postconditions": ["Modification is recorded in the Audit Trail", "Compliance Team can view the modification details"], "alternative_flows": [{"steps": ["User attempts to modify Offer record", "System displays an error message indicating insufficient permissions"], "condition": "User does not have permission to modify Offer records"}], "acceptance_criteria": ["Audit log entry is created for every modification made to Offer records", "Audit log includes user ID, timestamp, and fields changed", "Unauthorized modification attempts are logged with appropriate error messages"], "salesforce_components": {"fields": ["Modified_By__c", "Modification_Timestamp__c", "Changed_Fields__c"], "objects": ["Offer__c", "Audit_Trail__c"], "automation": ["Record-Triggered Flow for logging modifications"], "ui_components": ["Offer Record Page", "Audit Trail Report"]}}, {"id": "UC-048-02", "actor": "Sales Representative", "title": "Log Pipeline Data Changes", "main_flow": ["User updates a Pipeline record in Salesforce", "System captures the change event and logs it in the Audit Trail", "Audit log entry is created with details of the change"], "preconditions": ["Audit Logging is enabled in Salesforce Setup", "User has permissions to modify Pipeline records"], "postconditions": ["All changes to Pipeline records are logged in the Audit Trail", "Compliance Team can access the logs for review"], "alternative_flows": [{"steps": ["User tries to save changes to the Pipeline record", "System prevents the save and displays an error message"], "condition": "User attempts to update a Pipeline record without permissions"}], "acceptance_criteria": ["Every change to Pipeline records generates an audit log entry", "Audit log includes user ID, timestamp, and details of the changes made", "Unauthorized changes are logged and an error message is displayed"], "salesforce_components": {"fields": ["Modified_By__c", "Modification_Timestamp__c", "Changed_Fields__c"], "objects": ["Pipeline__c", "Audit_Trail__c"], "automation": ["Record-Triggered Flow for logging changes"], "ui_components": ["Pipeline Record Page", "Audit Trail Report"]}}, {"id": "UC-048-03", "actor": "Compliance Team Member", "title": "Retrieve Audit Trail Data", "main_flow": ["User navigates to the Audit Trail report in Salesforce", "User selects the date range for the audit data", "System retrieves and displays the relevant audit logs"], "preconditions": ["Audit Logging is enabled", "User has access to Audit Trail data"], "postconditions": ["User can view the audit logs for the specified date range", "Audit logs can be exported if needed"], "alternative_flows": [{"steps": ["User selects a date range with no logs", "System displays a message indicating no records found"], "condition": "No audit logs exist for the selected date range"}], "acceptance_criteria": ["Audit logs are retrievable for the specified date range", "System displays a message when no logs are found for the selected range", "User can export audit logs in a readable format"], "salesforce_components": {"fields": ["User_ID__c", "Modification_Timestamp__c", "Changed_Fields__c"], "objects": ["Audit_Trail__c"], "automation": ["Scheduled Flow to extract audit data"], "ui_components": ["Audit Trail Report Page", "Date Range Picker"]}}, {"id": "UC-049-01", "actor": "Data Administrator", "title": "Export Project Data for Reversibility", "main_flow": ["1. User navigates to the Data Export section in Salesforce.", "2. User selects the relevant project data to export.", "3. User chooses the export format (CSV, Excel).", "4. User initiates the export process.", "5. System processes the request and generates the export file.", "6. User downloads the export file."], "preconditions": ["User is logged into Salesforce with Data Export permissions", "Project data is available and finalized"], "postconditions": ["Export file is successfully downloaded by the user.", "Data is stored in a portable format for future use."], "alternative_flows": [{"id": "AF-049-01", "steps": ["1. System displays an error message indicating insufficient permissions."], "description": "User does not have sufficient permissions."}, {"id": "AF-049-02", "steps": ["1. System displays an error message indicating the unsupported format."], "description": "Export format is not supported."}], "acceptance_criteria": ["User can successfully export project data in the selected format.", "Export file contains all relevant project data fields.", "User receives confirmation upon successful download."], "salesforce_components": {"fields": ["Name", "Start_Date__c", "End_Date__c", "Status__c"], "objects": ["Project__c", "Data_Export__c"], "automation": ["Record-Triggered Flow for data export"], "ui_components": ["Data Export button", "Export format selection dropdown"]}}, {"id": "UC-049-02", "actor": "Data Administrator", "title": "Revert Project Data to Previous State", "main_flow": ["1. User navigates to the Project Management section.", "2. User selects the project to revert.", "3. User selects the option to restore previous data.", "4. System displays a list of previous versions of the project data.", "5. User selects the desired version to restore.", "6. System updates the project data to the selected version."], "preconditions": ["User is logged into Salesforce with Data Reversion permissions", "Previous project data is available for restoration"], "postconditions": ["Project data is successfully reverted to the selected previous version.", "User is notified of the successful reversion."], "alternative_flows": [{"id": "AF-049-01", "steps": ["1. System displays a message indicating no previous versions exist."], "description": "No previous versions available."}, {"id": "AF-049-02", "steps": ["1. System displays an error message indicating insufficient permissions."], "description": "User does not have sufficient permissions."}], "acceptance_criteria": ["User can view and select from available previous versions.", "Selected version is accurately restored to the project.", "User receives confirmation of the successful reversion."], "salesforce_components": {"fields": ["Name", "Version_Number__c", "Data__c"], "objects": ["Project__c", "Project_Version__c"], "automation": ["Record-Triggered Flow for data reversion"], "ui_components": ["Project selection dropdown", "Version history list"]}}, {"id": "UC-049-03", "actor": "Quality Assurance Tester", "title": "Validate Data Export Process", "main_flow": ["1. User navigates to the Data Export logs.", "2. User selects the recent export job to validate.", "3. System displays the details of the export job.", "4. User verifies the exported data against the source data.", "5. User confirms that all expected fields are present and accurate."], "preconditions": ["User is logged into Salesforce with QA permissions", "Data export process has been initiated"], "postconditions": ["Validation report is generated detailing the export results.", "Any discrepancies are logged for follow-up."], "alternative_flows": [{"id": "AF-049-01", "steps": ["1. User identifies discrepancies in the exported data.", "2. User logs the discrepancies for further investigation."], "description": "Exported data does not match source data."}], "acceptance_criteria": ["User can access and view export job details.", "User can successfully compare exported data to source data.", "Discrepancies are logged accurately for further review."], "salesforce_components": {"fields": ["Export_Date__c", "Status__c", "Discrepancies__c"], "objects": ["Data_Export_Log__c"], "automation": ["Scheduled Flow for log generation"], "ui_components": ["Export log table", "Discrepancy report button"]}}, {"id": "UC-050-01", "actor": "Key User", "title": "Key User Attends Training Session", "main_flow": ["Key user logs into the training portal", "Key user navigates to the scheduled training session", "Key user clicks on 'Join Session'", "Key user participates in the training session", "Key user completes the post-training feedback survey"], "preconditions": ["Training session is scheduled", "Key user has access to the training portal"], "postconditions": ["Key user has attended the training session", "Key user has provided feedback on the training"], "alternative_flows": [{"steps": ["Key user attempts to log in", "System displays an error message", "Key user contacts IT support for assistance"], "description": "Key user cannot access the training portal"}, {"steps": ["System sends a notification to all registered users", "Key user receives the cancellation notice"], "description": "Training session is canceled"}], "acceptance_criteria": ["Key user successfully logs into the training portal", "Key user joins the training session without issues", "Feedback survey is submitted by at least 90% of attendees"], "salesforce_components": {"fields": ["UserId", "SessionDate__c", "FeedbackScore__c"], "objects": ["User", "Training_Session__c", "Feedback__c"], "automation": ["Screen Flow for training registration", "Record-Triggered Flow for feedback collection"], "ui_components": ["Training Session Calendar", "Join Button", "Feedback Survey Form"]}}, {"id": "UC-050-02", "actor": "Administrator", "title": "Admin Schedules Training Session", "main_flow": ["Administrator navigates to the Training Management app", "Administrator selects 'Schedule New Session'", "Administrator fills in session details (date, time, materials)", "Administrator saves the training session", "System sends notifications to all key users"], "preconditions": ["Administrator is logged into Salesforce", "Training materials are prepared"], "postconditions": ["Training session is successfully scheduled", "Notifications are sent to key users"], "alternative_flows": [{"steps": ["Administrator attempts to save the session", "System displays error messages for missing fields"], "description": "Administrator fails to fill in required fields"}], "acceptance_criteria": ["Training session is created with all required details", "All key users receive notification emails within 5 minutes"], "salesforce_components": {"fields": ["SessionDate__c", "SessionTime__c", "Materials__c"], "objects": ["Training_Session__c", "User"], "automation": ["Record-Triggered Flow for notifications"], "ui_components": ["Session Creation Form", "Notification Template"]}}, {"id": "UC-050-03", "actor": "Key User", "title": "Key User Provides Feedback on Training", "main_flow": ["Key user receives a notification to complete the feedback survey", "Key user clicks on the survey link", "Key user fills out the feedback form", "Key user submits the feedback"], "preconditions": ["Key user has attended the training session", "Feedback survey is available"], "postconditions": ["Feedback is recorded in the system", "Key user receives a confirmation of feedback submission"], "alternative_flows": [{"steps": ["Key user checks email and finds no notification", "Key user manually navigates to the feedback form link provided in the training session"], "description": "Key user does not receive feedback notification"}], "acceptance_criteria": ["Feedback form is accessible to all key users", "At least 80% of attendees submit feedback within 48 hours"], "salesforce_components": {"fields": ["UserId", "SessionId__c", "FeedbackScore__c", "Comments__c"], "objects": ["Feedback__c", "Training_Session__c"], "automation": ["Record-Triggered Flow to collect feedback"], "ui_components": ["Feedback Form", "Submission Confirmation Message"]}}, {"id": "UC-051-01", "actor": "IT Team Member", "title": "IT Team Creates Full Sandbox Environment", "main_flow": ["1. IT Team Member logs into Salesforce.", "2. IT Team Member navigates to Setup.", "3. IT Team Member selects 'Sandboxes' under the 'Environments' section.", "4. IT Team Member clicks 'New Sandbox'.", "5. IT Team Member selects 'Full Sandbox' as the type.", "6. IT Team Member names the sandbox and configures settings.", "7. IT Team Member clicks 'Create'.", "8. System initiates the creation of the full sandbox."], "preconditions": ["User has appropriate permissions to create a sandbox", "Salesforce production environment is operational"], "postconditions": ["A new full sandbox is created successfully.", "Sandbox is listed under the 'Sandboxes' section."], "alternative_flows": [{"id": "AF-051-01", "steps": ["1. System displays an error message indicating permission issues."], "description": "Sandbox creation fails due to insufficient permissions."}, {"id": "AF-051-02", "steps": ["1. System displays a generic error message.", "2. IT Team Member contacts Salesforce support."], "description": "Sandbox creation fails due to system error."}], "acceptance_criteria": ["Sandbox is created within the expected time frame (e.g., 30 minutes).", "Sandbox is accessible by the IT Team Member.", "Sandbox data is a complete copy of the production environment."], "salesforce_components": {"fields": ["Name", "Type", "Status"], "objects": ["Sandbox"], "automation": [], "ui_components": ["Setup Menu", "Sandboxes Page"]}}, {"id": "UC-051-02", "actor": "IT Team Member", "title": "IT Team Executes Rapid Rollback Procedure", "main_flow": ["1. IT Team Member logs into Salesforce.", "2. IT Team Member navigates to the 'Sandboxes' section.", "3. IT Team Member selects the full sandbox to rollback.", "4. IT Team Member clicks 'Rollback'.", "5. System prompts for confirmation.", "6. IT Team Member confirms the rollback.", "7. System initiates the rollback process."], "preconditions": ["Full sandbox is created and accessible", "User has appropriate permissions to perform rollback"], "postconditions": ["Sandbox is reverted to the previous stable state.", "All changes made since the last stable state are removed."], "alternative_flows": [{"id": "AF-051-01", "steps": ["1. System displays an error message.", "2. IT Team Member contacts Salesforce support."], "description": "Rollback fails due to system error."}, {"id": "AF-051-02", "steps": ["1. System displays an error message indicating permission issues."], "description": "Rollback fails due to insufficient permissions."}], "acceptance_criteria": ["Rollback process completes within the expected time frame (e.g., 15 minutes).", "Sandbox reflects the previous stable state.", "No data loss occurs during the rollback."], "salesforce_components": {"fields": ["Name", "Status", "Rollback Date"], "objects": ["Sandbox"], "automation": [], "ui_components": ["Sandboxes Page", "Rollback Confirmation Dialog"]}}, {"id": "UC-051-03", "actor": "IT Team Member", "title": "IT Team Tests Business Continuity in Sandbox", "main_flow": ["1. IT Team Member logs into the full sandbox.", "2. IT Team Member executes predefined business continuity tests.", "3. IT Team Member documents the results of each test.", "4. IT Team Member identifies any issues encountered during testing.", "5. IT Team Member reports findings to the IT Manager."], "preconditions": ["Full sandbox is created and accessible", "Business continuity testing plan is defined"], "postconditions": ["All tests are documented with results.", "Issues are reported for further investigation."], "alternative_flows": [{"id": "AF-051-01", "steps": ["1. IT Team Member documents the issue.", "2. IT Team Member contacts Salesforce support for resolution."], "description": "Test fails due to system issues."}], "acceptance_criteria": ["All tests are executed as per the testing plan.", "Documentation is complete and submitted within 24 hours.", "Any critical issues are escalated immediately."], "salesforce_components": {"fields": ["Test Name", "Status", "Comments"], "objects": ["Test Results__c"], "automation": ["Record-Triggered Flow"], "ui_components": ["Test Execution Page", "Results Dashboard"]}}]}
